<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>402. ç§»æ‰Kä½æ•°å­—</title>
    <link href="/2020/11/15/402-%E7%A7%BB%E6%8E%89K%E4%BD%8D%E6%95%B0%E5%AD%97/"/>
    <url>/2020/11/15/402-%E7%A7%BB%E6%8E%89K%E4%BD%8D%E6%95%B0%E5%AD%97/</url>
    
    <content type="html"><![CDATA[<h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a><a href="https://leetcode-cn.com/problems/remove-k-digits/">é¢˜ç›®æè¿°</a></h2><p>ç»™å®šä¸€ä¸ªä»¥å­—ç¬¦ä¸²è¡¨ç¤ºçš„éè´Ÿæ•´æ•° <em>num</em>ï¼Œç§»é™¤è¿™ä¸ªæ•°ä¸­çš„ <em>k</em> ä½æ•°å­—ï¼Œä½¿å¾—å‰©ä¸‹çš„æ•°å­—æœ€å°ã€‚</p><p><strong>æ³¨æ„:</strong></p><ul><li><p><em>num</em> çš„é•¿åº¦å°äº 10002 ä¸” â‰¥ <em>kã€‚</em></p></li><li><p><em>num</em> ä¸ä¼šåŒ…å«ä»»ä½•å‰å¯¼é›¶ã€‚</p></li></ul><span id="more"></span><p><strong>ç¤ºä¾‹ 1 :</strong></p><figure class="highlight dart"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><pre><code class="hljs dart">è¾“å…¥: <span class="hljs-built_in">num</span> = <span class="hljs-string">&quot;1432219&quot;</span>, k = <span class="hljs-number">3</span><br>è¾“å‡º: <span class="hljs-string">&quot;1219&quot;</span><br>è§£é‡Š: ç§»é™¤æ‰ä¸‰ä¸ªæ•°å­— <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, å’Œ <span class="hljs-number">2</span> å½¢æˆä¸€ä¸ªæ–°çš„æœ€å°çš„æ•°å­— <span class="hljs-number">1219</span>ã€‚<br></code></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2 :</strong></p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs dart">è¾“å…¥: <span class="hljs-built_in">num</span> = <span class="hljs-string">&quot;10200&quot;</span>, k = <span class="hljs-number">1</span><br>è¾“å‡º: <span class="hljs-string">&quot;200&quot;</span><br>è§£é‡Š: ç§»æ‰é¦–ä½çš„ <span class="hljs-number">1</span> å‰©ä¸‹çš„æ•°å­—ä¸º <span class="hljs-number">200.</span> æ³¨æ„è¾“å‡ºä¸èƒ½æœ‰ä»»ä½•å‰å¯¼é›¶ã€‚<br></code></pre></td></tr></table></figure><p>ç¤ºä¾‹ <strong>3 :</strong></p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs dart">è¾“å…¥: <span class="hljs-built_in">num</span> = <span class="hljs-string">&quot;10&quot;</span>, k = <span class="hljs-number">2</span><br>è¾“å‡º: <span class="hljs-string">&quot;0&quot;</span><br>è§£é‡Š: ä»åŸæ•°å­—ç§»é™¤æ‰€æœ‰çš„æ•°å­—ï¼Œå‰©ä½™ä¸ºç©ºå°±æ˜¯<span class="hljs-number">0</span>ã€‚<br></code></pre></td></tr></table></figure><hr><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><h3 id="è´ªå¿ƒ"><a href="#è´ªå¿ƒ" class="headerlink" title="è´ªå¿ƒ"></a>è´ªå¿ƒ</h3><p>åˆ æ‰å‰<code>k</code>ä¸ªå­—ç¬¦ä¸­çš„æœ€å¤§å­—ç¬¦ï¼Œåˆ <code>k</code>æ¬¡ã€‚</p><p>é”™è¯¯æ ·ä¾‹<code>123</code>ï¼Œ <code>k = 1</code></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">string <span class="hljs-title">removeKdigits</span><span class="hljs-params">(string num, <span class="hljs-type">int</span> k)</span> </span>&#123;<br>        <span class="hljs-type">int</span> n = num.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">visit</span><span class="hljs-params">(n)</span></span>;<br>        <span class="hljs-keyword">auto</span> cmp = [](pair&lt;<span class="hljs-type">char</span>, <span class="hljs-type">int</span>&gt;&amp; x, pair&lt;<span class="hljs-type">char</span>, <span class="hljs-type">int</span>&gt;&amp; y) &#123;<br>            <span class="hljs-keyword">return</span> x.first &lt; y.first;<br>        &#125;;<br>        priority_queue&lt;pair&lt;<span class="hljs-type">char</span>,<span class="hljs-type">int</span>&gt;, vector&lt;pair&lt;<span class="hljs-type">char</span>, <span class="hljs-type">int</span>&gt;&gt;, <span class="hljs-keyword">decltype</span>(cmp)&gt; <span class="hljs-built_in">q</span>(cmp);<br>        <span class="hljs-type">int</span> i = <span class="hljs-number">0</span>, cnt = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">while</span>(i &lt; n || cnt &lt; k) &#123;<br>            <span class="hljs-keyword">if</span>(i &lt; k) &#123;<br>                q.<span class="hljs-built_in">emplace</span>(num[i], i);<br>            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(cnt &lt; k) &#123;<br>                <span class="hljs-keyword">auto</span> t = q.<span class="hljs-built_in">top</span>();<br>                q.<span class="hljs-built_in">pop</span>();<br>                visit[t.second] = <span class="hljs-number">1</span>;<br>                ++cnt;<br>                <span class="hljs-keyword">if</span>(i &lt; n)<br>                q.<span class="hljs-built_in">emplace</span>(num[i], i);<br>            &#125;<br>            ++i;<br>        &#125;<br>        <br>        string res;<br>        <span class="hljs-type">bool</span> flag = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; n;++i) &#123;<br>            <span class="hljs-keyword">if</span>(!visit[i]) &#123;<br>                <span class="hljs-keyword">if</span>(!flag &amp;&amp; num[i] != <span class="hljs-string">&#x27;0&#x27;</span>) &#123;<br>                    flag = <span class="hljs-literal">true</span>;<br>                &#125;<br>                <span class="hljs-keyword">if</span>(flag)<br>                    res.<span class="hljs-built_in">push_back</span>(num[i]);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> res.<span class="hljs-built_in">size</span>() &gt; <span class="hljs-number">0</span>?res:<span class="hljs-string">&quot;0&quot;</span>;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h2 id="è´ªå¿ƒ-1"><a href="#è´ªå¿ƒ-1" class="headerlink" title="è´ªå¿ƒ"></a>è´ªå¿ƒ</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">string <span class="hljs-title">removeKdigits</span><span class="hljs-params">(string num, <span class="hljs-type">int</span> k)</span> </span>&#123;<br>        <span class="hljs-type">int</span> n = num.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-keyword">if</span>(n == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;0&quot;</span>;<br>        vector&lt;<span class="hljs-type">char</span>&gt; s;<br>        <span class="hljs-type">int</span> i = <span class="hljs-number">1</span>, j = <span class="hljs-number">0</span>;<br>        s.<span class="hljs-built_in">push_back</span>(num[<span class="hljs-number">0</span>]);<br>        <span class="hljs-keyword">while</span>(i &lt; n) &#123;<br>            <span class="hljs-keyword">while</span>(j &lt; k &amp;&amp; !s.<span class="hljs-built_in">empty</span>() &amp;&amp; num[i] &lt; s.<span class="hljs-built_in">back</span>()) &#123;<br>                s.<span class="hljs-built_in">pop_back</span>();<br>                ++j;<br>            &#125;<br>            s.<span class="hljs-built_in">push_back</span>(num[i]);<br>            ++i;<br>        &#125;<br>        <span class="hljs-keyword">while</span>(j &lt; k) &#123;<br>            s.<span class="hljs-built_in">pop_back</span>();<br>            j++;<br>        &#125;<br>        <br>        string res;<br>        <span class="hljs-type">bool</span> flag = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; s.<span class="hljs-built_in">size</span>();++i) &#123;<br>            <span class="hljs-keyword">if</span>(!flag &amp;&amp; s[i] != <span class="hljs-string">&#x27;0&#x27;</span>) &#123;<br>                flag = <span class="hljs-literal">true</span>;<br>            &#125;<br>            <span class="hljs-keyword">if</span>(flag) res.<span class="hljs-built_in">push_back</span>(s[i]);<br>        &#125;<br>        <span class="hljs-keyword">return</span> res.<span class="hljs-built_in">size</span>() &gt; <span class="hljs-number">0</span>? res: <span class="hljs-string">&quot;0&quot;</span>;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
      <category>å•è°ƒæ ˆ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ¯æ—¥ä¸€é¢˜</tag>
      
      <tag>LeetCode</tag>
      
      <tag>å­—ç¬¦ä¸²</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1122. æ•°ç»„çš„ç›¸å¯¹æ’åº</title>
    <link href="/2020/11/14/1122-%E6%95%B0%E7%BB%84%E7%9A%84%E7%9B%B8%E5%AF%B9%E6%8E%92%E5%BA%8F/"/>
    <url>/2020/11/14/1122-%E6%95%B0%E7%BB%84%E7%9A%84%E7%9B%B8%E5%AF%B9%E6%8E%92%E5%BA%8F/</url>
    
    <content type="html"><![CDATA[<h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a><a href="https://leetcode-cn.com/problems/relative-sort-array/">é¢˜ç›®æè¿°</a></h2><p>ç»™ä½ ä¸¤ä¸ªæ•°ç»„ï¼Œ<code>arr1</code> å’Œ <code>arr2</code>ï¼Œ</p><ul><li><code>arr2</code> ä¸­çš„å…ƒç´ å„ä¸ç›¸åŒ</li><li><code>arr2</code> ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½å‡ºç°åœ¨ <code>arr1</code> ä¸­</li></ul><p>å¯¹ <code>arr1</code> ä¸­çš„å…ƒç´ è¿›è¡Œæ’åºï¼Œä½¿ <code>arr1</code> ä¸­é¡¹çš„ç›¸å¯¹é¡ºåºå’Œ <code>arr2</code> ä¸­çš„ç›¸å¯¹é¡ºåºç›¸åŒã€‚æœªåœ¨ <code>arr2</code> ä¸­å‡ºç°è¿‡çš„å…ƒç´ éœ€è¦æŒ‰ç…§å‡åºæ”¾åœ¨ <code>arr1</code> çš„æœ«å°¾ã€‚</p> <span id="more"></span><p><strong>ç¤ºä¾‹ï¼š</strong></p><figure class="highlight dns"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><pre><code class="hljs dns">è¾“å…¥ï¼šarr1 = [<span class="hljs-number">2,3,1,3</span>,<span class="hljs-number">2,4,6,7</span>,<span class="hljs-number">9</span>,<span class="hljs-number">2</span>,<span class="hljs-number">19</span>], arr2 = [<span class="hljs-number">2,1,4,3</span>,<span class="hljs-number">9</span>,<span class="hljs-number">6</span>]<br>è¾“å‡ºï¼š[<span class="hljs-number">2,2,2,1</span>,<span class="hljs-number">4,3,3,9</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">19</span>]<br></code></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ul><li><code>arr1.length, arr2.length &lt;= 1000</code></li><li><code>0 &lt;= arr1[i], arr2[i] &lt;= 1000</code></li><li><code>arr2</code> ä¸­çš„å…ƒç´  <code>arr2[i]</code> å„ä¸ç›¸åŒ</li><li><code>arr2</code> ä¸­çš„æ¯ä¸ªå…ƒç´  <code>arr2[i]</code> éƒ½å‡ºç°åœ¨ <code>arr1</code> ä¸­</li></ul><hr><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><ul><li>å°†<code>arr2</code>æ”¾å…¥<code>unordered_set</code>ä¸­ï¼Œå¯ä»¥å¿«é€Ÿè¿›è¡Œ<code>arr1</code>çš„æŸ¥æ‰¾</li><li>ç»Ÿè®¡<code>arr1</code>ä¸­åœ¨<code>arr2</code>å‡ºç°çš„æ¬¡æ•°</li><li>æ²¡æœ‰å‡ºç°çš„æ”¾åœ¨å¦å¤–çš„<code>vector</code>ä¸­</li><li>æœ€åè¿›è¡Œ æ¡¶æ’åº + å¿«é€Ÿæ’åº</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">relativeSortArray</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; arr1, vector&lt;<span class="hljs-type">int</span>&gt;&amp; arr2)</span> </span>&#123;<br>        <span class="hljs-comment">// å“ˆå¸Œè¡¨ç”¨äºå¿«é€ŸæŸ¥æ‰¾</span><br>        <span class="hljs-function">unordered_set&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">s</span><span class="hljs-params">(arr2.begin(), arr2.end())</span></span>;<br>        unordered_map&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; m;<br>        vector&lt;<span class="hljs-type">int</span>&gt; temp;<br>        <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">ans</span><span class="hljs-params">(arr1.size())</span></span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span>&amp; num:arr1) &#123;<br>            <span class="hljs-keyword">if</span>(s.<span class="hljs-built_in">find</span>(num)!=s.<span class="hljs-built_in">end</span>()) &#123;<br>                ++m[num];<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                temp.<span class="hljs-built_in">push_back</span>(num);<br>            &#125;<br>        &#125;<br>        <span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br>        <span class="hljs-built_in">sort</span>(temp.<span class="hljs-built_in">begin</span>(), temp.<span class="hljs-built_in">end</span>());<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span>&amp; num:arr2) &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>;j &lt; m[num];++j) &#123;<br>                ans[i++] = num;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span>&amp; num:temp) &#123;<br>            ans[i++] = num;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
      <category>å“ˆå¸Œ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Leetcode</tag>
      
      <tag>æ¯æ—¥ä¸€é¢˜</tag>
      
      <tag>å“ˆå¸Œ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>328. å¥‡å¶é“¾è¡¨</title>
    <link href="/2020/11/13/328-%E5%A5%87%E5%81%B6%E9%93%BE%E8%A1%A8/"/>
    <url>/2020/11/13/328-%E5%A5%87%E5%81%B6%E9%93%BE%E8%A1%A8/</url>
    
    <content type="html"><![CDATA[<h2 id="328-å¥‡å¶é“¾è¡¨"><a href="#328-å¥‡å¶é“¾è¡¨" class="headerlink" title="328. å¥‡å¶é“¾è¡¨"></a><a href="https://leetcode-cn.com/problems/odd-even-linked-list/">328. å¥‡å¶é“¾è¡¨</a></h2><p>ç»™å®šä¸€ä¸ªå•é“¾è¡¨ï¼ŒæŠŠæ‰€æœ‰çš„å¥‡æ•°èŠ‚ç‚¹å’Œå¶æ•°èŠ‚ç‚¹åˆ†åˆ«æ’åœ¨ä¸€èµ·ã€‚è¯·æ³¨æ„ï¼Œè¿™é‡Œçš„å¥‡æ•°èŠ‚ç‚¹å’Œå¶æ•°èŠ‚ç‚¹æŒ‡çš„æ˜¯èŠ‚ç‚¹ç¼–å·çš„å¥‡å¶æ€§ï¼Œè€Œä¸æ˜¯èŠ‚ç‚¹çš„å€¼çš„å¥‡å¶æ€§ã€‚</p><p>è¯·å°è¯•ä½¿ç”¨åŸåœ°ç®—æ³•å®Œæˆã€‚ä½ çš„ç®—æ³•çš„ç©ºé—´å¤æ‚åº¦åº”ä¸º O(1)ï¼Œæ—¶é—´å¤æ‚åº¦åº”ä¸º O(nodes)ï¼Œnodes ä¸ºèŠ‚ç‚¹æ€»æ•°ã€‚</p><span id="more"></span><p><strong>ç¤ºä¾‹ 1:</strong></p><figure class="highlight clean"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><pre><code class="hljs clean">è¾“å…¥: <span class="hljs-number">1</span>-&gt;<span class="hljs-number">2</span>-&gt;<span class="hljs-number">3</span>-&gt;<span class="hljs-number">4</span>-&gt;<span class="hljs-number">5</span>-&gt;NULL<br>è¾“å‡º: <span class="hljs-number">1</span>-&gt;<span class="hljs-number">3</span>-&gt;<span class="hljs-number">5</span>-&gt;<span class="hljs-number">2</span>-&gt;<span class="hljs-number">4</span>-&gt;NULL<br></code></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2:</strong></p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs clean">è¾“å…¥: <span class="hljs-number">2</span>-&gt;<span class="hljs-number">1</span>-&gt;<span class="hljs-number">3</span>-&gt;<span class="hljs-number">5</span>-&gt;<span class="hljs-number">6</span>-&gt;<span class="hljs-number">4</span>-&gt;<span class="hljs-number">7</span>-&gt;NULL <br>è¾“å‡º: <span class="hljs-number">2</span>-&gt;<span class="hljs-number">3</span>-&gt;<span class="hljs-number">6</span>-&gt;<span class="hljs-number">7</span>-&gt;<span class="hljs-number">1</span>-&gt;<span class="hljs-number">5</span>-&gt;<span class="hljs-number">4</span>-&gt;NULL<br></code></pre></td></tr></table></figure><p><strong>è¯´æ˜:</strong></p><ul><li>åº”å½“ä¿æŒå¥‡æ•°èŠ‚ç‚¹å’Œå¶æ•°èŠ‚ç‚¹çš„ç›¸å¯¹é¡ºåºã€‚</li><li>é“¾è¡¨çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹è§†ä¸ºå¥‡æ•°èŠ‚ç‚¹ï¼Œç¬¬äºŒä¸ªèŠ‚ç‚¹è§†ä¸ºå¶æ•°èŠ‚ç‚¹ï¼Œä»¥æ­¤ç±»æ¨ã€‚</li></ul><hr><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><h4 id="åŒæŒ‡é’ˆ"><a href="#åŒæŒ‡é’ˆ" class="headerlink" title="åŒæŒ‡é’ˆ"></a>åŒæŒ‡é’ˆ</h4><ul><li><code>odd</code>æŒ‡å‘å¥‡æ•°èŠ‚ç‚¹ï¼Œ<code>even</code>æŒ‡å‘å¶æ•°èŠ‚ç‚¹ã€‚</li></ul><p><strong>äº¤æ¢é¡ºåº</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cpp">odd-&gt;next = even-&gt;next;<br>odd = odd-&gt;next;<br>even-&gt;next = odd-&gt;next;<br>even =even-&gt;next;<br></code></pre></td></tr></table></figure><p><strong>ç»“æŸæ¡ä»¶</strong></p><ul><li><code>odd</code>ä¸ºç©ºæˆ–<code>even</code>ä¸ºç©ºï¼Œæ³¨æ„å¾ªç¯ä¸­çš„è¶Šç•Œæ£€æŸ¥</li></ul><p><strong>éœ€è¦ä¿å­˜çš„å˜é‡</strong></p><ul><li><p>å¥‡æ•°é“¾è¡¨çš„ç»“å°¾å’Œå¶æ•°é“¾è¡¨çš„èµ·ç‚¹</p></li><li><p>å¥‡æ•°é“¾è¡¨çš„ç»“å°¾å¯èƒ½ä¸ºç©ºï¼Œä½¿ç”¨<code>preodd</code>å˜é‡æš‚å­˜</p></li><li><p>å¶æ•°é“¾è¡¨çš„èµ·ç‚¹ä¸º<code>head-&gt;next</code>ï¼Œä½¿ç”¨<code>Listnode *const</code>å˜é‡<code>second</code>å­˜å‚¨</p></li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Definition for singly-linked list.</span><br><span class="hljs-comment"> * struct ListNode &#123;</span><br><span class="hljs-comment"> *     int val;</span><br><span class="hljs-comment"> *     ListNode *next;</span><br><span class="hljs-comment"> *     ListNode() : val(0), next(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     ListNode(int x) : val(x), next(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     ListNode(int x, ListNode *next) : val(x), next(next) &#123;&#125;</span><br><span class="hljs-comment"> * &#125;;</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">ListNode* <span class="hljs-title">oddEvenList</span><span class="hljs-params">(ListNode* head)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(head==<span class="hljs-literal">nullptr</span> || head-&gt;next==<span class="hljs-literal">nullptr</span> || head-&gt;next-&gt;next==<span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span> head;<br>        ListNode* odd = head, *even = head-&gt;next, *preodd = <span class="hljs-literal">nullptr</span>;<br>        ListNode *<span class="hljs-type">const</span> second = even;<br>        <span class="hljs-keyword">while</span>(even &amp;&amp; odd) &#123;<br>            odd-&gt;next = even-&gt;next;<br>            preodd = odd;<br>            odd = odd-&gt;next;<br>            <span class="hljs-keyword">if</span>(odd==<span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">break</span>;<br>            even-&gt;next = odd-&gt;next;<br>            even =even-&gt;next;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(odd) &#123;<br>            odd-&gt;next = second;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            preodd-&gt;next = second;<br>        &#125;<br>        <span class="hljs-keyword">return</span> head;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
      <category>é“¾è¡¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ¯æ—¥ä¸€é¢˜</tag>
      
      <tag>LeetCode</tag>
      
      <tag>é“¾è¡¨</tag>
      
      <tag>åŒæŒ‡é’ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>922. æŒ‰å¥‡å¶æ’åºæ•°ç»„ II</title>
    <link href="/2020/11/12/922-%E6%8C%89%E5%A5%87%E5%81%B6%E6%8E%92%E5%BA%8F%E6%95%B0%E7%BB%84-II/"/>
    <url>/2020/11/12/922-%E6%8C%89%E5%A5%87%E5%81%B6%E6%8E%92%E5%BA%8F%E6%95%B0%E7%BB%84-II/</url>
    
    <content type="html"><![CDATA[<h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a><a href="https://leetcode-cn.com/problems/sort-array-by-parity-ii/">é¢˜ç›®æè¿°</a></h2><p>ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„ <code>A</code>ï¼Œ A ä¸­ä¸€åŠæ•´æ•°æ˜¯å¥‡æ•°ï¼Œä¸€åŠæ•´æ•°æ˜¯å¶æ•°ã€‚</p><p>å¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œä»¥ä¾¿å½“ <code>A[i]</code> ä¸ºå¥‡æ•°æ—¶ï¼Œ<code>i</code> ä¹Ÿæ˜¯å¥‡æ•°ï¼›å½“ <code>A[i]</code> ä¸ºå¶æ•°æ—¶ï¼Œ <code>i</code> ä¹Ÿæ˜¯å¶æ•°ã€‚</p><p>ä½ å¯ä»¥è¿”å›ä»»ä½•æ»¡è¶³ä¸Šè¿°æ¡ä»¶çš„æ•°ç»„ä½œä¸ºç­”æ¡ˆã€‚</p> <span id="more"></span><p><strong>ç¤ºä¾‹ï¼š</strong></p><figure class="highlight css"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><pre><code class="hljs css">è¾“å…¥ï¼š<span class="hljs-selector-attr">[4,2,5,7]</span><br>è¾“å‡ºï¼š<span class="hljs-selector-attr">[4,5,2,7]</span><br>è§£é‡Šï¼š<span class="hljs-selector-attr">[4,7,2,5]</span>ï¼Œ<span class="hljs-selector-attr">[2,5,4,7]</span>ï¼Œ<span class="hljs-selector-attr">[2,7,4,5]</span> ä¹Ÿä¼šè¢«æ¥å—ã€‚<br></code></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ol><li><code>2 &lt;= A.length &lt;= 20000</code></li><li><code>A.length % 2 == 0</code></li><li><code>0 &lt;= A[i] &lt;= 1000</code></li></ol><hr><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><h4 id="æ¨¡æ‹Ÿ"><a href="#æ¨¡æ‹Ÿ" class="headerlink" title="æ¨¡æ‹Ÿ"></a>æ¨¡æ‹Ÿ</h4><p>ä½¿ç”¨å¤‡ç”¨æ•°ç»„æš‚å­˜ï¼Œæ—¶é—´å¤æ‚åº¦ $O(N)$ï¼Œç©ºé—´å¤æ‚åº¦ $O(N)$</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">sortArrayByParityII</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; A)</span> </span>&#123;<br>        <span class="hljs-type">int</span> n = A.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">temp0</span><span class="hljs-params">(n/<span class="hljs-number">2</span>)</span>, <span class="hljs-title">temp1</span><span class="hljs-params">(n/<span class="hljs-number">2</span>)</span></span>;<br>        <span class="hljs-type">int</span> j = <span class="hljs-number">0</span>, k = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; n;++i) &#123;<br>            <span class="hljs-keyword">if</span>(A[i]&amp;<span class="hljs-number">1</span>) &#123;<br>                temp1[k++] = A[i];<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                temp0[j++] = A[i];<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; n/<span class="hljs-number">2</span>;++i) &#123;<br>            A[<span class="hljs-number">2</span>*i] = temp0[i];<br>            A[<span class="hljs-number">2</span>*i + <span class="hljs-number">1</span>] = temp1[i];<br>        &#125;<br>        <span class="hljs-keyword">return</span> A;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
      <category>æ¨¡æ‹Ÿ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ¯æ—¥ä¸€é¢˜</tag>
      
      <tag>LeetCode</tag>
      
      <tag>æ¨¡æ‹Ÿ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>514. è‡ªç”±ä¹‹è·¯</title>
    <link href="/2020/11/11/514-%E8%87%AA%E7%94%B1%E4%B9%8B%E8%B7%AF/"/>
    <url>/2020/11/11/514-%E8%87%AA%E7%94%B1%E4%B9%8B%E8%B7%AF/</url>
    
    <content type="html"><![CDATA[<h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a><a href="https://leetcode-cn.com/problems/freedom-trail/">é¢˜ç›®æè¿°</a></h2><p>è§†é¢‘æ¸¸æˆâ€œè¾å°„4â€ä¸­ï¼Œä»»åŠ¡â€œé€šå‘è‡ªç”±â€è¦æ±‚ç©å®¶åˆ°è¾¾åä¸ºâ€œFreedom Trail Ringâ€çš„é‡‘å±è¡¨ç›˜ï¼Œå¹¶ä½¿ç”¨è¡¨ç›˜æ‹¼å†™ç‰¹å®šå…³é”®è¯æ‰èƒ½å¼€é—¨ã€‚</p><p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² <strong>ring</strong>ï¼Œè¡¨ç¤ºåˆ»åœ¨å¤–ç¯ä¸Šçš„ç¼–ç ï¼›ç»™å®šå¦ä¸€ä¸ªå­—ç¬¦ä¸² <strong>key</strong>ï¼Œè¡¨ç¤ºéœ€è¦æ‹¼å†™çš„å…³é”®è¯ã€‚æ‚¨éœ€è¦ç®—å‡ºèƒ½å¤Ÿæ‹¼å†™å…³é”®è¯ä¸­æ‰€æœ‰å­—ç¬¦çš„<strong>æœ€å°‘</strong>æ­¥æ•°ã€‚</p><p>æœ€åˆï¼Œ<strong>ring</strong> çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸12:00æ–¹å‘å¯¹é½ã€‚æ‚¨éœ€è¦é¡ºæ—¶é’ˆæˆ–é€†æ—¶é’ˆæ—‹è½¬ ring ä»¥ä½¿ <strong>key</strong> çš„ä¸€ä¸ªå­—ç¬¦åœ¨ 12:00 æ–¹å‘å¯¹é½ï¼Œç„¶åæŒ‰ä¸‹ä¸­å¿ƒæŒ‰é’®ï¼Œä»¥æ­¤é€ä¸ªæ‹¼å†™å®Œ <strong>key</strong> ä¸­çš„æ‰€æœ‰å­—ç¬¦ã€‚</p><p>æ—‹è½¬ <strong>ring</strong> æ‹¼å‡º key å­—ç¬¦ <strong>key[i]</strong> çš„é˜¶æ®µä¸­ï¼š</p><ol><li><p>æ‚¨å¯ä»¥å°† <strong>ring</strong> é¡ºæ—¶é’ˆæˆ–é€†æ—¶é’ˆæ—‹è½¬<strong>ä¸€ä¸ªä½ç½®</strong>ï¼Œè®¡ä¸º1æ­¥ã€‚æ—‹è½¬çš„æœ€ç»ˆç›®çš„æ˜¯å°†å­—ç¬¦ä¸² <strong>ring</strong> çš„ä¸€ä¸ªå­—ç¬¦ä¸ 12:00 æ–¹å‘å¯¹é½ï¼Œå¹¶ä¸”è¿™ä¸ªå­—ç¬¦å¿…é¡»ç­‰äºå­—ç¬¦ <strong>key[i] ã€‚</strong></p></li><li><p>å¦‚æœå­—ç¬¦ <strong>key[i]</strong> å·²ç»å¯¹é½åˆ°12:00æ–¹å‘ï¼Œæ‚¨éœ€è¦æŒ‰ä¸‹ä¸­å¿ƒæŒ‰é’®è¿›è¡Œæ‹¼å†™ï¼Œè¿™ä¹Ÿå°†ç®—ä½œ <strong>1 æ­¥</strong>ã€‚æŒ‰å®Œä¹‹åï¼Œæ‚¨å¯ä»¥å¼€å§‹æ‹¼å†™ <strong>key</strong> çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼ˆä¸‹ä¸€é˜¶æ®µï¼‰, ç›´è‡³å®Œæˆæ‰€æœ‰æ‹¼å†™ã€‚</p></li></ol><span id="more"></span><p><strong>ç¤ºä¾‹ï¼š</strong></p><p><img src="ring.jpg" alt="img"></p><figure class="highlight processing"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><pre><code class="hljs processing">è¾“å…¥: ring = <span class="hljs-string">&quot;godding&quot;</span>, <span class="hljs-built_in">key</span> = <span class="hljs-string">&quot;gd&quot;</span><br>è¾“å‡º: <span class="hljs-number">4</span><br>è§£é‡Š:<br> å¯¹äº <span class="hljs-built_in">key</span> çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ <span class="hljs-string">&#x27;g&#x27;</span>ï¼Œå·²ç»åœ¨æ­£ç¡®çš„ä½ç½®, æˆ‘ä»¬åªéœ€è¦<span class="hljs-number">1</span>æ­¥æ¥æ‹¼å†™è¿™ä¸ªå­—ç¬¦ã€‚ <br> å¯¹äº <span class="hljs-built_in">key</span> çš„ç¬¬äºŒä¸ªå­—ç¬¦ <span class="hljs-string">&#x27;d&#x27;</span>ï¼Œæˆ‘ä»¬éœ€è¦é€†æ—¶é’ˆæ—‹è½¬ ring <span class="hljs-string">&quot;godding&quot;</span> <span class="hljs-number">2</span>æ­¥ä½¿å®ƒå˜æˆ <span class="hljs-string">&quot;ddinggo&quot;</span>ã€‚<br> å½“ç„¶, æˆ‘ä»¬è¿˜éœ€è¦<span class="hljs-number">1</span>æ­¥è¿›è¡Œæ‹¼å†™ã€‚<br> å› æ­¤æœ€ç»ˆçš„è¾“å‡ºæ˜¯ <span class="hljs-number">4</span>ã€‚<br></code></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ol><li><strong>ring</strong> å’Œ <strong>key</strong> çš„å­—ç¬¦ä¸²é•¿åº¦å–å€¼èŒƒå›´å‡ä¸º 1 è‡³ 100ï¼›</li><li>ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸­éƒ½åªæœ‰å°å†™å­—ç¬¦ï¼Œå¹¶ä¸”å‡å¯èƒ½å­˜åœ¨é‡å¤å­—ç¬¦ï¼›</li><li>å­—ç¬¦ä¸² <strong>key</strong> ä¸€å®šå¯ä»¥ç”±å­—ç¬¦ä¸² <strong>ring</strong> æ—‹è½¬æ‹¼å‡ºã€‚</li></ol><hr><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><h4 id="è´ªå¿ƒ"><a href="#è´ªå¿ƒ" class="headerlink" title="è´ªå¿ƒ"></a>è´ªå¿ƒ</h4><p>æ¯æ¬¡æ‰¾æœ€è¿‘çš„ï¼Œæ–¹æ³•æ˜¯é”™è¯¯çš„â€¦</p><h4 id="åŠ¨æ€è§„åˆ’"><a href="#åŠ¨æ€è§„åˆ’" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h4><p>æ„Ÿè§‰æ˜¯ï¼Œä½†æ˜¯å†™ä¸å‡ºæ¥ã€‚</p><p>çœ‹äº†å®˜æ–¹é¢˜è§£çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œæ„Ÿè§‰ä¹Ÿä¸æ˜¯å¾ˆéš¾ï¼ˆè¿˜æ˜¯è‡ªå·±å¤ªèœäº†ğŸ˜­ï¼‰</p><p>è½¬ç§»æ–¹ç¨‹ï¼Œ<code>key</code>ä¸­çš„ç¬¬<code>i</code>ä¸ªå­—ç¬¦ä¸<code>ring</code>ä¸­çš„ç¬¬<code>j</code>ä¸ªå­—ç¬¦æœ€å°‘æ¬¡æ•°ä¸º<code>dp[i][j]</code></p><p>å¾—åˆ°çŠ¶æ€è½¬ç§»æ–¹ç¨‹</p><script type="math/tex; mode=display">dp[i][j]= \min_{kâˆˆpos[key[iâˆ’1]]}\{dp[iâˆ’1][k]+\min\{\text{abs}(jâˆ’k),nâˆ’\text{abs}(jâˆ’k)\}+1\}</script><p>å…¶å®ä»”ç»†æƒ³æƒ³ï¼Œè¿™ä¸ªé—®é¢˜çš„åˆ’åˆ†å¥½åƒä¹Ÿä¸éš¾ï¼Œå­é—®é¢˜æ¯”åŸé—®é¢˜é—®é¢˜è§„æ¨¡å°<code>1</code>ï¼Œå­é—®é¢˜é€šè¿‡æšä¸¾è®¡ç®—ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">findRotateSteps</span><span class="hljs-params">(string ring, string key)</span> </span>&#123;<br>        vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; <span class="hljs-built_in">pos</span>(<span class="hljs-number">26</span>);<br>        <span class="hljs-type">int</span> l1 = ring.<span class="hljs-built_in">size</span>(), l2 = key.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; l1;++i) &#123;<br>            pos[ring[i] - <span class="hljs-string">&#x27;a&#x27;</span>].<span class="hljs-built_in">push_back</span>(i);<br>        &#125;<br>        vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; <span class="hljs-built_in">dp</span>(l2, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-type">int</span>&gt;(l1,INT_MAX));<br>        <span class="hljs-comment">// keyä¸­ç¬¬iä¸ªå­—ç¬¦ï¼Œjä¸ºkey[i]åœ¨ringä¸­çš„ä½ç½®ï¼Œkä¸ºkey[i-1]åœ¨ringä¸­çš„ä½ç½®</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; l2;++i) &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j: pos[key[i] - <span class="hljs-string">&#x27;a&#x27;</span>]) &#123;<br>                <span class="hljs-type">int</span> min_val = INT_MAX;<br>                <span class="hljs-keyword">if</span>(i == <span class="hljs-number">0</span>) &#123;<br>                    min_val = <span class="hljs-built_in">min</span>(<span class="hljs-built_in">min</span>(<span class="hljs-built_in">abs</span>(j - i), l1 - <span class="hljs-built_in">abs</span>(j - i)) + <span class="hljs-number">1</span>, min_val);<br>                &#125; <span class="hljs-keyword">else</span> &#123;<br>                    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> k:pos[key[i - <span class="hljs-number">1</span>] - <span class="hljs-string">&#x27;a&#x27;</span>]) &#123;<br>                        min_val = <span class="hljs-built_in">min</span>(<span class="hljs-built_in">min</span>(<span class="hljs-built_in">abs</span>(k - j) , l1 - <span class="hljs-built_in">abs</span>(k - j)) + dp[i<span class="hljs-number">-1</span>][k] + <span class="hljs-number">1</span>, min_val);<br>                    &#125;<br>                &#125;<br>                dp[i][j] = min_val;<br>            &#125;<br>        &#125;<br>        <span class="hljs-type">int</span> res = INT_MAX;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> i:pos[key.<span class="hljs-built_in">back</span>() - <span class="hljs-string">&#x27;a&#x27;</span>]) &#123;<br>            res = <span class="hljs-built_in">min</span>(dp.<span class="hljs-built_in">back</span>()[i], res);<br>        &#125;<br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
      <category>åŠ¨æ€è§„åˆ’</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ¯æ—¥ä¸€é¢˜</tag>
      
      <tag>LeetCode</tag>
      
      <tag>DP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>31. ä¸‹ä¸€ä¸ªæ’åˆ—</title>
    <link href="/2020/11/10/31-%E4%B8%8B%E4%B8%80%E4%B8%AA%E6%8E%92%E5%88%97/"/>
    <url>/2020/11/10/31-%E4%B8%8B%E4%B8%80%E4%B8%AA%E6%8E%92%E5%88%97/</url>
    
    <content type="html"><![CDATA[<h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a><a href="https://leetcode-cn.com/problems/next-permutation/">é¢˜ç›®æè¿°</a></h2><p>å®ç°è·å–ä¸‹ä¸€ä¸ªæ’åˆ—çš„å‡½æ•°ï¼Œç®—æ³•éœ€è¦å°†ç»™å®šæ•°å­—åºåˆ—é‡æ–°æ’åˆ—æˆå­—å…¸åºä¸­ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ’åˆ—ã€‚</p><p>å¦‚æœä¸å­˜åœ¨ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ’åˆ—ï¼Œåˆ™å°†æ•°å­—é‡æ–°æ’åˆ—æˆæœ€å°çš„æ’åˆ—ï¼ˆå³å‡åºæ’åˆ—ï¼‰ã€‚</p><p>å¿…é¡»<strong><a href="https://baike.baidu.com/item/åŸåœ°ç®—æ³•">åŸåœ°</a></strong>ä¿®æ”¹ï¼Œåªå…è®¸ä½¿ç”¨é¢å¤–å¸¸æ•°ç©ºé—´ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€äº›ä¾‹å­ï¼Œè¾“å…¥ä½äºå·¦ä¾§åˆ—ï¼Œå…¶ç›¸åº”è¾“å‡ºä½äºå³ä¾§åˆ—ã€‚<br><code>1,2,3</code> â†’ <code>1,3,2</code><br><code>3,2,1</code> â†’ <code>1,2,3</code><br><code>1,1,5</code> â†’ <code>1,5,1</code><em>**</em></p><span id="more"></span><hr><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>ä»ä¸å­˜åœ¨å…¥æ‰‹ï¼Œå¦‚æœä¸å­˜åœ¨ä¸‹ä¸€ä¸ªæ›´å¤§æ’åˆ—ï¼Œè¿™ä¸ªæ’åˆ—ä¸€å®šæ˜¯ä¸€ä¸ª<code>éä¸¥æ ¼é™åº(å­˜åœ¨ç­‰å·)</code>æ’åˆ—ã€‚</p><ul><li>ç¿»è½¬åºåˆ—ï¼Œå³ä¸ºé¢˜ä¸­è¦æ±‚çš„ä¸‹ä¸€ä¸ªæ›´å¤§åºåˆ—ã€‚</li></ul><p>é‚£ä¹ˆå¦‚æœå­˜åœ¨ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ’åˆ—ï¼Œåœ¨åŸå§‹æ’åˆ—ä¸­ä¸€å®šå­˜åœ¨ä¸€å°æ®µ<code>ä¸¥æ ¼å‡åºçš„æ’åˆ—</code>ã€‚</p><ul><li>ä»æœ«å°¾å¼€å§‹éå†æ’åˆ—ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªå‡åºä½ç½®ï¼Œå³<code>nums[i] &gt; nums[i-1]</code></li><li>åœ¨<code>[i+1,n)</code>çš„åŒºé—´ä¸Šæ‰¾åˆ°æ¯”<code>nums[i]</code>å¤§çš„å…ƒç´ ä½ç½®<code>j</code>ï¼Œ<code>nums[i]</code>ä¸<code>nums[j]</code>è¿›è¡Œäº¤æ¢ï¼Œè¿™æ ·ä¿è¯å‰è¾¹æ˜¯ä¸å˜çš„ï¼Œåè¾¹çš„åºåˆ—ä¼šå˜å¤§ã€‚</li><li><strong><code>[i+1,n)</code></strong>ä¸­çš„åºåˆ—æ˜¯é™åºçš„ï¼Œå°†å…¶è¿›è¡Œç¿»è½¬ï¼Œä½¿å¾—åè¾¹çš„åºåˆ—æœ€å°ï¼Œæ€»ä½“çš„æ’åˆ—å³ä¸‹ä¸€ä¸ªæœ€å¤§çš„æ’åˆ—ã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></div></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">nextPermutation</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums)</span> </span>&#123;<br>        <span class="hljs-type">int</span> n = nums.<span class="hljs-built_in">size</span>(), i = n - <span class="hljs-number">2</span>, j = n - <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span>(n==<span class="hljs-number">0</span> || n==<span class="hljs-number">1</span>) <span class="hljs-keyword">return</span>;<br>        <span class="hljs-keyword">while</span>(i &gt;= <span class="hljs-number">0</span> &amp;&amp; nums[i] &gt;= nums[i+<span class="hljs-number">1</span>]) &#123;<br>            --i;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(i != <span class="hljs-number">-1</span>) &#123;<br>            <span class="hljs-keyword">while</span>(j &gt; i) &#123;<br>                <span class="hljs-keyword">if</span>(nums[j] &gt; nums[i]) <span class="hljs-keyword">break</span>;<br>                --j;<br>            &#125;  <br>            <span class="hljs-built_in">swap</span>(nums[i], nums[j]);<br>            <span class="hljs-built_in">reverse</span>(nums.<span class="hljs-built_in">begin</span>() + i + <span class="hljs-number">1</span>,nums.<span class="hljs-built_in">end</span>() );<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-built_in">reverse</span>(nums.<span class="hljs-built_in">begin</span>(), nums.<span class="hljs-built_in">end</span>());<br>        &#125;<br>        <br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
      <category>æ¨¡æ‹Ÿ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>LeetCode</tag>
      
      <tag>æ¨¡æ‹Ÿ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>973. æœ€æ¥è¿‘åŸç‚¹çš„ K ä¸ªç‚¹</title>
    <link href="/2020/11/09/973-%E6%9C%80%E6%8E%A5%E8%BF%91%E5%8E%9F%E7%82%B9%E7%9A%84-K-%E4%B8%AA%E7%82%B9/"/>
    <url>/2020/11/09/973-%E6%9C%80%E6%8E%A5%E8%BF%91%E5%8E%9F%E7%82%B9%E7%9A%84-K-%E4%B8%AA%E7%82%B9/</url>
    
    <content type="html"><![CDATA[<h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a><a href="https://leetcode-cn.com/problems/k-closest-points-to-origin/">é¢˜ç›®æè¿°</a></h2><p>æˆ‘ä»¬æœ‰ä¸€ä¸ªç”±å¹³é¢ä¸Šçš„ç‚¹ç»„æˆçš„åˆ—è¡¨ <code>points</code>ã€‚éœ€è¦ä»ä¸­æ‰¾å‡º <code>K</code> ä¸ªè·ç¦»åŸç‚¹ <code>(0, 0)</code> æœ€è¿‘çš„ç‚¹ã€‚</p><p>ï¼ˆè¿™é‡Œï¼Œå¹³é¢ä¸Šä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»æ˜¯æ¬§å‡ é‡Œå¾·è·ç¦»ã€‚ï¼‰</p><p>ä½ å¯ä»¥æŒ‰ä»»ä½•é¡ºåºè¿”å›ç­”æ¡ˆã€‚é™¤äº†ç‚¹åæ ‡çš„é¡ºåºä¹‹å¤–ï¼Œç­”æ¡ˆç¡®ä¿æ˜¯å”¯ä¸€çš„ã€‚</p> <span id="more"></span><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><figure class="highlight lua"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><pre><code class="hljs lua">è¾“å…¥ï¼špoints = <span class="hljs-string">[[1,3],[-2,2]]</span>, K = <span class="hljs-number">1</span><br>è¾“å‡ºï¼š<span class="hljs-string">[[-2,2]]</span><br>è§£é‡Šï¼š <br>(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>) å’ŒåŸç‚¹ä¹‹é—´çš„è·ç¦»ä¸º <span class="hljs-built_in">sqrt</span>(<span class="hljs-number">10</span>)ï¼Œ<br>(<span class="hljs-number">-2</span>, <span class="hljs-number">2</span>) å’ŒåŸç‚¹ä¹‹é—´çš„è·ç¦»ä¸º <span class="hljs-built_in">sqrt</span>(<span class="hljs-number">8</span>)ï¼Œ<br>ç”±äº <span class="hljs-built_in">sqrt</span>(<span class="hljs-number">8</span>) &lt; <span class="hljs-built_in">sqrt</span>(<span class="hljs-number">10</span>)ï¼Œ(<span class="hljs-number">-2</span>, <span class="hljs-number">2</span>) ç¦»åŸç‚¹æ›´è¿‘ã€‚<br>æˆ‘ä»¬åªéœ€è¦è·ç¦»åŸç‚¹æœ€è¿‘çš„ K = <span class="hljs-number">1</span> ä¸ªç‚¹ï¼Œæ‰€ä»¥ç­”æ¡ˆå°±æ˜¯ <span class="hljs-string">[[-2,2]]</span>ã€‚<br></code></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs lua">è¾“å…¥ï¼špoints = <span class="hljs-string">[[3,3],[5,-1],[-2,4]]</span>, K = <span class="hljs-number">2</span><br>è¾“å‡ºï¼š<span class="hljs-string">[[3,3],[-2,4]]</span><br>ï¼ˆç­”æ¡ˆ <span class="hljs-string">[[-2,4],[3,3]]</span> ä¹Ÿä¼šè¢«æ¥å—ã€‚ï¼‰<br></code></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ol><li><code>1 &lt;= K &lt;= points.length &lt;= 10000</code></li><li><code>-10000 &lt; points[i][0] &lt; 10000</code></li><li><code>-10000 &lt; points[i][1] &lt; 10000</code></li></ol><hr><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><h4 id="ç»´æŠ¤ä¸€ä¸ªå¤§å°ä¸ºKçš„å¤§é¡¶å †"><a href="#ç»´æŠ¤ä¸€ä¸ªå¤§å°ä¸ºKçš„å¤§é¡¶å †" class="headerlink" title="ç»´æŠ¤ä¸€ä¸ªå¤§å°ä¸ºKçš„å¤§é¡¶å †"></a>ç»´æŠ¤ä¸€ä¸ªå¤§å°ä¸ºKçš„å¤§é¡¶å †</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">cmp</span>&#123;<br>        <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; x1, vector&lt;<span class="hljs-type">int</span>&gt;&amp; x2)</span> </span>&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-built_in">func</span>(x1) &lt; <span class="hljs-built_in">func</span>(x2); <br>        &#125;<br>        <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">func</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; x)</span> </span>&#123;<br>            <span class="hljs-keyword">return</span> x[<span class="hljs-number">0</span>]*x[<span class="hljs-number">0</span>] + x[<span class="hljs-number">1</span>]*x[<span class="hljs-number">1</span>];<br>        &#125;<br>    &#125;;<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">func</span><span class="hljs-params">(<span class="hljs-type">const</span> vector&lt;<span class="hljs-type">int</span>&gt;&amp; x)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> x[<span class="hljs-number">0</span>]*x[<span class="hljs-number">0</span>] + x[<span class="hljs-number">1</span>]*x[<span class="hljs-number">1</span>];<br>    &#125;;<br><span class="hljs-keyword">public</span>:<br>    vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; <span class="hljs-built_in">kClosest</span>(vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt;&amp; points, <span class="hljs-type">int</span> K) &#123;<br>        priority_queue&lt;vector&lt;<span class="hljs-type">int</span>&gt;,vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt;, cmp&gt; q;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; point:points) &#123;<br>            <span class="hljs-keyword">if</span>(q.<span class="hljs-built_in">size</span>() &lt; K) &#123;<br>                q.<span class="hljs-built_in">push</span>(point);<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                <span class="hljs-keyword">if</span>(<span class="hljs-built_in">func</span>(q.<span class="hljs-built_in">top</span>()) &gt; <span class="hljs-built_in">func</span>(point)) &#123;<br>                    q.<span class="hljs-built_in">pop</span>();<br>                    q.<span class="hljs-built_in">push</span>(point);<br>                &#125;<br>            &#125;<br>        &#125;<br>        vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; res;<br>        <span class="hljs-keyword">while</span>(!q.<span class="hljs-built_in">empty</span>()) &#123;<br>            res.<span class="hljs-built_in">push_back</span>(q.<span class="hljs-built_in">top</span>());<br>            q.<span class="hljs-built_in">pop</span>();<br>        &#125;<br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h4 id="lambdaè¡¨è¾¾å¼"><a href="#lambdaè¡¨è¾¾å¼" class="headerlink" title="lambdaè¡¨è¾¾å¼"></a>lambdaè¡¨è¾¾å¼</h4><p><code>priority_queue</code>çš„ä¸‰ä¸ªæ¨¡æ¿å‚æ•°ï¼Œä½¿ç”¨<code>lambda</code>æ—¶ï¼Œè¦ä½¿ç”¨<code>decltype</code>è§£æç±»å‹ï¼Œå¹¶åœ¨æ„é€ å‡½æ•°ä¸­ä¼ é€’ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">template</span>&lt;<br>    <span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>,<br>    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Container</span> = std::vector&lt;T&gt;,<br>    <span class="hljs-keyword">class</span> Compare = std::less&lt;<span class="hljs-keyword">typename</span> Container::value_type&gt;<br>&gt; <span class="hljs-keyword">class</span> priority_queue;<br></code></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; <span class="hljs-built_in">kClosest</span>(vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt;&amp; points, <span class="hljs-type">int</span> K) &#123;<br>        <span class="hljs-keyword">auto</span> func= [](<span class="hljs-type">const</span> vector&lt;<span class="hljs-type">int</span>&gt;&amp; x) &#123;<br>            <span class="hljs-keyword">return</span> x[<span class="hljs-number">0</span>]*x[<span class="hljs-number">0</span>] + x[<span class="hljs-number">1</span>]*x[<span class="hljs-number">1</span>];<br>        &#125;;<br>        <span class="hljs-keyword">auto</span> cmp =[&amp;func](vector&lt;<span class="hljs-type">int</span>&gt;&amp; x1, vector&lt;<span class="hljs-type">int</span>&gt;&amp; x2) &#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-built_in">func</span>(x1) &lt; <span class="hljs-built_in">func</span>(x2); <br>        &#125;;<br>        priority_queue&lt;vector&lt;<span class="hljs-type">int</span>&gt;,vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt;, <span class="hljs-keyword">decltype</span>(cmp)&gt; <span class="hljs-built_in">q</span>(cmp);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; point:points) &#123;<br>            <span class="hljs-keyword">if</span>(q.<span class="hljs-built_in">size</span>() &lt; K) &#123;<br>                q.<span class="hljs-built_in">push</span>(point);<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                <span class="hljs-keyword">if</span>(<span class="hljs-built_in">func</span>(q.<span class="hljs-built_in">top</span>()) &gt; <span class="hljs-built_in">func</span>(point)) &#123;<br>                    q.<span class="hljs-built_in">pop</span>();<br>                    q.<span class="hljs-built_in">push</span>(point);<br>                &#125;<br>            &#125;<br>        &#125;<br>        vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; res;<br>        <span class="hljs-keyword">while</span>(!q.<span class="hljs-built_in">empty</span>()) &#123;<br>            res.<span class="hljs-built_in">push_back</span>(q.<span class="hljs-built_in">top</span>());<br>            q.<span class="hljs-built_in">pop</span>();<br>        &#125;<br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
      <category>å †</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ¯æ—¥ä¸€é¢˜</tag>
      
      <tag>LeetCode</tag>
      
      <tag>å †</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>962. æœ€å¤§å®½åº¦å¡</title>
    <link href="/2020/11/08/962-%E6%9C%80%E5%A4%A7%E5%AE%BD%E5%BA%A6%E5%9D%A1/"/>
    <url>/2020/11/08/962-%E6%9C%80%E5%A4%A7%E5%AE%BD%E5%BA%A6%E5%9D%A1/</url>
    
    <content type="html"><![CDATA[<h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a><a href="https://leetcode-cn.com/problems/maximum-width-ramp/">é¢˜ç›®æè¿°</a></h2><p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>A</code>ï¼Œ<em>å¡</em>æ˜¯å…ƒç»„ <code>(i, j)</code>ï¼Œå…¶ä¸­ <code>i &lt; j</code> ä¸” <code>A[i] &lt;= A[j]</code>ã€‚è¿™æ ·çš„å¡çš„å®½åº¦ä¸º <code>j - i</code>ã€‚</p><p>æ‰¾å‡º <code>A</code> ä¸­çš„å¡çš„æœ€å¤§å®½åº¦ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œè¿”å› 0 ã€‚</p> <span id="more"></span><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><figure class="highlight stylus"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><pre><code class="hljs stylus">è¾“å…¥ï¼š<span class="hljs-selector-attr">[6,0,8,2,1,5]</span><br>è¾“å‡ºï¼š<span class="hljs-number">4</span><br>è§£é‡Šï¼š<br>æœ€å¤§å®½åº¦çš„å¡ä¸º (<span class="hljs-selector-tag">i</span>, j) = (<span class="hljs-number">1</span>, <span class="hljs-number">5</span>): A<span class="hljs-selector-attr">[1]</span> = <span class="hljs-number">0</span> ä¸” A<span class="hljs-selector-attr">[5]</span> = <span class="hljs-number">5</span>.<br></code></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs dns">è¾“å…¥ï¼š[<span class="hljs-number">9,8,1,0</span>,<span class="hljs-number">1,9,4,0</span>,<span class="hljs-number">4</span>,<span class="hljs-number">1</span>]<br>è¾“å‡ºï¼š<span class="hljs-number">7</span><br>è§£é‡Šï¼š<br>æœ€å¤§å®½åº¦çš„å¡ä¸º (i, j) = (<span class="hljs-number">2</span>, <span class="hljs-number">9</span>): <span class="hljs-keyword">A</span>[<span class="hljs-number">2</span>] = <span class="hljs-number">1</span> ä¸” <span class="hljs-keyword">A</span>[<span class="hljs-number">9</span>] = <span class="hljs-number">1</span>.<br></code></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ol><li><code>2 &lt;= A.length &lt;= 50000</code></li><li><code>0 &lt;= A[i] &lt;= 50000</code></li></ol><hr><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><h5 id="å•è°ƒæ ˆ-æ’åº-åŒæŒ‡é’ˆ"><a href="#å•è°ƒæ ˆ-æ’åº-åŒæŒ‡é’ˆ" class="headerlink" title="å•è°ƒæ ˆ+æ’åº+åŒæŒ‡é’ˆ"></a>å•è°ƒæ ˆ+æ’åº+åŒæŒ‡é’ˆ</h5><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">maxWidthRamp</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; A)</span> </span>&#123;<br>        <span class="hljs-type">int</span> n = A.<span class="hljs-built_in">size</span>(), res = <span class="hljs-number">0</span>, i = <span class="hljs-number">0</span>;<br>        stack&lt;pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt;&gt; s;<br>        s.<span class="hljs-built_in">push</span>(&#123;A[<span class="hljs-number">0</span>], <span class="hljs-number">0</span>&#125;);<br>        <span class="hljs-keyword">for</span>(i = <span class="hljs-number">1</span>;i &lt; n;++i) &#123;<br>            <span class="hljs-keyword">if</span>(A[i] &lt; s.<span class="hljs-built_in">top</span>().first) &#123;<br>                s.<span class="hljs-built_in">push</span>(&#123;A[i], i&#125;);<br>            &#125;<br>        &#125;<br>        vector&lt;pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt;&gt; <span class="hljs-built_in">arr</span>(n);<br>        <span class="hljs-keyword">for</span>(i = <span class="hljs-number">0</span>;i &lt; n;++i) &#123;<br>            arr[i] = &#123;A[i], i&#125;;<br>        &#125;<br>        <span class="hljs-built_in">sort</span>(arr.<span class="hljs-built_in">begin</span>(), arr.<span class="hljs-built_in">end</span>(), [](pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; x1, pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; x2) &#123;<br>            <span class="hljs-keyword">return</span> x1.first &lt; x2.first || (x1.first==x2.first &amp;&amp; x1.second &gt; x2.second);<br>        &#125;);<br>        i = <span class="hljs-number">0</span>;<br>        <span class="hljs-type">int</span> t = INT_MAX / <span class="hljs-number">2</span>;;<br>        <span class="hljs-keyword">while</span>(i &lt; n) &#123;<br>            <span class="hljs-keyword">while</span>(!s.<span class="hljs-built_in">empty</span>() &amp;&amp; arr[i].first &gt;= s.<span class="hljs-built_in">top</span>().first ) &#123;<br>                t = s.<span class="hljs-built_in">top</span>().second;<br>                s.<span class="hljs-built_in">pop</span>();<br>            &#125;<br>            res = <span class="hljs-built_in">max</span>(res, arr[i].second - t);<br>            ++i;<br>        &#125;<br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
      <category>å•è°ƒæ ˆ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>LeetCode</tag>
      
      <tag>å•è°ƒæ ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>327. åŒºé—´å’Œçš„ä¸ªæ•°</title>
    <link href="/2020/11/08/327-%E5%8C%BA%E9%97%B4%E5%92%8C%E7%9A%84%E4%B8%AA%E6%95%B0/"/>
    <url>/2020/11/08/327-%E5%8C%BA%E9%97%B4%E5%92%8C%E7%9A%84%E4%B8%AA%E6%95%B0/</url>
    
    <content type="html"><![CDATA[<h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a><a href="https://leetcode-cn.com/problems/count-of-range-sum/">é¢˜ç›®æè¿°</a></h2><p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code>ï¼Œè¿”å›åŒºé—´å’Œåœ¨ <code>[lower, upper]</code> ä¹‹é—´çš„ä¸ªæ•°ï¼ŒåŒ…å« <code>lower</code> å’Œ <code>upper</code>ã€‚<br>åŒºé—´å’Œ <code>S(i, j)</code> è¡¨ç¤ºåœ¨ <code>nums</code> ä¸­ï¼Œä½ç½®ä» <code>i</code> åˆ° <code>j</code> çš„å…ƒç´ ä¹‹å’Œï¼ŒåŒ…å« <code>i</code> å’Œ <code>j</code> (<code>i</code> â‰¤ <code>j</code>)ã€‚</p><p><strong>è¯´æ˜:</strong><br>æœ€ç›´è§‚çš„ç®—æ³•å¤æ‚åº¦æ˜¯ <em>O</em>(<em>n</em>2) ï¼Œè¯·åœ¨æ­¤åŸºç¡€ä¸Šä¼˜åŒ–ä½ çš„ç®—æ³•ã€‚</p><p><strong>ç¤ºä¾‹:</strong></p><figure class="highlight subunit"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><pre><code class="hljs subunit">è¾“å…¥: nums = [<span class="hljs-string">-2</span>,5,<span class="hljs-string">-1</span>], lower = <span class="hljs-string">-2</span>, upper = 2,<br>è¾“å‡º: 3 <br>è§£é‡Š: 3ä¸ªåŒºé—´åˆ†åˆ«æ˜¯: [0,0], [2,2], [0,2]ï¼Œå®ƒä»¬è¡¨ç¤ºçš„å’Œåˆ†åˆ«ä¸º: <span class="hljs-string">-2</span>, <span class="hljs-string">-1</span>, 2ã€‚<br></code></pre></td></tr></table></figure><span id="more"></span><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><h3 id="æš´åŠ›"><a href="#æš´åŠ›" class="headerlink" title="æš´åŠ›"></a>æš´åŠ›</h3><p>è®¡ç®—å…¨éƒ¨åŒºé—´ï¼Œ$O(n^2)$ï¼Œè¶…æ—¶ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">countRangeSum</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums, <span class="hljs-type">int</span> lower, <span class="hljs-type">int</span> upper)</span> </span>&#123;<br>        <span class="hljs-type">int</span> n = nums.<span class="hljs-built_in">size</span>(), res = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; n;++i) &#123;<br>            <span class="hljs-type">long</span> <span class="hljs-type">long</span> rangesum = <span class="hljs-number">0L</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = i;j &lt; n;++j) &#123;<br>                rangesum += nums[j];<br>                <span class="hljs-keyword">if</span>(rangesum &gt;= lower &amp;&amp; rangesum &lt;= upper) ++res;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="åˆ†æ²»"><a href="#åˆ†æ²»" class="headerlink" title="åˆ†æ²»"></a>åˆ†æ²»</h3><h5 id="å‰ç¼€å’Œ"><a href="#å‰ç¼€å’Œ" class="headerlink" title="å‰ç¼€å’Œ"></a>å‰ç¼€å’Œ</h5><p>è®¡ç®—å‰ç¼€å’Œ<code>presum</code>ï¼Œé—®é¢˜è½¬åŒ–ä¸ºå¯¹ä»»æ„çš„å‰ç¼€å’Œ<code>val = presum[i] - presum[j](i &gt;= j)</code>è½åœ¨ <code>[lower, upper]</code> ä¹‹é—´çš„ä¸ªæ•°ã€‚</p><p>è®¡ç®—å‰ç¼€å’Œæ³¨æ„ç¬¬ä¸€ä¸ªå…ƒç´ è¦è¡¥0ã€‚</p><p>è‹¥å‰ç¼€å’Œæ— åºï¼Œè®¡ç®—çš„æ—¶é—´å¤æ‚åº¦ä¾æ—§æ˜¯$O(n^2)$ï¼Œè‹¥å‰ç¼€å’Œæœ‰åºã€‚è®¡ç®—æ—¶ï¼Œå¯ä»¥ä½¿ç”¨åŒæŒ‡é’ˆã€‚</p><h5 id="é—®é¢˜åˆ’åˆ†"><a href="#é—®é¢˜åˆ’åˆ†" class="headerlink" title="é—®é¢˜åˆ’åˆ†"></a>é—®é¢˜åˆ’åˆ†</h5><p>è‹¥ä¸¤ä¸ªåŒºé—´<code>[l,m)</code>ï¼Œ<code>[m, r)</code>çš„å‰ç¼€å’Œéƒ½æ˜¯æœ‰åºçš„ï¼Œå¯ä»¥åˆ©ç”¨ä¸‰æŒ‡é’ˆã€‚</p><ul><li><p><code>p0</code>æŒ‡å‘<code>l</code>ï¼Œ <code>p1</code>æŒ‡å‘<code>m</code>ï¼Œ<code>p2</code>æŒ‡å‘<code>m</code></p></li><li><p><code>p1</code>åç§»ç›´åˆ°<code>presum[p1] - presum[p0] &gt;= lower</code></p></li><li><p><code>p2</code>åç§»ç›´åˆ°<code>presum[p2] - presum[p0] &gt; upper</code></p></li><li><p><code>p2 - p1</code>åˆ™ä¸ºä»¥<code>p0</code>ä¸ºèµ·ç‚¹çš„åŒºé—´æ•°é‡ï¼Œç”±äº<code>[l, m)</code>æ˜¯æœ‰åºçš„ï¼Œå› æ­¤<code>p0</code>åç§»ä¹‹åï¼Œ<code>p1</code>ï¼Œ<code>p2</code>å¿…å®šåç§»ï¼Œä¸ç”¨å‘å‰å›æº¯ï¼Œå‡å°‘äº†æ—¶é—´ã€‚</p></li></ul><h5 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h5><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">merage</span><span class="hljs-params">(vector&lt;<span class="hljs-type">long</span> <span class="hljs-type">long</span>&gt;&amp; presum, <span class="hljs-type">int</span> l, <span class="hljs-type">int</span> r, <span class="hljs-type">int</span> lower, <span class="hljs-type">int</span> upper)</span> </span>&#123;<br>        <span class="hljs-comment">// å·¦å³å³å¼€ï¼Œ[l,r)ï¼ŒåŒºé—´é•¿åº¦ä¸º1æ—¶ï¼Œç›´æ¥è¿”å›0</span><br>        <span class="hljs-keyword">if</span>(l == r - <span class="hljs-number">1</span> || l == r) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-type">int</span> m = l + (r - l)/<span class="hljs-number">2</span>;<br>        <span class="hljs-type">int</span> res = <span class="hljs-number">0</span>;<br>        res += <span class="hljs-built_in">merage</span>(presum, l, m, lower, upper);<br>        res += <span class="hljs-built_in">merage</span>(presum, m, r, lower, upper);<br>        <span class="hljs-type">int</span> p0 = l, p1 = m, p2 = m;<br>        <span class="hljs-keyword">while</span>(p0 &lt; m) &#123;<br>            <span class="hljs-keyword">while</span>(p1 &lt; r &amp;&amp; presum[p1] - presum[p0] &lt; lower) ++p1;<br>            <span class="hljs-keyword">while</span>(p2 &lt; r &amp;&amp; presum[p2] - presum[p0] &lt;= upper) ++p2;<br>            res += p2 - p1;<br>            ++p0;<br>        &#125;<br>        <span class="hljs-function">vector&lt;<span class="hljs-type">long</span> <span class="hljs-type">long</span>&gt; <span class="hljs-title">temp</span><span class="hljs-params">(r - l)</span></span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>, j = l, k = m;i &lt; r - l;++i) &#123;<br>            <span class="hljs-keyword">if</span>(j &lt; m &amp;&amp; k &lt; r) &#123;<br>                <span class="hljs-keyword">if</span>(presum[j] &lt; presum[k]) <br>                temp[i] = presum[j++];<br>                <span class="hljs-keyword">else</span> <br>                temp[i] = presum[k++];<br>            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(j &lt; m)&#123;<br>                temp[i] = presum[j++];<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                temp[i] = presum[k++];<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; r - l;++i) &#123;<br>            presum[i + l] = temp[i];<br>        &#125;<br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">countRangeSum</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums, <span class="hljs-type">int</span> lower, <span class="hljs-type">int</span> upper)</span> </span>&#123;<br>        <span class="hljs-type">int</span> n = nums.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-function">vector&lt;<span class="hljs-type">long</span> <span class="hljs-type">long</span>&gt; <span class="hljs-title">presum</span><span class="hljs-params">(n + <span class="hljs-number">1</span>)</span></span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; nums.<span class="hljs-built_in">size</span>();++i) &#123;<br>            presum[i+<span class="hljs-number">1</span>] = presum[i] + nums[i];<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">merage</span>(presum, <span class="hljs-number">0</span>, n + <span class="hljs-number">1</span>, lower, upper);<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p><strong>æ—¶é—´å¤æ‚åº¦</strong></p><p>$T(N) = 2*T(N/2) + O(N)$</p><p>$T(N) = O(NlogN)$</p><h5 id="ç©ºé—´å¤æ‚åº¦"><a href="#ç©ºé—´å¤æ‚åº¦" class="headerlink" title="ç©ºé—´å¤æ‚åº¦"></a>ç©ºé—´å¤æ‚åº¦</h5><p>è®¾ç©ºé—´å ç”¨ä¸º $M(N)$ï¼Œé€’å½’è°ƒç”¨æ‰€éœ€ç©ºé—´ä¸º $M(N/2)$ï¼Œè€Œåˆå¹¶æ•°ç»„æ‰€éœ€ç©ºé—´ä¸º O(N)O(N)ï¼Œæ•…</p><script type="math/tex; mode=display">M(N) = \max\big\{M(N/2), O(N)\big\} = M(N/2) + O(N)</script><p>$M(N) = O(N)$</p>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
      <category>å½’å¹¶æ’åº</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ¯æ—¥ä¸€é¢˜</tag>
      
      <tag>LeetCode</tag>
      
      <tag>å‰ç¼€å’Œ</tag>
      
      <tag>å½’å¹¶æ’åº</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>122. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº II</title>
    <link href="/2020/11/08/122-%E4%B9%B0%E5%8D%96%E8%82%A1%E7%A5%A8%E7%9A%84%E6%9C%80%E4%BD%B3%E6%97%B6%E6%9C%BA-II/"/>
    <url>/2020/11/08/122-%E4%B9%B0%E5%8D%96%E8%82%A1%E7%A5%A8%E7%9A%84%E6%9C%80%E4%BD%B3%E6%97%B6%E6%9C%BA-II/</url>
    
    <content type="html"><![CDATA[<h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a><a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-ii/">é¢˜ç›®æè¿°</a></h2><p>ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œå®ƒçš„ç¬¬ <em>i</em> ä¸ªå…ƒç´ æ˜¯ä¸€æ”¯ç»™å®šè‚¡ç¥¨ç¬¬ <em>i</em> å¤©çš„ä»·æ ¼ã€‚</p><p>è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥è®¡ç®—ä½ æ‰€èƒ½è·å–çš„æœ€å¤§åˆ©æ¶¦ã€‚ä½ å¯ä»¥å°½å¯èƒ½åœ°å®Œæˆæ›´å¤šçš„äº¤æ˜“ï¼ˆå¤šæ¬¡ä¹°å–ä¸€æ”¯è‚¡ç¥¨ï¼‰ã€‚</p><p><strong>æ³¨æ„ï¼š</strong>ä½ ä¸èƒ½åŒæ—¶å‚ä¸å¤šç¬”äº¤æ˜“ï¼ˆä½ å¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æ‰ä¹‹å‰çš„è‚¡ç¥¨ï¼‰ã€‚</p> <span id="more"></span><p><strong>ç¤ºä¾‹ 1:</strong></p><figure class="highlight tap"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><pre><code class="hljs tap">è¾“å…¥: [7,1,5,3,6,4]<br>è¾“å‡º: 7<br>è§£é‡Š: åœ¨ç¬¬<span class="hljs-number"> 2 </span>å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 1ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬<span class="hljs-number"> 3 </span>å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 5ï¼‰çš„æ—¶å€™å–å‡º, è¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 5-1 =<span class="hljs-number"> 4 </span>ã€‚<br>     éšåï¼Œåœ¨ç¬¬<span class="hljs-number"> 4 </span>å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 3ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬<span class="hljs-number"> 5 </span>å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 6ï¼‰çš„æ—¶å€™å–å‡º, è¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 6-3 =<span class="hljs-number"> 3 </span>ã€‚<br></code></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2:</strong></p><figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs tap">è¾“å…¥: [1,2,3,4,5]<br>è¾“å‡º: 4<br>è§£é‡Š: åœ¨ç¬¬<span class="hljs-number"> 1 </span>å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 1ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬<span class="hljs-number"> 5 </span>å¤© ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 5ï¼‰çš„æ—¶å€™å–å‡º, è¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 5-1 =<span class="hljs-number"> 4 </span>ã€‚<br>     æ³¨æ„ä½ ä¸èƒ½åœ¨ç¬¬<span class="hljs-number"> 1 </span>å¤©å’Œç¬¬<span class="hljs-number"> 2 </span>å¤©æ¥è¿è´­ä¹°è‚¡ç¥¨ï¼Œä¹‹åå†å°†å®ƒä»¬å–å‡ºã€‚<br>     å› ä¸ºè¿™æ ·å±äºåŒæ—¶å‚ä¸äº†å¤šç¬”äº¤æ˜“ï¼Œä½ å¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æ‰ä¹‹å‰çš„è‚¡ç¥¨ã€‚<br></code></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 3:</strong></p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs makefile"><span class="hljs-section">è¾“å…¥: [7,6,4,3,1]</span><br><span class="hljs-section">è¾“å‡º: 0</span><br><span class="hljs-section">è§£é‡Š: åœ¨è¿™ç§æƒ…å†µä¸‹, æ²¡æœ‰äº¤æ˜“å®Œæˆ, æ‰€ä»¥æœ€å¤§åˆ©æ¶¦ä¸º 0ã€‚</span><br></code></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ul><li><p><code>1 &lt;= prices.length &lt;= 3 * 10 ^ 4</code></p></li><li><p><code>0 &lt;= prices[i] &lt;= 10 ^ 4</code></p></li></ul><hr><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><h3 id="è´ªå¿ƒ"><a href="#è´ªå¿ƒ" class="headerlink" title="è´ªå¿ƒ"></a>è´ªå¿ƒ</h3><p>ç›¸é‚»ä¸¤å¤©ï¼Œå¦‚æœç¬¬äºŒå¤©æ¯”ç¬¬ä¸€å¤©ä»·æ ¼é«˜å°±ç¬¬ä¸€å¤©ä¹°å…¥ï¼Œç¬¬äºŒå¤©å–å‡ºã€‚</p><p>è´ªå¿ƒç®—æ³•åªèƒ½ç”¨äºè®¡ç®—æœ€å¤§åˆ©æ¶¦ï¼Œ<strong>è®¡ç®—çš„è¿‡ç¨‹å¹¶ä¸æ˜¯å®é™…çš„äº¤æ˜“è¿‡ç¨‹</strong>ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">maxProfit</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; prices)</span> </span>&#123;<br>        <span class="hljs-type">int</span> n = prices.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-type">int</span> res = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt; n;++i) &#123;<br>            <span class="hljs-keyword">if</span>(prices[i - <span class="hljs-number">1</span>] &lt; prices[i]) &#123;<br>                res += prices[i] - prices[i<span class="hljs-number">-1</span>];<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="åŠ¨æ€è§„åˆ’"><a href="#åŠ¨æ€è§„åˆ’" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h3><h5 id="çŠ¶æ€"><a href="#çŠ¶æ€" class="headerlink" title="çŠ¶æ€"></a>çŠ¶æ€</h5><p>ç”±äºä¸èƒ½åŒæ—¶å‚ä¸å¤šç¬”äº¤æ˜“ï¼Œå› æ­¤æœ€å¤šæŒæœ‰1åªè‚¡ç¥¨ï¼Œæ¯å¤©éƒ½åªæœ‰ä¸¤ç§çŠ¶æ€ï¼ŒæŒæœ‰å’Œä¸æŒæœ‰ã€‚</p><p>å®šä¹‰$dp[i][0]$ä¸ºå‰$i$å¤©äº¤æ˜“å®Œæˆä¸”ç¬¬$i$å¤©ä¸æŒæœ‰çš„æœ€å¤§æ”¶ç›Šï¼Œ$dp[i][0]$ä¸ºå‰$i$å¤©äº¤æ˜“å®Œæˆä¸”ç¬¬$i$å¤©æŒæœ‰çš„æœ€å¤§æ”¶ç›Šã€‚</p><h5 id="è½¬ç§»æ–¹ç¨‹"><a href="#è½¬ç§»æ–¹ç¨‹" class="headerlink" title="è½¬ç§»æ–¹ç¨‹"></a>è½¬ç§»æ–¹ç¨‹</h5><p>ç¬¬$i$å¤©ä¸æŒæœ‰è‚¡ç¥¨çš„æœ€å¤§æ”¶ç›Šå¯èƒ½å’Œå‰ä¸€å¤©ä¸æŒæœ‰ç›¸åŒï¼Œä¹Ÿå¯èƒ½æ¥è‡ªå‰ä¸€å¤©æŒæœ‰ï¼Œç¬¬$i$å¤©å–å‡ºï¼Œå› æ­¤å¯ä»¥å†™å‡ºå¦‚ä¸‹è½¬ç§»æ–¹ç¨‹ã€‚</p><script type="math/tex; mode=display">dp[i][0] = max\{dp[i-1][0], dp[i-1][1] + prices[i]\}</script><p>åŒç†</p><script type="math/tex; mode=display">dp[i][1] = max\{dp[i-1][1], dp[i-1][0] - prices[i]\}</script><h5 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h5><p>è½¬ç§»æ–¹ç¨‹åªæœ‰ç›¸é‚»ä¸¤é¡¹æœ‰å…³ç³»ï¼Œå› æ­¤å¯ä»¥ä¼˜åŒ–ç©ºé—´ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">maxProfit</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; prices)</span> </span>&#123;<br>        <span class="hljs-type">int</span> hold = -prices[<span class="hljs-number">0</span>], nhold = <span class="hljs-number">0</span>, res = <span class="hljs-number">0</span>, n = prices.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt; n;++i) &#123;<br>            <span class="hljs-keyword">auto</span> t = hold;<br>            hold = <span class="hljs-built_in">max</span>(hold, nhold - prices[i]);<br>            nhold = <span class="hljs-built_in">max</span>(nhold, t + prices[i]);<br>        &#125;  <br>        <span class="hljs-keyword">return</span> nhold;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
      <category>åŠ¨æ€è§„åˆ’</category>
      
      <category>è´ªå¿ƒ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ¯æ—¥ä¸€é¢˜</tag>
      
      <tag>LeetCode</tag>
      
      <tag>è´ªå¿ƒ</tag>
      
      <tag>DP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1356. æ ¹æ®æ•°å­—äºŒè¿›åˆ¶ä¸‹ 1 çš„æ•°ç›®æ’åº</title>
    <link href="/2020/11/06/1356-%E6%A0%B9%E6%8D%AE%E6%95%B0%E5%AD%97%E4%BA%8C%E8%BF%9B%E5%88%B6%E4%B8%8B-1-%E7%9A%84%E6%95%B0%E7%9B%AE%E6%8E%92%E5%BA%8F/"/>
    <url>/2020/11/06/1356-%E6%A0%B9%E6%8D%AE%E6%95%B0%E5%AD%97%E4%BA%8C%E8%BF%9B%E5%88%B6%E4%B8%8B-1-%E7%9A%84%E6%95%B0%E7%9B%AE%E6%8E%92%E5%BA%8F/</url>
    
    <content type="html"><![CDATA[<h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a><a href="https://leetcode-cn.com/problems/sort-integers-by-the-number-of-1-bits/">é¢˜ç›®æè¿°</a></h2><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>arr</code> ã€‚è¯·ä½ å°†æ•°ç»„ä¸­çš„å…ƒç´ æŒ‰ç…§å…¶äºŒè¿›åˆ¶è¡¨ç¤ºä¸­æ•°å­— <strong>1</strong> çš„æ•°ç›®å‡åºæ’åºã€‚</p><p>å¦‚æœå­˜åœ¨å¤šä¸ªæ•°å­—äºŒè¿›åˆ¶ä¸­ <strong>1</strong> çš„æ•°ç›®ç›¸åŒï¼Œåˆ™å¿…é¡»å°†å®ƒä»¬æŒ‰ç…§æ•°å€¼å¤§å°å‡åºæ’åˆ—ã€‚</p><p>è¯·ä½ è¿”å›æ’åºåçš„æ•°ç»„ã€‚</p> <span id="more"></span><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><figure class="highlight tap"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><pre><code class="hljs tap">è¾“å…¥ï¼šarr = [0,1,2,3,4,5,6,7,8]<br>è¾“å‡ºï¼š[0,1,2,4,8,3,5,6,7]<br>è§£é‡Šï¼š[0] æ˜¯å”¯ä¸€ä¸€ä¸ªæœ‰<span class="hljs-number"> 0 </span>ä¸ª<span class="hljs-number"> 1 </span>çš„æ•°ã€‚<br>[1,2,4,8] éƒ½æœ‰<span class="hljs-number"> 1 </span>ä¸ª<span class="hljs-number"> 1 </span>ã€‚<br>[3,5,6] æœ‰<span class="hljs-number"> 2 </span>ä¸ª<span class="hljs-number"> 1 </span>ã€‚<br>[7] æœ‰<span class="hljs-number"> 3 </span>ä¸ª<span class="hljs-number"> 1 </span>ã€‚<br>æŒ‰ç…§<span class="hljs-number"> 1 </span>çš„ä¸ªæ•°æ’åºå¾—åˆ°çš„ç»“æœæ•°ç»„ä¸º [0,1,2,4,8,3,5,6,7]<br></code></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs dns">è¾“å…¥ï¼šarr = [<span class="hljs-number">1024,512</span>,<span class="hljs-number">256,128,64</span>,<span class="hljs-number">32,16,8,4</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>]<br>è¾“å‡ºï¼š[<span class="hljs-number">1,2,4,8</span>,<span class="hljs-number">16,32,64,128</span>,<span class="hljs-number">256,512</span>,<span class="hljs-number">1024</span>]<br>è§£é‡Šï¼šæ•°ç»„ä¸­æ‰€æœ‰æ•´æ•°äºŒè¿›åˆ¶ä¸‹éƒ½åªæœ‰ <span class="hljs-number">1</span> ä¸ª <span class="hljs-number">1</span> ï¼Œæ‰€ä»¥ä½ éœ€è¦æŒ‰ç…§æ•°å€¼å¤§å°å°†å®ƒä»¬æ’åºã€‚<br></code></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs accesslog">è¾“å…¥ï¼šarr = <span class="hljs-string">[10000,10000]</span><br>è¾“å‡ºï¼š<span class="hljs-string">[10000,10000]</span><br></code></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 4ï¼š</strong></p><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs dns">è¾“å…¥ï¼šarr = [<span class="hljs-number">2,3,5,7</span>,<span class="hljs-number">11,13,17,19</span>]<br>è¾“å‡ºï¼š[<span class="hljs-number">2,3,5,17</span>,<span class="hljs-number">7,11,13,19</span>]<br></code></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 5ï¼š</strong></p><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs accesslog">è¾“å…¥ï¼šarr = <span class="hljs-string">[10,100,1000,10000]</span><br>è¾“å‡ºï¼š<span class="hljs-string">[10,100,10000,1000]</span><br></code></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= arr.length &lt;= 500</code></li><li><code>0 &lt;= arr[i] &lt;= 10^4</code></li></ul><hr><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>ç»Ÿè®¡äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°</p><ul><li>å¯ä»¥åˆ¤æ–­æœ«å°¾æ˜¯å¦ä¸º1ï¼Œç„¶åè¿›è¡Œå‘å³ç§»ä½ï¼Œç§»ä½ä¹‹åæ•°å­—ä¸º0æ—¶åˆ™æ²¡æœ‰1ã€‚</li></ul><h6 id="ä½¿ç”¨ä»¿å‡½æ•°"><a href="#ä½¿ç”¨ä»¿å‡½æ•°" class="headerlink" title="ä½¿ç”¨ä»¿å‡½æ•°"></a>ä½¿ç”¨ä»¿å‡½æ•°</h6><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">cmp</span> &#123;<br>        <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">(<span class="hljs-type">int</span> x,<span class="hljs-type">int</span> y)</span></span>&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-built_in">countbit</span>(x) &lt; <span class="hljs-built_in">countbit</span>(y) || (<span class="hljs-built_in">countbit</span>(x) == <span class="hljs-built_in">countbit</span>(y)&amp;&amp;x &lt; y);<br>        &#125;;<br>        <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">countbit</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span> </span>&#123;<br>            <span class="hljs-type">int</span> cnt = <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">while</span>(x) &#123;<br>                cnt += x &amp; <span class="hljs-number">1</span>;<br>                x = x&gt;&gt;<span class="hljs-number">1</span>;<br>            &#125;<br>            <span class="hljs-keyword">return</span> cnt;<br>        &#125;;<br>    &#125;;<br>    <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">sortByBits</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; arr)</span> </span>&#123;<br>        <span class="hljs-built_in">sort</span>(arr.<span class="hljs-built_in">begin</span>(), arr.<span class="hljs-built_in">end</span>(), <span class="hljs-built_in">cmp</span>());<br>        <span class="hljs-keyword">return</span> arr;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h6 id="lambdaè¡¨è¾¾å¼"><a href="#lambdaè¡¨è¾¾å¼" class="headerlink" title="lambdaè¡¨è¾¾å¼"></a>lambdaè¡¨è¾¾å¼</h6><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">sortByBits</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; arr)</span> </span>&#123;<br>        <span class="hljs-keyword">auto</span> countbit = [](<span class="hljs-type">int</span> x) -&gt;<span class="hljs-type">int</span> &#123;<br>            <span class="hljs-type">int</span> cnt = <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">while</span>(x) &#123;<br>                cnt += x &amp; <span class="hljs-number">1</span>;<br>                x = x&gt;&gt;<span class="hljs-number">1</span>;<br>            &#125;<br>            <span class="hljs-keyword">return</span> cnt;<br>        &#125;;<br>        <span class="hljs-keyword">auto</span> cmp = [&amp;countbit](<span class="hljs-type">int</span> x,<span class="hljs-type">int</span> y)-&gt;<span class="hljs-type">bool</span> &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-built_in">countbit</span>(x) &lt; <span class="hljs-built_in">countbit</span>(y) || (<span class="hljs-built_in">countbit</span>(x) == <span class="hljs-built_in">countbit</span>(y)&amp;&amp; x &lt; y);<br>        &#125;;<br>        <span class="hljs-built_in">sort</span>(arr.<span class="hljs-built_in">begin</span>(), arr.<span class="hljs-built_in">end</span>(), cmp);<br>        <span class="hljs-keyword">return</span> arr;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h6 id="äºŒè¿›åˆ¶å¸¸è§æ“ä½œ"><a href="#äºŒè¿›åˆ¶å¸¸è§æ“ä½œ" class="headerlink" title="äºŒè¿›åˆ¶å¸¸è§æ“ä½œ"></a>äºŒè¿›åˆ¶å¸¸è§æ“ä½œ</h6><p><a href="http://graphics.stanford.edu/~seander/bithacks.html">äºŒè¿›åˆ¶ç®—æ³•å®å…¸</a></p><p>å°†äºŒè¿›åˆ¶ä¸­æœ€åçš„ä¸€ä¸ª<code>1</code>å˜ä¸º<code>0</code>ï¼š<code>x &amp; x-1</code></p>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
      <category>ä½è¿ç®—</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ¯æ—¥ä¸€é¢˜</tag>
      
      <tag>LeetCode</tag>
      
      <tag>ä½è¿ç®—</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>127. å•è¯æ¥é¾™</title>
    <link href="/2020/11/05/127-%E5%8D%95%E8%AF%8D%E6%8E%A5%E9%BE%99/"/>
    <url>/2020/11/05/127-%E5%8D%95%E8%AF%8D%E6%8E%A5%E9%BE%99/</url>
    
    <content type="html"><![CDATA[<h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a><a href="https://leetcode-cn.com/problems/word-ladder/">é¢˜ç›®æè¿°</a></h2><p>éš¾åº¦ä¸­ç­‰501æ”¶è—åˆ†äº«åˆ‡æ¢ä¸ºè‹±æ–‡æ¥æ”¶åŠ¨æ€åé¦ˆ</p><p>ç»™å®šä¸¤ä¸ªå•è¯ï¼ˆ<em>beginWord</em> å’Œ <em>endWord</em>ï¼‰å’Œä¸€ä¸ªå­—å…¸ï¼Œæ‰¾åˆ°ä» <em>beginWord</em> åˆ° <em>endWord</em> çš„æœ€çŸ­è½¬æ¢åºåˆ—çš„é•¿åº¦ã€‚è½¬æ¢éœ€éµå¾ªå¦‚ä¸‹è§„åˆ™ï¼š</p><ol><li><p>æ¯æ¬¡è½¬æ¢åªèƒ½æ”¹å˜ä¸€ä¸ªå­—æ¯ã€‚</p></li><li><p>è½¬æ¢è¿‡ç¨‹ä¸­çš„ä¸­é—´å•è¯å¿…é¡»æ˜¯å­—å…¸ä¸­çš„å•è¯ã€‚</p></li></ol><span id="more"></span><p><strong>è¯´æ˜:</strong></p><ul><li>å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„è½¬æ¢åºåˆ—ï¼Œè¿”å› 0ã€‚</li><li>æ‰€æœ‰å•è¯å…·æœ‰ç›¸åŒçš„é•¿åº¦ã€‚</li><li>æ‰€æœ‰å•è¯åªç”±å°å†™å­—æ¯ç»„æˆã€‚</li><li>å­—å…¸ä¸­ä¸å­˜åœ¨é‡å¤çš„å•è¯ã€‚</li><li>ä½ å¯ä»¥å‡è®¾ <em>beginWord</em> å’Œ <em>endWord</em> æ˜¯éç©ºçš„ï¼Œä¸”äºŒè€…ä¸ç›¸åŒã€‚</li></ul><p><strong>ç¤ºä¾‹ 1:</strong></p><figure class="highlight clean"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><pre><code class="hljs clean">è¾“å…¥:<br>beginWord = <span class="hljs-string">&quot;hit&quot;</span>,<br>endWord = <span class="hljs-string">&quot;cog&quot;</span>,<br>wordList = [<span class="hljs-string">&quot;hot&quot;</span>,<span class="hljs-string">&quot;dot&quot;</span>,<span class="hljs-string">&quot;dog&quot;</span>,<span class="hljs-string">&quot;lot&quot;</span>,<span class="hljs-string">&quot;log&quot;</span>,<span class="hljs-string">&quot;cog&quot;</span>]<br><br>è¾“å‡º: <span class="hljs-number">5</span><br><br>è§£é‡Š: ä¸€ä¸ªæœ€çŸ­è½¬æ¢åºåˆ—æ˜¯ <span class="hljs-string">&quot;hit&quot;</span> -&gt; <span class="hljs-string">&quot;hot&quot;</span> -&gt; <span class="hljs-string">&quot;dot&quot;</span> -&gt; <span class="hljs-string">&quot;dog&quot;</span> -&gt; <span class="hljs-string">&quot;cog&quot;</span>,<br>     è¿”å›å®ƒçš„é•¿åº¦ <span class="hljs-number">5</span>ã€‚<br></code></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2:</strong></p><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs erlang">è¾“å…¥:<br><span class="hljs-keyword">begin</span>Word = <span class="hljs-string">&quot;hit&quot;</span><br><span class="hljs-keyword">end</span>Word = <span class="hljs-string">&quot;cog&quot;</span><br>wordList = [<span class="hljs-string">&quot;hot&quot;</span>,<span class="hljs-string">&quot;dot&quot;</span>,<span class="hljs-string">&quot;dog&quot;</span>,<span class="hljs-string">&quot;lot&quot;</span>,<span class="hljs-string">&quot;log&quot;</span>]<br><br>è¾“å‡º: <span class="hljs-number">0</span><br><br>è§£é‡Š: <span class="hljs-keyword">end</span>Word <span class="hljs-string">&quot;cog&quot;</span> ä¸åœ¨å­—å…¸ä¸­ï¼Œæ‰€ä»¥æ— æ³•è¿›è¡Œè½¬æ¢ã€‚<span class="hljs-number">127</span>. å•è¯æ¥é¾™<br>ç»™å®šä¸¤ä¸ªå•è¯ï¼ˆ<span class="hljs-keyword">begin</span>Word å’Œ <span class="hljs-keyword">end</span>Wordï¼‰å’Œä¸€ä¸ªå­—å…¸ï¼Œæ‰¾åˆ°ä» <span class="hljs-keyword">begin</span>Word åˆ° <span class="hljs-keyword">end</span>Word çš„æœ€çŸ­è½¬æ¢åºåˆ—çš„é•¿åº¦ã€‚è½¬æ¢éœ€éµå¾ªå¦‚ä¸‹è§„åˆ™ï¼š<br><br>æ¯æ¬¡è½¬æ¢åªèƒ½æ”¹å˜ä¸€ä¸ªå­—æ¯ã€‚<br>è½¬æ¢è¿‡ç¨‹ä¸­çš„ä¸­é—´å•è¯å¿…é¡»æ˜¯å­—å…¸ä¸­çš„å•è¯ã€‚<br>è¯´æ˜:<br><br>å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„è½¬æ¢åºåˆ—ï¼Œè¿”å› <span class="hljs-number">0</span>ã€‚<br>æ‰€æœ‰å•è¯å…·æœ‰ç›¸åŒçš„é•¿åº¦ã€‚<br>æ‰€æœ‰å•è¯åªç”±å°å†™å­—æ¯ç»„æˆã€‚<br>å­—å…¸ä¸­ä¸å­˜åœ¨é‡å¤çš„å•è¯ã€‚<br>ä½ å¯ä»¥å‡è®¾ <span class="hljs-keyword">begin</span>Word å’Œ <span class="hljs-keyword">end</span>Word æ˜¯éç©ºçš„ï¼Œä¸”äºŒè€…ä¸ç›¸åŒã€‚<br>ç¤ºä¾‹ <span class="hljs-number">1</span>:<br><br>è¾“å…¥:<br><span class="hljs-keyword">begin</span>Word = <span class="hljs-string">&quot;hit&quot;</span>,<br><span class="hljs-keyword">end</span>Word = <span class="hljs-string">&quot;cog&quot;</span>,<br>wordList = [<span class="hljs-string">&quot;hot&quot;</span>,<span class="hljs-string">&quot;dot&quot;</span>,<span class="hljs-string">&quot;dog&quot;</span>,<span class="hljs-string">&quot;lot&quot;</span>,<span class="hljs-string">&quot;log&quot;</span>,<span class="hljs-string">&quot;cog&quot;</span>]<br><br>è¾“å‡º: <span class="hljs-number">5</span><br><br>è§£é‡Š: ä¸€ä¸ªæœ€çŸ­è½¬æ¢åºåˆ—æ˜¯ <span class="hljs-string">&quot;hit&quot;</span> -&gt; <span class="hljs-string">&quot;hot&quot;</span> -&gt; <span class="hljs-string">&quot;dot&quot;</span> -&gt; <span class="hljs-string">&quot;dog&quot;</span> -&gt; <span class="hljs-string">&quot;cog&quot;</span>,<br>     è¿”å›å®ƒçš„é•¿åº¦ <span class="hljs-number">5</span>ã€‚<br>ç¤ºä¾‹ <span class="hljs-number">2</span>:<br><br>è¾“å…¥:<br><span class="hljs-keyword">begin</span>Word = <span class="hljs-string">&quot;hit&quot;</span><br><span class="hljs-keyword">end</span>Word = <span class="hljs-string">&quot;cog&quot;</span><br>wordList = [<span class="hljs-string">&quot;hot&quot;</span>,<span class="hljs-string">&quot;dot&quot;</span>,<span class="hljs-string">&quot;dog&quot;</span>,<span class="hljs-string">&quot;lot&quot;</span>,<span class="hljs-string">&quot;log&quot;</span>]<br><br>è¾“å‡º: <span class="hljs-number">0</span><br><br>è§£é‡Š: <span class="hljs-keyword">end</span>Word <span class="hljs-string">&quot;cog&quot;</span> ä¸åœ¨å­—å…¸ä¸­ï¼Œæ‰€ä»¥æ— æ³•è¿›è¡Œè½¬æ¢ã€‚<br></code></pre></td></tr></table></figure><hr><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><ul><li>æœ€å°‘æ¬¡æ•°ï¼Œå¯ä»¥ç”¨<code>bfs</code>æœç´¢.<ul><li>ä½¿ç”¨<code>queue</code>è¿›è¡Œ<code>bfs</code>æœç´¢ï¼Œæ¯æ¬¡å¯¹å…ƒç´ çš„æ¯ä¸ªä½ç½®çš„å•è¯è¿›è¡Œæ›¿æ¢</li><li>ä¸ºäº†å¿«é€ŸæŸ¥æ‰¾ä½¿ç”¨<code>unordered_set</code>è®°å½•å­—å…¸ä¸­çš„å…ƒç´ </li><li>é¿å…ç›¸åŒèŠ‚ç‚¹é‡å¤è®¿é—®ï¼ŒåŠ å…¥è®¿é—®<code>unordered_set</code>ç±»å‹çš„æ ‡è®°<code>vis</code></li><li>å½“é˜Ÿåˆ—ä¸ºç©ºï¼Œä¸”æ²¡æœ‰æ‰¾åˆ°æ—¶ï¼Œåˆ™ä¸å­˜åœ¨è¿™æ ·çš„è·¯å¾„</li></ul></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">ladderLength</span><span class="hljs-params">(string beginWord, string endWord, vector&lt;string&gt;&amp; wordList)</span> </span>&#123;<br>        <span class="hljs-function">unordered_set&lt;string&gt; <span class="hljs-title">s</span><span class="hljs-params">(wordList.begin(), wordList.end())</span></span>;<br>        unordered_set&lt;string&gt; vis;<br>        <span class="hljs-keyword">if</span>(s.<span class="hljs-built_in">find</span>(endWord) == s.<span class="hljs-built_in">end</span>()) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>        queue&lt;string&gt; q;<br>        q.<span class="hljs-built_in">push</span>(beginWord);<br>        vis.<span class="hljs-built_in">insert</span>(beginWord);<br>        <span class="hljs-type">int</span> res = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">while</span>(!q.<span class="hljs-built_in">empty</span>()) &#123;<br>            ++res;<br>            <span class="hljs-type">int</span> n = q.<span class="hljs-built_in">size</span>();<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; n;++i) &#123;<br>                <span class="hljs-keyword">auto</span> t = q.<span class="hljs-built_in">front</span>();<br>                q.<span class="hljs-built_in">pop</span>();<br>                <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>;j &lt; t.<span class="hljs-built_in">size</span>();++j) &#123;<br>                    <span class="hljs-keyword">auto</span> c = t[j];<br>                    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> k = <span class="hljs-number">0</span>;k &lt; <span class="hljs-number">26</span>;++k) &#123;<br>                        t[j] = <span class="hljs-string">&#x27;a&#x27;</span> + k;<br>                        <span class="hljs-keyword">if</span>(t==endWord) <span class="hljs-keyword">return</span> res;<br>                        <span class="hljs-keyword">if</span>(s.<span class="hljs-built_in">find</span>(t) != s.<span class="hljs-built_in">end</span>() &amp;&amp; vis.<span class="hljs-built_in">find</span>(t)==vis.<span class="hljs-built_in">end</span>()) &#123;<br>                            q.<span class="hljs-built_in">push</span>(t);<br>                            vis.<span class="hljs-built_in">insert</span>(t);<br>                        &#125;<br>                    &#125;<br>                    t[j] = c;<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
      <category>å¹¿åº¦ä¼˜å…ˆæœç´¢</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ¯æ—¥ä¸€é¢˜</tag>
      
      <tag>LeetCode</tag>
      
      <tag>å­—ç¬¦ä¸²</tag>
      
      <tag>BFS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>emplace_backã€push_backæ‚è°ˆ</title>
    <link href="/2020/11/04/emplace-back%E3%80%81push-back%E6%9D%82%E8%B0%88/"/>
    <url>/2020/11/04/emplace-back%E3%80%81push-back%E6%9D%82%E8%B0%88/</url>
    
    <content type="html"><![CDATA[<h2 id="emplace-back"><a href="#emplace-back" class="headerlink" title="emplace_back"></a>emplace_back</h2><p>ç›¸å½“äºæ˜¯ç›´æ¥åˆå§‹åŒ–ï¼Œæ ¹æ®å‡½æ•°é‡è½½æ‰¾æœ€ä½³åŒ¹é…çš„æ„é€ å‡½æ•°ã€‚è‹¥<code>emplace</code>çš„æ˜¯ä¸€ä¸ªå®Œæ•´çš„å¯¹è±¡ï¼Œåˆ™æ ¹æ®å‡½æ•°åŒ¹é…è§„åˆ™ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°ã€‚</p><h2 id="push-back"><a href="#push-back" class="headerlink" title="push_back"></a>push_back</h2><p>ç›¸å½“äºæ˜¯æ‹·è´åˆå§‹åŒ–ï¼ˆä½†æ˜¯ç¼–è¯‘å™¨ä¸ä¼šè¿›è¡Œä¼˜åŒ–ï¼‰ï¼Œè‹¥<code>push</code>çš„å¯¹è±¡ä¸æ˜¯å®Œæ•´çš„å¯¹è±¡ï¼Œåˆ™ä¼šè¿›è¡Œç±»å‹è½¬æ¢ï¼Œè½¬æ¢ä¹‹åè¿›è¡Œæ·»åŠ ï¼Œæ·»åŠ æ—¶ä¼šè°ƒç”¨æ‹·è´æ„é€ å‡½æ•°ã€‚</p><p>è‹¥<code>push_back</code>æœ‰å³å€¼å¼•ç”¨çš„ç‰ˆæœ¬ï¼Œæ·»åŠ çš„å¯¹è±¡åˆæ˜¯ä¸€ä¸ªå³å€¼ï¼Œæ­¤æ—¶ä¼šè°ƒç”¨å³å€¼ç‰ˆæœ¬çš„ç§»åŠ¨æ„é€ ã€‚é€Ÿåº¦ä¹Ÿä¼šå¾ˆå¿«ã€‚</p><span id="more"></span><h2 id="æ€§èƒ½å·®åˆ«"><a href="#æ€§èƒ½å·®åˆ«" class="headerlink" title="æ€§èƒ½å·®åˆ«"></a>æ€§èƒ½å·®åˆ«</h2><ul><li>å½“æ’å…¥çš„éƒ½æ˜¯ä¸´æ—¶å¯¹è±¡æ—¶ï¼Œæ€§èƒ½æ²¡æœ‰å·®åˆ«ã€‚<ul><li>å¦‚æœæœ‰ç§»åŠ¨æ„é€ å‡½æ•°ï¼Œä¸¤è€…éƒ½ä¼šå…ˆè°ƒç”¨æ„é€ å‡½æ•°ï¼Œåè°ƒç”¨ç§»åŠ¨æ„é€ å‡½æ•°ï¼Œæ€§èƒ½æ²¡æœ‰å·®åˆ«ã€‚</li><li>æ²¡æœ‰ï¼Œä¸¤è€…éƒ½ä¼šå…ˆè°ƒç”¨æ„é€ å‡½æ•°ï¼Œåè°ƒç”¨æ‹·è´æ„é€ å‡½æ•°ï¼Œæ€§èƒ½æ²¡æœ‰å·®åˆ«ã€‚</li></ul></li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></div></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br> <br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">President</span><br>&#123;<br>    std::string name;<br>    std::string country;<br>    <span class="hljs-type">int</span> year;<br> <br>    <span class="hljs-built_in">President</span>(std::string p_name, std::string p_country, <span class="hljs-type">int</span> p_year)<br>        : <span class="hljs-built_in">name</span>(std::<span class="hljs-built_in">move</span>(p_name)), <span class="hljs-built_in">country</span>(std::<span class="hljs-built_in">move</span>(p_country)), <span class="hljs-built_in">year</span>(p_year)<br>    &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;I am being constructed.\n&quot;</span>;<br>    &#125;<br>    <span class="hljs-built_in">President</span>(President&amp;&amp; other)<br>        : <span class="hljs-built_in">name</span>(std::<span class="hljs-built_in">move</span>(other.name)), <span class="hljs-built_in">country</span>(std::<span class="hljs-built_in">move</span>(other.country)), <span class="hljs-built_in">year</span>(other.year)<br>    &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;I am being moved.\n&quot;</span>;<br>    &#125;<br>    <span class="hljs-built_in">President</span>(<span class="hljs-type">const</span> President&amp; other)<br>        : <span class="hljs-built_in">name</span>(other.name), <span class="hljs-built_in">country</span>(other.country), <span class="hljs-built_in">year</span>(other.year)<br>    &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;I am copy construced.\n&quot;</span>;<br>    &#125;<br>    President&amp; <span class="hljs-keyword">operator</span>=(<span class="hljs-type">const</span> President&amp; other) = <span class="hljs-keyword">default</span>;<br>&#125;;<br> <br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    std::vector&lt;President&gt; elections;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;emplace_back:\n&quot;</span>;<br>    elections.<span class="hljs-built_in">emplace_back</span>(<span class="hljs-built_in">President</span>(<span class="hljs-string">&quot;Nelson Mandela&quot;</span>, <span class="hljs-string">&quot;South Africa&quot;</span>, <span class="hljs-number">1994</span>));<br> <br>    std::vector&lt;President&gt; reElections;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;\npush_back:\n&quot;</span>;<br>    reElections.<span class="hljs-built_in">push_back</span>(<span class="hljs-built_in">President</span>(<span class="hljs-string">&quot;Franklin Delano Roosevelt&quot;</span>, <span class="hljs-string">&quot;the USA&quot;</span>, <span class="hljs-number">1936</span>));<br> <br>    std::cout &lt;&lt; <span class="hljs-string">&quot;\nContents:\n&quot;</span>;<br>    <span class="hljs-keyword">for</span> (President <span class="hljs-type">const</span>&amp; president: elections) &#123;<br>        std::cout &lt;&lt; president.name &lt;&lt; <span class="hljs-string">&quot; was elected president of &quot;</span><br>                  &lt;&lt; president.country &lt;&lt; <span class="hljs-string">&quot; in &quot;</span> &lt;&lt; president.year &lt;&lt; <span class="hljs-string">&quot;.\n&quot;</span>;<br>    &#125;<br>    <span class="hljs-keyword">for</span> (President <span class="hljs-type">const</span>&amp; president: reElections) &#123;<br>        std::cout &lt;&lt; president.name &lt;&lt; <span class="hljs-string">&quot; was re-elected president of &quot;</span><br>                  &lt;&lt; president.country &lt;&lt; <span class="hljs-string">&quot; in &quot;</span> &lt;&lt; president.year &lt;&lt; <span class="hljs-string">&quot;.\n&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿è¡Œç»“æœ</p><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs erlang">emplace_back:<br>I am being constructed.<br>I am being moved.<br><br>push_back:<br>I am being constructed.<br>I am being moved.<br><br>Contents:<br>Nelson Mandela was elected president <span class="hljs-keyword">of</span> South Africa in <span class="hljs-number">1994</span>.<br>Franklin Delano Roosevelt was re-elected president <span class="hljs-keyword">of</span> the USA in <span class="hljs-number">1936</span>.<br></code></pre></td></tr></table></figure><ul><li><p>å½“æ’å…¥çš„æ—¶å®Œæ•´çš„å¯¹è±¡æ—¶ï¼Œæ€§èƒ½æ²¡æœ‰å·®è·ã€‚</p><ul><li>å› ä¸º<code>push_back()</code>æ˜¯ç›´æ¥è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°ï¼Œ<code>emplace_back</code>æ˜¯æŒ‰ç…§å‡½æ•°åŒ¹é…è§„åˆ™è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°ï¼Œä¸¤è€…æ€§èƒ½ç›¸åŒã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    std::vector&lt;President&gt; elections;<br>    <span class="hljs-function">President <span class="hljs-title">temp</span><span class="hljs-params">(<span class="hljs-string">&quot;Franklin Delano Roosevelt&quot;</span>, <span class="hljs-string">&quot;the USA&quot;</span>, <span class="hljs-number">1936</span>)</span></span>;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;emplace_back:\n&quot;</span>;<br>    elections.<span class="hljs-built_in">emplace_back</span>(temp);<br> <br>    std::vector&lt;President&gt; reElections;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;\npush_back:\n&quot;</span>;<br>    reElections.<span class="hljs-built_in">push_back</span>(temp);<br> <br>    std::cout &lt;&lt; <span class="hljs-string">&quot;\nContents:\n&quot;</span>;<br>    <span class="hljs-keyword">for</span> (President <span class="hljs-type">const</span>&amp; president: elections) &#123;<br>        std::cout &lt;&lt; president.name &lt;&lt; <span class="hljs-string">&quot; was elected president of &quot;</span><br>                  &lt;&lt; president.country &lt;&lt; <span class="hljs-string">&quot; in &quot;</span> &lt;&lt; president.year &lt;&lt; <span class="hljs-string">&quot;.\n&quot;</span>;<br>    &#125;<br>    <span class="hljs-keyword">for</span> (President <span class="hljs-type">const</span>&amp; president: reElections) &#123;<br>        std::cout &lt;&lt; president.name &lt;&lt; <span class="hljs-string">&quot; was re-elected president of &quot;</span><br>                  &lt;&lt; president.country &lt;&lt; <span class="hljs-string">&quot; in &quot;</span> &lt;&lt; president.year &lt;&lt; <span class="hljs-string">&quot;.\n&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs erlang">I am being constructed.<br>emplace_back:<br>I am being copy constructed.<br><br>push_back:<br>I am being copy constructed.<br><br>Contents:<br>Franklin Delano Roosevelt was elected president <span class="hljs-keyword">of</span> the USA in <span class="hljs-number">1936</span>.<br>Franklin Delano Roosevelt was re-elected president <span class="hljs-keyword">of</span> the USA in <span class="hljs-number">1936</span>.<br></code></pre></td></tr></table></figure></li></ul><ul><li><p>å½“<code>push_back</code>ä¸€ä¸ªä¸´æ—¶å¯¹è±¡ï¼Œ<code>emplace_back</code>ä¸æ˜¯å¯¹è±¡æ—¶ï¼Œä¾‹å¦‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs cpp">std::vector&lt;President&gt; elections;<br>std::cout &lt;&lt; <span class="hljs-string">&quot;emplace_back:\n&quot;</span>;<br>elections.<span class="hljs-built_in">emplace_back</span>(<span class="hljs-string">&quot;Franklin Delano Roosevelt&quot;</span>, <span class="hljs-string">&quot;the USA&quot;</span>, <span class="hljs-number">1936</span>);<br><br>std::vector&lt;President&gt; reElections;<br>std::cout &lt;&lt; <span class="hljs-string">&quot;\npush_back:\n&quot;</span>;<br>reElections.<span class="hljs-built_in">push_back</span>(<span class="hljs-built_in">President</span>(<span class="hljs-string">&quot;Franklin Delano Roosevelt&quot;</span>, <span class="hljs-string">&quot;the USA&quot;</span>, <span class="hljs-number">1936</span>));<br></code></pre></td></tr></table></figure><ul><li><p>å¦‚æœå¯¹è±¡æœ‰ç§»åŠ¨æ„é€ å‡½æ•°ï¼Œä¸¤è€…æ€§èƒ½å·®è·ä¸å¤§ï¼Œ<code>emplace_back</code>ä¼šå¿«ä¸€ç‚¹ã€‚</p><p><code>push_back</code>ä¼šè°ƒç”¨ä¸€æ¬¡æ„é€ å‡½æ•°ã€‚</p><p><code>emplace_back</code><strong>ä¼šè°ƒç”¨ä¸€æ¬¡æ„é€ å‡½æ•°ï¼Œå†è°ƒç”¨ä¸€æ¬¡ç§»åŠ¨æ„é€ å‡½æ•°</strong>ï¼Œä¼šæ…¢ä¸€ç‚¹ã€‚</p></li><li><p>å¦‚æœå¯¹è±¡æ²¡æœ‰ç§»åŠ¨æ„é€ å‡½æ•°ï¼Œ<code>emplace_back</code>ä¼šå¿«å¾ˆå¤šã€‚</p><p><code>push_back</code>ä¼šè°ƒç”¨ä¸€æ¬¡æ„é€ å‡½æ•°ã€‚</p><p><code>emplace_back</code><strong>ä¼šè°ƒç”¨ä¸€æ¬¡æ„é€ å‡½æ•°ï¼Œå†è°ƒç”¨ä¸€æ¬¡æ‹·è´æ„é€ å‡½æ•°</strong>ï¼Œæ€§èƒ½å·®è·æ¯”è¾ƒå¤§ã€‚</p></li></ul></li></ul><h2 id="push-backçš„ç±»åˆ«çš„æ‹·è´æ„é€ å‡½æ•°å‚æ•°å¦‚æœä¸æ˜¯constä¼šå‡ºç°é”™è¯¯"><a href="#push-backçš„ç±»åˆ«çš„æ‹·è´æ„é€ å‡½æ•°å‚æ•°å¦‚æœä¸æ˜¯constä¼šå‡ºç°é”™è¯¯" class="headerlink" title="push_backçš„ç±»åˆ«çš„æ‹·è´æ„é€ å‡½æ•°å‚æ•°å¦‚æœä¸æ˜¯constä¼šå‡ºç°é”™è¯¯"></a>push_backçš„ç±»åˆ«çš„æ‹·è´æ„é€ å‡½æ•°å‚æ•°å¦‚æœä¸æ˜¯constä¼šå‡ºç°é”™è¯¯</h2><p><code>push_back()</code>æœ‰å››ç§å½¢å¼ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">push_back</span><span class="hljs-params">( <span class="hljs-type">const</span> T&amp; value )</span></span>;<br><span class="hljs-function"><span class="hljs-keyword">constexpr</span> <span class="hljs-type">void</span> <span class="hljs-title">push_back</span><span class="hljs-params">( <span class="hljs-type">const</span> T&amp; value )</span></span>;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">push_back</span><span class="hljs-params">( T&amp;&amp; value )</span></span>;<br><span class="hljs-function"><span class="hljs-keyword">constexpr</span> <span class="hljs-type">void</span> <span class="hljs-title">push_back</span><span class="hljs-params">( T&amp;&amp; value )</span></span>;<br></code></pre></td></tr></table></figure><p>å¯¹äºéå³å€¼æ—¶ï¼ŒæŠŠå¯¹è±¡è½¬æ¢æˆ<code>const</code>ï¼Œä¹‹åä¼šè°ƒç”¨æ‹·è´æ„é€ å‡½æ•°ï¼Œå½“æ‹·è´æ„é€ å‡½æ•°ä¸åŠ <code>const</code>æ—¶ï¼Œä¼šå°è¯•æŠŠ<code>const</code>å¯¹è±¡è½¬æ¢ä¸ºé<code>const</code>å¯¹è±¡ï¼Œå¼•èµ·é”™è¯¯ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>C++</category>
      
      <category>STL</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C++</tag>
      
      <tag>éšç¬”</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>57. æ’å…¥åŒºé—´</title>
    <link href="/2020/11/04/57-%E6%8F%92%E5%85%A5%E5%8C%BA%E9%97%B4/"/>
    <url>/2020/11/04/57-%E6%8F%92%E5%85%A5%E5%8C%BA%E9%97%B4/</url>
    
    <content type="html"><![CDATA[<h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a><a href="https://leetcode-cn.com/problems/insert-interval/">é¢˜ç›®æè¿°</a></h2><p>ç»™å‡ºä¸€ä¸ª<em>æ— é‡å çš„ ï¼Œ</em>æŒ‰ç…§åŒºé—´èµ·å§‹ç«¯ç‚¹æ’åºçš„åŒºé—´åˆ—è¡¨ã€‚</p><p>åœ¨åˆ—è¡¨ä¸­æ’å…¥ä¸€ä¸ªæ–°çš„åŒºé—´ï¼Œä½ éœ€è¦ç¡®ä¿åˆ—è¡¨ä¸­çš„åŒºé—´ä»ç„¶æœ‰åºä¸”ä¸é‡å ï¼ˆå¦‚æœæœ‰å¿…è¦çš„è¯ï¼Œå¯ä»¥åˆå¹¶åŒºé—´ï¼‰ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><figure class="highlight lua"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><pre><code class="hljs lua">è¾“å…¥ï¼šintervals = <span class="hljs-string">[[1,3],[6,9]]</span>, newInterval = [<span class="hljs-number">2</span>,<span class="hljs-number">5</span>]<br>è¾“å‡ºï¼š<span class="hljs-string">[[1,5],[6,9]]</span><br></code></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs inform7">è¾“å…¥ï¼šintervals = <span class="hljs-comment">[<span class="hljs-comment">[1,2]</span>,<span class="hljs-comment">[3,5]</span>,<span class="hljs-comment">[6,7]</span>,<span class="hljs-comment">[8,10]</span>,<span class="hljs-comment">[12,16]</span>]</span>, newInterval = <span class="hljs-comment">[4,8]</span><br>è¾“å‡ºï¼š<span class="hljs-comment">[<span class="hljs-comment">[1,2]</span>,<span class="hljs-comment">[3,10]</span>,<span class="hljs-comment">[12,16]</span>]</span><br>è§£é‡Šï¼šè¿™æ˜¯å› ä¸ºæ–°çš„åŒºé—´ <span class="hljs-comment">[4,8]</span> ä¸ <span class="hljs-comment">[3,5]</span>,<span class="hljs-comment">[6,7]</span>,<span class="hljs-comment">[8,10]</span> é‡å ã€‚<br></code></pre></td></tr></table></figure> <span id="more"></span><p><strong>æ³¨æ„ï¼š</strong>è¾“å…¥ç±»å‹å·²åœ¨ 2019 å¹´ 4 æœˆ 15 æ—¥æ›´æ”¹ã€‚è¯·é‡ç½®ä¸ºé»˜è®¤ä»£ç å®šä¹‰ä»¥è·å–æ–°çš„æ–¹æ³•ç­¾åã€‚</p><hr><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><h3 id="æ¨¡æ‹Ÿ"><a href="#æ¨¡æ‹Ÿ" class="headerlink" title="æ¨¡æ‹Ÿ"></a>æ¨¡æ‹Ÿ</h3><ul><li><p>åˆ¤æ–­<code>newInterval</code>æ˜¯å¦å’Œ<code>interval</code>æœ‰é‡å </p><ul><li><p>æœ‰ï¼Œè¿›è¡Œåˆå¹¶ï¼Œä¹‹åæ›´æ–°çš„<code>newInterval</code>ï¼ˆä¸éœ€è¦æ’å…¥<code>interval</code>ï¼‰</p></li><li><p>æ²¡æœ‰ï¼Œåˆ¤æ–­<code>newInterval</code>æ˜¯å¦å¯ä»¥æ’å…¥</p><ul><li><p>å¯ä»¥ï¼Œæ’å…¥<code>newInterval</code>ï¼Œä¹‹åæ’å…¥<code>interval</code></p></li><li><p>ä¸å¯ä»¥ï¼Œæ’å…¥<code>interval</code></p></li></ul></li></ul></li></ul><ul><li><p><strong>åˆå¹¶æ¡ä»¶</strong>ï¼šåŒºé—´ä¹‹é—´å­˜åœ¨äº¤å‰ï¼Œ<code>interval[1] &gt;= newInterval[0] \&amp;\&amp; interval[0] &lt;= newInterval[1]</code></p></li><li><p><img src="image-20201104093554022.png" alt="image-20201104093554022"></p></li><li><p><strong>æ’å…¥æ¡ä»¶</strong>ï¼šæ–°åŒºé—´çš„å°¾ç«¯å°äº<code>interval</code>çš„èµ·ç‚¹ï¼Œä½†æ˜¯å¯èƒ½ä¼šæ’å…¥å¾ˆå¤šæ¬¡ï¼Œå› æ­¤éœ€è¦æ‰“æ ‡è®°ã€‚<code>newInterval[1] &lt; interval[0]&amp;&amp;!flag</code>ã€‚</p><h3 id="C-ä»£ç "><a href="#C-ä»£ç " class="headerlink" title="C++ä»£ç "></a>C++ä»£ç </h3></li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; <span class="hljs-built_in">insert</span>(vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt;&amp; intervals, vector&lt;<span class="hljs-type">int</span>&gt;&amp; newInterval) &#123;<br>        vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; res;<br>        <span class="hljs-type">bool</span> flag = <span class="hljs-literal">false</span>;<br>        <span class="hljs-comment">// intervalå’ŒnewIntervalåˆå¹¶ï¼Œä¸èƒ½åˆå¹¶å°±æ’å…¥</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; interval:intervals) &#123;<br>            <span class="hljs-comment">// é‡åˆ</span><br>            <span class="hljs-keyword">if</span>(interval[<span class="hljs-number">1</span>] &gt;= newInterval[<span class="hljs-number">0</span>] &amp;&amp; interval[<span class="hljs-number">0</span>] &lt;= newInterval[<span class="hljs-number">1</span>]) &#123;<br>                newInterval[<span class="hljs-number">0</span>] = <span class="hljs-built_in">min</span>(newInterval[<span class="hljs-number">0</span>], interval[<span class="hljs-number">0</span>]);<br>                newInterval[<span class="hljs-number">1</span>] = <span class="hljs-built_in">max</span>(newInterval[<span class="hljs-number">1</span>], interval[<span class="hljs-number">1</span>]);<br>                <span class="hljs-keyword">continue</span>;<br>            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(newInterval[<span class="hljs-number">1</span>] &lt; interval[<span class="hljs-number">0</span>] &amp;&amp; !flag) &#123;<br>                <span class="hljs-comment">// ä¸é‡åˆ, ä¸”æ˜¯ç¬¬ä¸€æ¬¡</span><br>                res.<span class="hljs-built_in">push_back</span>(newInterval);<br>                flag = <span class="hljs-literal">true</span>;<br>            &#125;<br>            res.<span class="hljs-built_in">push_back</span>(interval);<br>        &#125;<br>        <span class="hljs-keyword">if</span>(!flag) &#123;<br>            res.<span class="hljs-built_in">push_back</span>(newInterval);<br>        &#125;<br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
      <category>æ¨¡æ‹Ÿ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ¨¡æ‹Ÿ</tag>
      
      <tag>åŒºé—´</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1124. è¡¨ç°è‰¯å¥½çš„æœ€é•¿æ—¶é—´æ®µ</title>
    <link href="/2020/11/03/1124-%E8%A1%A8%E7%8E%B0%E8%89%AF%E5%A5%BD%E7%9A%84%E6%9C%80%E9%95%BF%E6%97%B6%E9%97%B4%E6%AE%B5/"/>
    <url>/2020/11/03/1124-%E8%A1%A8%E7%8E%B0%E8%89%AF%E5%A5%BD%E7%9A%84%E6%9C%80%E9%95%BF%E6%97%B6%E9%97%B4%E6%AE%B5/</url>
    
    <content type="html"><![CDATA[<h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a><a href="https://leetcode-cn.com/problems/longest-well-performing-interval/">é¢˜ç›®æè¿°</a></h2><p>ç»™ä½ ä¸€ä»½å·¥ä½œæ—¶é—´è¡¨ <code>hours</code>ï¼Œä¸Šé¢è®°å½•ç€æŸä¸€ä½å‘˜å·¥æ¯å¤©çš„å·¥ä½œå°æ—¶æ•°ã€‚</p><p>æˆ‘ä»¬è®¤ä¸ºå½“å‘˜å·¥ä¸€å¤©ä¸­çš„å·¥ä½œå°æ—¶æ•°å¤§äº <code>8</code> å°æ—¶çš„æ—¶å€™ï¼Œé‚£ä¹ˆè¿™ä¸€å¤©å°±æ˜¯ã€Œ<strong>åŠ³ç´¯çš„ä¸€å¤©</strong>ã€ã€‚</p><p>æ‰€è°“ã€Œè¡¨ç°è‰¯å¥½çš„æ—¶é—´æ®µã€ï¼Œæ„å‘³åœ¨è¿™æ®µæ—¶é—´å†…ï¼Œã€ŒåŠ³ç´¯çš„å¤©æ•°ã€æ˜¯ä¸¥æ ¼ <strong>å¤§äº</strong>ã€Œä¸åŠ³ç´¯çš„å¤©æ•°ã€ã€‚</p><p>è¯·ä½ è¿”å›ã€Œè¡¨ç°è‰¯å¥½æ—¶é—´æ®µã€çš„æœ€å¤§é•¿åº¦ã€‚</p> <span id="more"></span><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><figure class="highlight inform7"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><pre><code class="hljs inform7">è¾“å…¥ï¼šhours = <span class="hljs-comment">[9,9,6,0,6,6,9]</span><br>è¾“å‡ºï¼š3<br>è§£é‡Šï¼šæœ€é•¿çš„è¡¨ç°è‰¯å¥½æ—¶é—´æ®µæ˜¯ <span class="hljs-comment">[9,9,6]</span>ã€‚<br></code></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= hours.length &lt;= 10000</code></li><li><code>0 &lt;= hours[i] &lt;= 16</code></li></ul><hr><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p><strong>å‡†å¤‡å·¥ä½œ</strong><br>   å°†$å·¥ä½œæ—¶é—´&gt;8å°æ—¶$è®°ä¸º1ï¼Œ$&lt;8$è®°ä¸º$-1$ï¼Œè®¡ç®—å‰ç¼€å’Œ<code>presum</code>ã€‚</p><p><strong>æš´åŠ›æšä¸¾</strong></p><ul><li>ä½¿ç”¨ä¸¤æ ¹æŒ‡é’ˆï¼Œ<code>i</code>ï¼Œ<code>j</code>å»æšä¸¾åŒºé—´<code>(j,i)</code>ï¼Œè®°å½•æœ€å¤§çš„<code>i-j</code>ï¼Œå¯ä»¥è¿›è¡Œé€‚åº¦å‰ªæï¼Œbutä»æ—§è¶…æ—¶ã€‚</li><li>æ—¶é—´å¤æ‚åº¦ï¼š$O(n^2)$ï¼Œç©ºé—´å¤æ‚åº¦ï¼š$O(n)$</li><li><strong>c++ä»£ç </strong></li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">longestWPI</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; hours)</span> </span>&#123;<br>        <span class="hljs-type">int</span> n = hours.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-type">int</span> res = <span class="hljs-number">0</span>;<br>        <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">presum</span><span class="hljs-params">(n + <span class="hljs-number">1</span>)</span></span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; n;++i) &#123;<br>            presum[i + <span class="hljs-number">1</span>] = presum[i] + (hours[i] &gt; <span class="hljs-number">8</span>? <span class="hljs-number">1</span> : <span class="hljs-number">-1</span> );<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = n;i &gt; <span class="hljs-number">0</span>;--i) &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>;j &lt; i;++j) &#123;<br>                <span class="hljs-keyword">if</span>(i - j &lt;= res) <span class="hljs-keyword">break</span>;<br>                <span class="hljs-keyword">if</span>(presum[i] - presum[j] &gt; <span class="hljs-number">0</span>) &#123;<br>                    res = <span class="hljs-built_in">max</span>(res, i - j);<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h5 id="äºŒåˆ†æŸ¥æ‰¾ï¼ˆé”™è¯¯ï¼‰"><a href="#äºŒåˆ†æŸ¥æ‰¾ï¼ˆé”™è¯¯ï¼‰" class="headerlink" title="äºŒåˆ†æŸ¥æ‰¾ï¼ˆé”™è¯¯ï¼‰"></a>äºŒåˆ†æŸ¥æ‰¾ï¼ˆé”™è¯¯ï¼‰</h5><ul><li>æšä¸¾åŒºé—´å€¼ï¼Œ<code>l = 0</code>ï¼Œ<code>r = n</code></li></ul><h5 id="å‰ç¼€å’Œ-å•è°ƒæ ˆ-åŒæŒ‡é’ˆ"><a href="#å‰ç¼€å’Œ-å•è°ƒæ ˆ-åŒæŒ‡é’ˆ" class="headerlink" title="å‰ç¼€å’Œ+å•è°ƒæ ˆ+åŒæŒ‡é’ˆ"></a>å‰ç¼€å’Œ+å•è°ƒæ ˆ+åŒæŒ‡é’ˆ</h5><p>è½¬åŒ–ä¹‹åçš„é—®é¢˜ä¸<a href="https://leetcode-cn.com/problems/maximum-width-ramp/">962. æœ€å¤§å®½åº¦å¡</a>ç±»ä¼¼ï¼Œä½¿ç”¨å•è°ƒæ ˆã€‚</p><p><strong>åŒæŒ‡é’ˆä¹Ÿä¸ä¸€å®šè¦æœ‰åº</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">longestWPI</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; hours)</span> </span>&#123;<br>        <span class="hljs-type">int</span> n = hours.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">presum</span><span class="hljs-params">(n + <span class="hljs-number">1</span>)</span></span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; n;++i) &#123;<br>            presum[i + <span class="hljs-number">1</span>] = presum[i] + (hours[i] &gt; <span class="hljs-number">8</span>?<span class="hljs-number">1</span>:<span class="hljs-number">-1</span>);<br>        &#125;<br>        stack&lt;<span class="hljs-type">int</span>&gt; s;<br>        <span class="hljs-type">int</span> res = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt;= n;++i) &#123;<br>            <span class="hljs-keyword">if</span>(s.<span class="hljs-built_in">empty</span>() || presum[s.<span class="hljs-built_in">top</span>()] &gt; presum[i]) &#123;<br>                s.<span class="hljs-built_in">push</span>(i);<br>            &#125;<br>        &#125;<br>        <span class="hljs-type">int</span> i = n;<br>        <span class="hljs-keyword">while</span>(i &gt;= <span class="hljs-number">0</span> &amp;&amp; !s.<span class="hljs-built_in">empty</span>()) &#123;<br>            <span class="hljs-keyword">while</span>(!s.<span class="hljs-built_in">empty</span>() &amp;&amp; presum[i] &gt; presum[s.<span class="hljs-built_in">top</span>()]) &#123;<br>                res = <span class="hljs-built_in">max</span>(res, i - s.<span class="hljs-built_in">top</span>());<br>                s.<span class="hljs-built_in">pop</span>();<br>            &#125;<br>            --i;<br>        &#125;<br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
      <category>å•è°ƒæ ˆ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>LeetCode</tag>
      
      <tag>å‰ç¼€å’Œ</tag>
      
      <tag>å•è°ƒæ ˆ</tag>
      
      <tag>äºŒåˆ†æŸ¥æ‰¾</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>941. æœ‰æ•ˆçš„å±±è„‰æ•°ç»„</title>
    <link href="/2020/11/03/941-%E6%9C%89%E6%95%88%E7%9A%84%E5%B1%B1%E8%84%89%E6%95%B0%E7%BB%84/"/>
    <url>/2020/11/03/941-%E6%9C%89%E6%95%88%E7%9A%84%E5%B1%B1%E8%84%89%E6%95%B0%E7%BB%84/</url>
    
    <content type="html"><![CDATA[<h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a><a href="https://leetcode-cn.com/problems/valid-mountain-array/">é¢˜ç›®æè¿°</a></h2><p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>A</code>ï¼Œå¦‚æœå®ƒæ˜¯æœ‰æ•ˆçš„å±±è„‰æ•°ç»„å°±è¿”å› <code>true</code>ï¼Œå¦åˆ™è¿”å› <code>false</code>ã€‚</p><p>è®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹ï¼Œå¦‚æœ A æ»¡è¶³ä¸‹è¿°æ¡ä»¶ï¼Œé‚£ä¹ˆå®ƒæ˜¯ä¸€ä¸ªå±±è„‰æ•°ç»„ï¼š</p><ul><li><p><code>A.length &gt;= 3</code></p></li><li><p>åœ¨ </p><figure class="highlight basic"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">0 </span>&lt; i &lt; A.length - <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><p> æ¡ä»¶ä¸‹ï¼Œå­˜åœ¨ </p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">i</span><br></code></pre></td></tr></table></figure><p> ä½¿å¾—ï¼š</p><ul><li><code>A[0] &lt; A[1] &lt; ... A[i-1] &lt; A[i]</code></li><li><code>A[i] &gt; A[i+1] &gt; ... &gt; A[A.length - 1]</code></li></ul><span id="more"></span></li></ul><p><img src="hint_valid_mountain_array.png" alt="img"></p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs actionscript">è¾“å…¥ï¼š[<span class="hljs-number">2</span>,<span class="hljs-number">1</span>]<br>è¾“å‡ºï¼š<span class="hljs-literal">false</span><br></code></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs actionscript">è¾“å…¥ï¼š[<span class="hljs-number">3</span>,<span class="hljs-number">5</span>,<span class="hljs-number">5</span>]<br>è¾“å‡ºï¼š<span class="hljs-literal">false</span><br></code></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs actionscript">è¾“å…¥ï¼š[<span class="hljs-number">0</span>,<span class="hljs-number">3</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>]<br>è¾“å‡ºï¼š<span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ol><li><code>0 &lt;= A.length &lt;= 10000</code></li><li><code>0 &lt;= A[i] &lt;= 10000</code></li></ol><hr><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><h3 id="æ¨¡æ‹Ÿï¼ŒåŒæŒ‡é’ˆ"><a href="#æ¨¡æ‹Ÿï¼ŒåŒæŒ‡é’ˆ" class="headerlink" title="æ¨¡æ‹Ÿï¼ŒåŒæŒ‡é’ˆ"></a>æ¨¡æ‹Ÿï¼ŒåŒæŒ‡é’ˆ</h3><p>ä¸¤æ ¹æŒ‡é’ˆä»ä¸¤ç«¯æ‰¾å±±å³°çš„å±±é¡¶ï¼Œæ‰¾åˆ°ååˆ¤æ–­æ˜¯å¦ä¸ºåŒä¸€åº§å±±å³°ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">validMountainArray</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; A)</span> </span>&#123;<br>        <span class="hljs-type">int</span> i = <span class="hljs-number">1</span>, n = A.<span class="hljs-built_in">size</span>(), j = n - <span class="hljs-number">2</span>;<br>        <span class="hljs-keyword">while</span>(i &lt; n) &#123;<br>            <span class="hljs-keyword">if</span>(A[i] &gt; A[i - <span class="hljs-number">1</span>]) &#123;<br>                i++;<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                --i; <span class="hljs-comment">// éœ€è¦--ï¼Œæ‰æ˜¯å±±é¡¶</span><br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">while</span>(j &gt;= <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-keyword">if</span>(A[j] &gt; A[j + <span class="hljs-number">1</span>]) &#123;<br>                --j;<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                ++j; <span class="hljs-comment">// éœ€è¦++ï¼Œæ‰æ˜¯å±±é¡¶</span><br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> i==j;<br>    &#125; <br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
      <category>æ¨¡æ‹Ÿ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ¯æ—¥ä¸€é¢˜</tag>
      
      <tag>LeetCode</tag>
      
      <tag>åŒæŒ‡é’ˆ</tag>
      
      <tag>æ¨¡æ‹Ÿ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>pythonä¹‹å¹¶å‘ç¼–ç¨‹ï¼ˆæ¦‚å¿µç¯‡ï¼‰</title>
    <link href="/2020/11/02/python%E4%B9%8B%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%EF%BC%88%E6%A6%82%E5%BF%B5%E7%AF%87%EF%BC%89/"/>
    <url>/2020/11/02/python%E4%B9%8B%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%EF%BC%88%E6%A6%82%E5%BF%B5%E7%AF%87%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<p>è½¬è½½è‡ª<a href="https://www.cnblogs.com/jiangfan95/p/11436943.html">pythonä¹‹å¹¶å‘ç¼–ç¨‹ï¼ˆæ¦‚å¿µç¯‡ï¼‰</a></p><h1 id="ä¸€-è¿›ç¨‹"><a href="#ä¸€-è¿›ç¨‹" class="headerlink" title="ä¸€.è¿›ç¨‹ã€€ã€€"></a>ä¸€.è¿›ç¨‹ã€€ã€€</h1><h3 id="1-ä»€ä¹ˆæ˜¯è¿›ç¨‹"><a href="#1-ä»€ä¹ˆæ˜¯è¿›ç¨‹" class="headerlink" title="1.ä»€ä¹ˆæ˜¯è¿›ç¨‹"></a>1.ä»€ä¹ˆæ˜¯è¿›ç¨‹</h3><p>è¿›ç¨‹æ˜¯æ­£åœ¨è¿›è¡Œçš„ä¸€ä¸ªè¿‡ç¨‹æˆ–è€…ä¸€ä¸ªä»»åŠ¡ã€‚è€Œè´Ÿè´£æ‰§è¡Œä»»åŠ¡çš„åˆ™æ˜¯cpuã€‚</p><span id="more"></span><h3 id="2-è¿›ç¨‹ä¸ç¨‹åºçš„åŒºåˆ«"><a href="#2-è¿›ç¨‹ä¸ç¨‹åºçš„åŒºåˆ«" class="headerlink" title="2.è¿›ç¨‹ä¸ç¨‹åºçš„åŒºåˆ«"></a>2.è¿›ç¨‹ä¸ç¨‹åºçš„åŒºåˆ«</h3><p>ç¨‹åºå¹¶ä¸èƒ½å•ç‹¬è¿è¡Œï¼Œåªæœ‰å°†ç¨‹åºè£…è½½åˆ°å†…å­˜ä¸­ï¼Œç³»ç»Ÿä¸ºå®ƒåˆ†é…èµ„æºæ‰èƒ½è¿è¡Œï¼Œè€Œè¿™ç§æ‰§è¡Œçš„ç¨‹åºå°±ç§°ä¹‹ä¸ºè¿›ç¨‹ã€‚ç¨‹åºå’Œè¿›ç¨‹çš„åŒºåˆ«å°±åœ¨äºï¼šç¨‹åºæ˜¯æŒ‡ä»¤çš„é›†åˆï¼Œå®ƒæ˜¯è¿›ç¨‹è¿è¡Œçš„é™æ€æè¿°æ–‡æœ¬ï¼›è¿›ç¨‹æ˜¯ç¨‹åºçš„ä¸€æ¬¡æ‰§è¡Œæ´»åŠ¨ï¼Œå±äºåŠ¨æ€æ¦‚å¿µã€‚åŒä¸€ä¸ªç¨‹åºæ‰§è¡Œä¸¤æ¬¡æ˜¯ä¸¤ä¸ªè¿›ç¨‹ã€‚</p><p>åœ¨å¤šé“ç¼–ç¨‹ä¸­ï¼Œæˆ‘ä»¬å…è®¸å¤šä¸ªç¨‹åºåŒæ—¶åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œåœ¨æ“ä½œç³»ç»Ÿçš„è°ƒåº¦ä¸‹ï¼Œå¯ä»¥å®ç°å¹¶å‘åœ°æ‰§è¡Œã€‚è¿™æ˜¯è¿™æ ·çš„è®¾è®¡ï¼Œå¤§å¤§æé«˜äº†CPUçš„åˆ©ç”¨ç‡ã€‚è¿›ç¨‹çš„å‡ºç°è®©æ¯ä¸ªç”¨æˆ·æ„Ÿè§‰åˆ°è‡ªå·±ç‹¬äº«CPUï¼Œå› æ­¤ï¼Œè¿›ç¨‹å°±æ˜¯ä¸ºäº†åœ¨CPUä¸Šå®ç°å¤šé“ç¼–ç¨‹è€Œæå‡ºçš„ã€‚</p><h3 id="3-å¹¶å‘ä¸å¹¶è¡Œ"><a href="#3-å¹¶å‘ä¸å¹¶è¡Œ" class="headerlink" title="3.å¹¶å‘ä¸å¹¶è¡Œ"></a>3.å¹¶å‘ä¸å¹¶è¡Œ</h3><p>æ— è®ºæ˜¯å¹¶è¡Œè¿˜æ˜¯å¹¶å‘ï¼Œåœ¨ç”¨æˆ·çœ‹æ¥éƒ½æ˜¯â€™åŒæ—¶â€™è¿è¡Œçš„ï¼Œè€Œä¸€ä¸ªcpuåŒä¸€æ—¶åˆ»åªèƒ½æ‰§è¡Œä¸€ä¸ªä»»åŠ¡ã€‚</p><ol><li>å¹¶å‘ï¼šæ˜¯ä¼ªå¹¶è¡Œï¼Œå³æŸä¸ªæ—¶æ®µçœ‹èµ·æ¥æ˜¯åŒæ—¶è¿è¡Œã€‚å•ä¸ªcpu+å¤šé“æŠ€æœ¯å°±å¯ä»¥å®ç°å¹¶å‘ï¼Œï¼ˆå¹¶è¡Œä¹Ÿå±äºå¹¶å‘ï¼‰</li><li>å¹¶è¡Œï¼šåŒæ—¶è¿è¡Œï¼Œåªæœ‰å…·å¤‡å¤šä¸ªcpuæ‰èƒ½å®ç°å¹¶è¡Œã€‚</li></ol><p>å•æ ¸ä¸‹ï¼Œå¯ä»¥åˆ©ç”¨å¤šé“æŠ€æœ¯ï¼Œå¤šæ ¸ä¸­çš„æ¯ä¸ªæ ¸ä¹Ÿéƒ½å¯ä»¥åˆ©ç”¨å¤šé“æŠ€æœ¯ï¼ˆ<strong>å¤šé“æŠ€æœ¯æ˜¯é’ˆå¯¹å•æ ¸è€Œè¨€çš„</strong>ï¼‰</p><p>æœ‰å››ä¸ªæ ¸ï¼Œå…­ä¸ªä»»åŠ¡ï¼Œè¿™æ ·åŒä¸€æ—¶é—´æœ‰å››ä¸ªä»»åŠ¡è¢«æ‰§è¡Œï¼Œå‡è®¾åˆ†åˆ«è¢«åˆ†é…ç»™äº†cpu1ï¼Œcpu2ï¼Œcpu3ï¼Œcpu4ï¼Œ</p><p>ä¸€æ—¦ä»»åŠ¡1é‡åˆ°I/Oå°±è¢«è¿«ä¸­æ–­æ‰§è¡Œï¼Œæ­¤æ—¶ä»»åŠ¡5å°±æ‹¿åˆ°cpu1çš„æ—¶é—´ç‰‡å»æ‰§è¡Œï¼Œè¿™å°±æ˜¯å•æ ¸ä¸‹çš„å¤šé“æŠ€æœ¯</p><p>è€Œä¸€æ—¦ä»»åŠ¡1çš„I/Oç»“æŸäº†ï¼Œæ“ä½œç³»ç»Ÿä¼šé‡æ–°è°ƒç”¨å®ƒ(<strong>éœ€çŸ¥è¿›ç¨‹çš„è°ƒåº¦ã€åˆ†é…ç»™å“ªä¸ªcpuè¿è¡Œï¼Œç”±æ“ä½œç³»ç»Ÿè¯´äº†ç®—</strong>)ï¼Œå¯èƒ½è¢«åˆ†é…ç»™å››ä¸ªcpuä¸­çš„ä»»æ„ä¸€ä¸ªå»æ‰§è¡Œã€‚</p><h3 id="4-åŒæ­¥-å¼‚æ­¥andé˜»å¡-éé˜»å¡"><a href="#4-åŒæ­¥-å¼‚æ­¥andé˜»å¡-éé˜»å¡" class="headerlink" title="4.åŒæ­¥\å¼‚æ­¥andé˜»å¡\éé˜»å¡"></a>4.åŒæ­¥\å¼‚æ­¥andé˜»å¡\éé˜»å¡</h3><p>åŒæ­¥ï¼šAè°ƒç”¨Bï¼ŒBå¤„ç†ç›´åˆ°è·å¾—ç»“æœï¼Œæ‰è¿”å›ç»™Aã€‚<br>éœ€è¦è°ƒç”¨è€…ä¸€ç›´ç­‰å¾…å’Œç¡®è®¤è°ƒç”¨ç»“æœæ˜¯å¦è¿”å›ï¼Œ ç„¶åç»§ç»­å¾€ä¸‹æ‰§è¡Œã€‚<br>å¼‚æ­¥ï¼šAè°ƒç”¨Bï¼ŒBç›´æ¥è¿”å›ã€‚æ— éœ€ç­‰å¾…ç»“æœï¼ŒBé€šè¿‡çŠ¶æ€ï¼Œé€šçŸ¥ç­‰æ¥é€šçŸ¥Aæˆ–å›è°ƒå‡½æ•°æ¥å¤„ç†ã€‚<br>è°ƒç”¨ç»“æœè¿”å›æ—¶ï¼Œ ä¼šä»¥æ¶ˆæ¯æˆ–å›è°ƒçš„æ–¹å¼é€šçŸ¥è°ƒç”¨è€…ã€‚</p><p>é˜»å¡ï¼šAè°ƒç”¨Bï¼ŒAè¢«æŒ‚èµ·ç›´åˆ°Bè¿”å›ç»“æœç»™Aï¼ŒAç»§ç»­æ‰§è¡Œã€‚<br>è°ƒç”¨ç»“æœè¿”å›å‰ï¼Œå½“å‰è¿›ç¨‹æŒ‚èµ·ä¸èƒ½å¤Ÿå¤„ç†å…¶ä»–ä»»åŠ¡ï¼Œä¸€ç›´ç­‰å¾…è°ƒç”¨ç»“æœè¿”å›ã€‚<br>éé˜»å¡ï¼šAè°ƒç”¨Bï¼ŒAä¸ä¼šè¢«æŒ‚èµ·ï¼ŒAå¯ä»¥æ‰§è¡Œå…¶ä»–æ“ä½œã€‚<br>è°ƒç”¨ç»“æœè¿”å›å‰ï¼Œå½“å‰è¿›ç¨‹ä¸æŒ‚èµ·ï¼Œ å¯ä»¥å»å¤„ç†å…¶ä»–ä»»åŠ¡ã€‚</p><p>æ‰€ä»¥ï¼ŒåŒæ­¥å¼‚æ­¥è¯´çš„æ˜¯è¢«è°ƒç”¨è€…ç»“æœè¿”å›æ—¶é€šçŸ¥è¿›ç¨‹çš„ä¸€ç§<strong>é€šçŸ¥æœºåˆ¶</strong>ï¼Œé˜»å¡éé˜»å¡è¯´çš„æ˜¯<strong>è°ƒç”¨ç»“æœè¿”å›å‰è¿›ç¨‹çš„çŠ¶æ€</strong>ï¼Œæ˜¯æŒ‚èµ·è¿˜æ˜¯ç»§ç»­å¤„ç†å…¶ä»–ä»»åŠ¡ã€‚</p><h1 id="äºŒ-çº¿ç¨‹"><a href="#äºŒ-çº¿ç¨‹" class="headerlink" title="äºŒ.çº¿ç¨‹"></a>äºŒ.çº¿ç¨‹</h1><h3 id="1-ä»€ä¹ˆæ˜¯çº¿ç¨‹"><a href="#1-ä»€ä¹ˆæ˜¯çº¿ç¨‹" class="headerlink" title="1.ä»€ä¹ˆæ˜¯çº¿ç¨‹"></a>1.ä»€ä¹ˆæ˜¯çº¿ç¨‹</h3><p>çº¿ç¨‹æ˜¯æ“ä½œç³»ç»Ÿèƒ½å¤Ÿè¿›è¡Œ<strong>è¿ç®—è°ƒåº¦</strong>çš„æœ€å°å•ä½ã€‚å®ƒè¢«åŒ…å«åœ¨è¿›ç¨‹ä¹‹ä¸­ï¼Œæ˜¯è¿›ç¨‹ä¸­çš„å®é™…è¿ä½œå•ä½ã€‚ä¸€æ¡çº¿ç¨‹æŒ‡çš„æ˜¯è¿›ç¨‹ä¸­ä¸€ä¸ªå•ä¸€é¡ºåºçš„æ§åˆ¶æµï¼Œ<strong>ä¸€ä¸ªè¿›ç¨‹ä¸­å¯ä»¥å¹¶å‘å¤šä¸ªçº¿ç¨‹</strong>ï¼Œæ¯æ¡çº¿ç¨‹å¹¶è¡Œæ‰§è¡Œä¸åŒçš„ä»»åŠ¡ã€‚</p><h3 id="2-çº¿ç¨‹ä¸è¿›ç¨‹çš„åŒºåˆ«"><a href="#2-çº¿ç¨‹ä¸è¿›ç¨‹çš„åŒºåˆ«" class="headerlink" title="2.çº¿ç¨‹ä¸è¿›ç¨‹çš„åŒºåˆ«"></a>2.çº¿ç¨‹ä¸è¿›ç¨‹çš„åŒºåˆ«</h3><ol><li><strong>çº¿ç¨‹å…±äº«</strong>åˆ›å»ºå®ƒçš„è¿›ç¨‹çš„å†…å­˜ç©ºé—´ï¼Œ<strong>è¿›ç¨‹</strong>çš„å†…å­˜æ˜¯<strong>ç‹¬ç«‹</strong>çš„</li><li>çº¿ç¨‹å¯ä»¥ç›´æ¥è®¿é—®å…¶è¿›ç¨‹çš„æ•°æ®æ®µï¼Œè¿›ç¨‹æ‹¥æœ‰çˆ¶è¿›ç¨‹çš„æ•°æ®æ®µå‰¯æœ¬</li><li>çº¿ç¨‹å¯ä»¥ç›´æ¥ä¸å…¶è¿›ç¨‹çš„å…¶ä»–çº¿ç¨‹é€šä¿¡ï¼Œè¿›ç¨‹é—´é€šä¿¡éœ€è¦é€šè¿‡ä¸€ä¸ªä¸­é—´ä»£ç†æ¥å®ç°ã€‚</li><li>æ–°çº¿ç¨‹å¾ˆå®¹æ˜“åˆ›å»ºï¼Œåˆ›å»ºæ–°è¿›ç¨‹éœ€è¦å¯¹çˆ¶è¿›ç¨‹å®ç°ä¸€æ¬¡å¤åˆ¶ã€‚</li><li>çº¿ç¨‹å¯ä»¥æ§åˆ¶å’Œæ“ä½œåŒä¸€è¿›ç¨‹é‡Œçš„å…¶ä»–çº¿ç¨‹ï¼Œè¿›ç¨‹åªèƒ½æ§åˆ¶å­è¿›ç¨‹ã€‚</li><li>å¯¹ä¸»çº¿ç¨‹çš„æ›´æ”¹ï¼ˆå–æ¶ˆï¼Œä¼˜å…ˆçº§æ›´æ”¹ç­‰ï¼‰å¯èƒ½ä¼šå½±å“åˆ°è¿›ç¨‹ä¸­å…¶ä»–çº¿ç¨‹çš„è¡Œä¸º; å¯¹çˆ¶è¿›ç¨‹çš„æ›´æ”¹ä¸ä¼šå½±å“å­è¿›ç¨‹ã€‚</li></ol><h3 id="3-å¤šçº¿ç¨‹"><a href="#3-å¤šçº¿ç¨‹" class="headerlink" title="3.å¤šçº¿ç¨‹"></a>3.å¤šçº¿ç¨‹</h3><p>å¤šçº¿ç¨‹æŒ‡çš„æ˜¯ï¼Œåœ¨ä¸€ä¸ªè¿›ç¨‹ä¸­å¼€å¯å¤šä¸ªçº¿ç¨‹ï¼Œç®€å•çš„è®²ï¼šå¦‚æœå¤šä¸ªä»»åŠ¡å…±ç”¨ä¸€å—åœ°å€ç©ºé—´ï¼Œé‚£ä¹ˆå¿…é¡»åœ¨ä¸€ä¸ªè¿›ç¨‹å†…å¼€å¯å¤šä¸ªçº¿ç¨‹ã€‚</p><p>è¯¦ç»†çš„è®²åˆ†ä¸º4ç‚¹ï¼š</p><ol><li>å¤šçº¿ç¨‹å…±äº«ä¸€ä¸ªè¿›ç¨‹çš„åœ°å€ç©ºé—´ã€‚</li><li>çº¿ç¨‹æ¯”è¿›ç¨‹æ›´è½»é‡çº§ï¼Œçº¿ç¨‹æ¯”è¿›ç¨‹æ›´å®¹æ˜“åˆ›å»ºå¯æ’¤é”€ï¼Œåœ¨è®¸å¤šæ“ä½œç³»ç»Ÿä¸­ï¼Œåˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ¯”åˆ›å»ºä¸€ä¸ªè¿›ç¨‹è¦å¿«10-100å€ï¼Œåœ¨æœ‰å¤§é‡çº¿ç¨‹éœ€è¦åŠ¨æ€å’Œå¿«é€Ÿä¿®æ”¹æ—¶ï¼Œè¿™ä¸€ç‰¹æ€§å¾ˆæœ‰ç”¨</li><li>è‹¥å¤šä¸ªçº¿ç¨‹éƒ½æ˜¯<strong>cpuå¯†é›†å‹</strong>çš„ï¼Œé‚£ä¹ˆ<strong>å¹¶ä¸èƒ½è·å¾—æ€§èƒ½ä¸Šçš„å¢å¼º</strong>ï¼Œä½†æ˜¯å¦‚æœå­˜åœ¨<strong>å¤§é‡çš„è®¡ç®—å’Œå¤§é‡çš„I/Oå¤„ç†</strong>ï¼Œæ‹¥æœ‰å¤šä¸ªçº¿ç¨‹å…è®¸è¿™äº›æ´»åŠ¨å½¼æ­¤é‡å è¿è¡Œï¼Œä»è€Œä¼šåŠ å¿«ç¨‹åºæ‰§è¡Œçš„é€Ÿåº¦ã€‚</li><li>åœ¨å¤šcpuç³»ç»Ÿä¸­ï¼Œä¸ºäº†æœ€å¤§é™åº¦çš„åˆ©ç”¨å¤šæ ¸ï¼Œå¯ä»¥å¼€å¯å¤šä¸ªçº¿ç¨‹ï¼Œæ¯”å¼€è¿›ç¨‹å¼€é”€è¦å°çš„å¤šã€‚ï¼ˆè¿™ä¸€æ¡å¹¶ä¸é€‚ç”¨äºpythonï¼‰</li></ol><h1 id="ä¸‰-GILå…¨å±€è§£é‡Šå™¨é”"><a href="#ä¸‰-GILå…¨å±€è§£é‡Šå™¨é”" class="headerlink" title="ä¸‰.GILå…¨å±€è§£é‡Šå™¨é”"></a>ä¸‰.GILå…¨å±€è§£é‡Šå™¨é”</h1><p>æ¯ä¸ªçº¿ç¨‹åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­éƒ½éœ€è¦å…ˆè·å–GILï¼Œä¿è¯åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨è¿è¡Œï¼Œç›®çš„æ˜¯è§£å†³å¤šçº¿ç¨‹åŒæ—¶ç«äº‰ç¨‹åºä¸­çš„å…¨å±€å˜é‡è€Œå‡ºç°çš„çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚å®ƒå¹¶ä¸æ˜¯pythonè¯­è¨€çš„ç‰¹æ€§ï¼Œä»…ä»…æ˜¯ç”±äºå†å²çš„åŸå› åœ¨CPythonè§£é‡Šå™¨ä¸­éš¾ä»¥ç§»é™¤ï¼Œå› ä¸ºpythonè¯­è¨€è¿è¡Œç¯å¢ƒå¤§éƒ¨åˆ†é»˜è®¤åœ¨CPythonè§£é‡Šå™¨ä¸­ã€‚</p><p>ç”±äºä»¥å‰çš„ç”µè„‘åŸºæœ¬éƒ½æ˜¯å•æ ¸CPUï¼Œå¤šçº¿ç¨‹å’Œå•çº¿ç¨‹å‡ ä¹çœ‹ä¸å‡ºå·®åˆ«ï¼Œå¯æ˜¯ç”±äºè®¡ç®—æœºçš„è¿…é€Ÿå‘å±•ï¼Œç°åœ¨çš„ç”µè„‘å‡ ä¹éƒ½æ˜¯å¤šæ ¸CPUäº†ï¼Œæœ€å°‘ä¹Ÿæ˜¯ä¸¤ä¸ªæ ¸å¿ƒæ•°çš„ï¼Œè¿™æ—¶å·®åˆ«å°±å‡ºæ¥äº†ï¼šé€šè¿‡ä¹‹å‰çš„æ¡ˆä¾‹æˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œå³ä½¿åœ¨å¤šæ ¸CPUä¸­ï¼Œå¤šçº¿ç¨‹åŒä¸€æ—¶åˆ»ä¹Ÿåªæœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨è¿è¡Œï¼Œè¿™æ ·ä¸ä»…ä¸èƒ½åˆ©ç”¨å¤šæ ¸CPUçš„ä¼˜åŠ¿ï¼Œåè€Œç”±äºæ¯ä¸ªçº¿ç¨‹åœ¨å¤šä¸ªCPUä¸Šæ˜¯äº¤æ›¿æ‰§è¡Œçš„ï¼Œå¯¼è‡´åœ¨ä¸åŒCPUä¸Šåˆ‡æ¢æ—¶é€ æˆèµ„æºçš„æµªè´¹ï¼Œåè€Œä¼šæ›´æ…¢ã€‚å³åŸå› æ˜¯ä¸€ä¸ªè¿›ç¨‹åªå­˜åœ¨ä¸€æŠŠgilé”ï¼Œå½“åœ¨æ‰§è¡Œå¤šä¸ªçº¿ç¨‹æ—¶ï¼Œå†…éƒ¨ä¼šäº‰æŠ¢gilé”ï¼Œè¿™ä¼šé€ æˆå½“æŸä¸€ä¸ªçº¿ç¨‹æ²¡æœ‰æŠ¢åˆ°é”çš„æ—¶å€™ä¼šè®©cpuç­‰å¾…ï¼Œè¿›è€Œä¸èƒ½åˆç†åˆ©ç”¨å¤šæ ¸cpuèµ„æºã€‚</p><h1 id="å››-åç¨‹"><a href="#å››-åç¨‹" class="headerlink" title="å››.åç¨‹"></a>å››.åç¨‹</h1><h3 id="1-åç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#1-åç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="1.åç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ"></a>1.åç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>åç¨‹æ˜¯å•çº¿ç¨‹ä¸‹çš„å¹¶å‘ï¼Œä¸€ç§ç”¨æˆ·æ€çš„è½»é‡çº§çº¿ç¨‹ï¼Œå³åç¨‹æ˜¯ç”±ç”¨æˆ·ç¨‹åºè‡ªå·±æ§åˆ¶è°ƒåº¦çš„ã€‚</p><h3 id="2-æ³¨æ„ï¼š"><a href="#2-æ³¨æ„ï¼š" class="headerlink" title="2.æ³¨æ„ï¼š"></a>2.æ³¨æ„ï¼š</h3><ol><li>pythonçš„çº¿ç¨‹å±äº<strong>å†…æ ¸çº§åˆ«</strong>çš„ï¼Œå³ç”±æ“ä½œç³»ç»Ÿæ§åˆ¶è°ƒåº¦ï¼ˆå¦‚å•çº¿ç¨‹é‡åˆ°ioæˆ–æ‰§è¡Œæ—¶é—´è¿‡é•¿å°±ä¼šè¢«è¿«äº¤å‡ºcpuæ‰§è¡Œæƒé™ï¼Œåˆ‡æ¢å…¶ä»–çº¿ç¨‹è¿è¡Œï¼‰</li><li>å•çº¿ç¨‹å†…å¼€å¯åç¨‹ï¼Œä¸€æ—¦é‡åˆ°ioï¼Œå°±ä¼šä»<strong>åº”ç”¨ç¨‹åºçº§åˆ«</strong>ï¼ˆè€Œéæ“ä½œç³»ç»Ÿï¼‰æ§åˆ¶åˆ‡æ¢ï¼Œä»¥æ­¤æ¥æå‡æ•ˆç‡ï¼ˆï¼ï¼ï¼éioæ“ä½œçš„åˆ‡æ¢ä¸æ•ˆç‡æ— å…³ï¼‰</li><li>æ“ä½œç³»ç»Ÿæ§åˆ¶çº¿ç¨‹çš„åˆ‡æ¢ï¼Œç”¨æˆ·åœ¨å•çº¿ç¨‹å†…æ§åˆ¶åç¨‹çš„åˆ‡æ¢</li></ol><h3 id="3-ä¼˜ç‚¹ä¸ç¼ºç‚¹ï¼š"><a href="#3-ä¼˜ç‚¹ä¸ç¼ºç‚¹ï¼š" class="headerlink" title="3.ä¼˜ç‚¹ä¸ç¼ºç‚¹ï¼š"></a>3.ä¼˜ç‚¹ä¸ç¼ºç‚¹ï¼š</h3><p>ä¼˜ç‚¹ï¼š</p><p>åç¨‹çš„åˆ‡æ¢å¼€é”€æ›´å°ï¼Œå±äº<strong>ç¨‹åºçº§åˆ«</strong>çš„åˆ‡æ¢ï¼Œæ“ä½œç³»ç»Ÿå®Œå…¨æ„ŸçŸ¥ä¸åˆ°ï¼Œå› è€Œæ›´åŠ è½»é‡çº§ï¼Œå•çº¿ç¨‹å†…å°±å¯ä»¥å®ç°å¹¶å‘çš„æ•ˆæœï¼Œæœ€å¤§é™åº¦åœ°åˆ©ç”¨cpuã€‚</p><p>ç¼ºç‚¹ï¼š</p><p>åç¨‹çš„æœ¬è´¨æ˜¯å•çº¿ç¨‹ä¸‹ï¼Œæ— æ³•åˆ©ç”¨å¤šæ ¸ï¼Œï¼ˆå¯ä»¥æ˜¯ä¸€ä¸ªç¨‹åºå¼€å¯å¤šä¸ªè¿›ç¨‹ï¼Œæ¯ä¸ªè¿›ç¨‹å†…å¼€å¯å¤šä¸ªçº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹å†…å¼€å¯åç¨‹ï¼‰</p><p>åç¨‹æŒ‡çš„æ˜¯å•ä¸ªçº¿ç¨‹ï¼Œå› è€Œä¸€æ—¦åç¨‹å‡ºç°é˜»å¡ï¼Œå°†ä¼šé˜»å¡æ•´ä¸ªçº¿ç¨‹</p><h3 id="4-æ€»ç»“"><a href="#4-æ€»ç»“" class="headerlink" title="4.æ€»ç»“"></a>4.æ€»ç»“</h3><ol><li>å¿…é¡»åœ¨åªæœ‰ä¸€ä¸ªå•çº¿ç¨‹é‡Œå®ç°å¹¶å‘</li><li>ä¿®æ”¹å…±äº«æ•°æ®ä¸éœ€åŠ é”</li><li>ç”¨æˆ·ç¨‹åºé‡Œè‡ªå·±ä¿å­˜å¤šä¸ªæ§åˆ¶æµçš„ä¸Šä¸‹æ–‡æ ˆ</li><li>ä¸€ä¸ªåç¨‹é‡åˆ°IOæ“ä½œè‡ªåŠ¨åˆ‡æ¢åˆ°å…¶å®ƒåç¨‹ï¼ˆå¦‚ä½•å®ç°æ£€æµ‹IOï¼Œyieldã€greenletéƒ½æ— æ³•å®ç°ï¼Œå°±ç”¨åˆ°äº†geventæ¨¡å—ï¼ˆselectæœºåˆ¶ï¼‰</li></ol><h1 id="äº”-IOæ¨¡å‹"><a href="#äº”-IOæ¨¡å‹" class="headerlink" title="äº”.IOæ¨¡å‹"></a>äº”.IOæ¨¡å‹</h1><h3 id="1-IOæ¨¡å‹ä»‹ç»"><a href="#1-IOæ¨¡å‹ä»‹ç»" class="headerlink" title="1.IOæ¨¡å‹ä»‹ç»"></a>1.IOæ¨¡å‹ä»‹ç»</h3><p>IOå‘ç”Ÿæ—¶æ¶‰åŠçš„å¯¹è±¡å’Œæ­¥éª¤ã€‚å¯¹äºä¸€ä¸ªnetwork IO (è¿™é‡Œæˆ‘ä»¬ä»¥readä¸¾ä¾‹)ï¼Œå®ƒä¼šæ¶‰åŠåˆ°ä¸¤ä¸ªç³»ç»Ÿå¯¹è±¡ï¼Œä¸€ä¸ªæ˜¯è°ƒç”¨è¿™ä¸ªIOçš„process (or thread)ï¼Œå¦ä¸€ä¸ªå°±æ˜¯ç³»ç»Ÿå†…æ ¸(kernel)ã€‚å½“ä¸€ä¸ªreadæ“ä½œå‘ç”Ÿæ—¶ï¼Œè¯¥æ“ä½œä¼šç»å†ä¸¤ä¸ªé˜¶æ®µï¼š</p><div class="code-wrapper"><pre><code class="hljs">1. ç­‰å¾…æ•°æ®å‡†å¤‡    2. å°†æ•°æ®ä»å†…æ ¸æ‹·è´åˆ°è¿›ç¨‹ä¸­</code></pre></div><p><em>ä¸åŒIOæ¨¡å‹çš„åŒºåˆ«å°±æ˜¯åœ¨ä¸¤ä¸ªé˜¶æ®µä¸Šå„æœ‰ä¸åŒçš„æƒ…å†µ</em></p><p>è¡¥å……</p><figure class="highlight lasso"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><pre><code class="hljs lasso">#1ã€è¾“å…¥æ“ä½œï¼šreadã€readvã€recvã€recvfromã€recvmsgå…±<span class="hljs-number">5</span>ä¸ªå‡½æ•°ï¼Œå¦‚æœä¼šé˜»å¡çŠ¶æ€ï¼Œåˆ™ä¼šç»å†wait <span class="hljs-built_in">data</span>å’Œcopy <span class="hljs-built_in">data</span>ä¸¤ä¸ªé˜¶æ®µï¼Œå¦‚æœè®¾ç½®ä¸ºéé˜»å¡åˆ™åœ¨wait ä¸åˆ°<span class="hljs-built_in">data</span>æ—¶æŠ›å‡ºå¼‚å¸¸<br><br>#2ã€è¾“å‡ºæ“ä½œï¼šwriteã€writevã€sendã€sendtoã€sendmsgå…±<span class="hljs-number">5</span>ä¸ªå‡½æ•°ï¼Œåœ¨å‘é€ç¼“å†²åŒºæ»¡äº†ä¼šé˜»å¡åœ¨åŸåœ°ï¼Œå¦‚æœè®¾ç½®ä¸ºéé˜»å¡ï¼Œåˆ™ä¼šæŠ›å‡ºå¼‚å¸¸<br><br>#3ã€æ¥æ”¶å¤–æ¥é“¾æ¥ï¼šacceptï¼Œä¸è¾“å…¥æ“ä½œç±»ä¼¼<br><br>#4ã€å‘èµ·å¤–å‡ºé“¾æ¥ï¼šconnectï¼Œä¸è¾“å‡ºæ“ä½œç±»ä¼¼<br></code></pre></td></tr></table></figure><h3 id="2-é˜»å¡IO"><a href="#2-é˜»å¡IO" class="headerlink" title="2.é˜»å¡IO"></a>2.é˜»å¡IO</h3><p>é»˜è®¤æƒ…å†µä¸‹æ‰€æœ‰çš„socketéƒ½æ˜¯é˜»å¡çš„</p><p><img src="1541176-20190830174158661-1225893158.png" alt="img"></p><p> å½“ç”¨æˆ·è¿›ç¨‹è°ƒç”¨äº†recvfromè¿™ä¸ªç³»ç»Ÿè°ƒç”¨ï¼Œkernelå°±å¼€å§‹äº†IOçš„ç¬¬ä¸€ä¸ªé˜¶æ®µï¼šå‡†å¤‡æ•°æ®ã€‚å¯¹äºnetwork ioæ¥è¯´ï¼Œå¾ˆå¤šæ—¶å€™æ•°æ®åœ¨ä¸€å¼€å§‹è¿˜æ²¡æœ‰åˆ°è¾¾ï¼ˆæ¯”å¦‚ï¼Œè¿˜æ²¡æœ‰æ”¶åˆ°ä¸€ä¸ªå®Œæ•´çš„UDPåŒ…ï¼‰ï¼Œè¿™ä¸ªæ—¶å€™kernelå°±è¦ç­‰å¾…è¶³å¤Ÿçš„æ•°æ®åˆ°æ¥ã€‚</p><p>è€Œåœ¨ç”¨æˆ·è¿›ç¨‹è¿™è¾¹ï¼Œæ•´ä¸ªè¿›ç¨‹ä¼šè¢«é˜»å¡ã€‚å½“kernelä¸€ç›´ç­‰åˆ°æ•°æ®å‡†å¤‡å¥½äº†ï¼Œå®ƒå°±ä¼šå°†æ•°æ®ä»kernelä¸­æ‹·è´åˆ°ç”¨æˆ·å†…å­˜ï¼Œç„¶åkernelè¿”å›ç»“æœï¼Œç”¨æˆ·è¿›ç¨‹æ‰è§£é™¤blockçš„çŠ¶æ€ï¼Œé‡æ–°è¿è¡Œèµ·æ¥ã€‚æ‰€ä»¥ï¼Œblocking IOçš„ç‰¹ç‚¹å°±æ˜¯åœ¨IOæ‰§è¡Œçš„ä¸¤ä¸ªé˜¶æ®µï¼ˆç­‰å¾…æ•°æ®å’Œæ‹·è´æ•°æ®ä¸¤ä¸ªé˜¶æ®µï¼‰éƒ½è¢«blockäº†</p><p>é™¤éç‰¹åˆ«æŒ‡å®šï¼Œå‡ ä¹æ‰€æœ‰çš„IOæ¥å£ ( åŒ…æ‹¬socketæ¥å£ ) éƒ½æ˜¯é˜»å¡å‹çš„ã€‚è¿™ç»™ç½‘ç»œç¼–ç¨‹å¸¦æ¥äº†ä¸€ä¸ªå¾ˆå¤§çš„é—®é¢˜ï¼Œå¦‚åœ¨è°ƒç”¨recv(1024)çš„åŒæ—¶ï¼Œçº¿ç¨‹å°†è¢«é˜»å¡ï¼Œåœ¨æ­¤æœŸé—´ï¼Œçº¿ç¨‹å°†æ— æ³•æ‰§è¡Œä»»ä½•è¿ç®—æˆ–å“åº”ä»»ä½•çš„ç½‘ç»œè¯·æ±‚ã€‚</p><p> ä¸€ä¸ªç®€å•çš„è§£å†³æ–¹æ¡ˆï¼š</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs 1c"><span class="hljs-meta">#åœ¨æœåŠ¡å™¨ç«¯ä½¿ç”¨å¤šçº¿ç¨‹ï¼ˆæˆ–å¤šè¿›ç¨‹ï¼‰ã€‚å¤šçº¿ç¨‹ï¼ˆæˆ–å¤šè¿›ç¨‹ï¼‰çš„ç›®çš„æ˜¯è®©æ¯ä¸ªè¿æ¥éƒ½æ‹¥æœ‰ç‹¬ç«‹çš„çº¿ç¨‹ï¼ˆæˆ–è¿›ç¨‹ï¼‰ï¼Œè¿™æ ·ä»»ä½•ä¸€ä¸ªè¿æ¥çš„é˜»å¡éƒ½ä¸ä¼šå½±å“å…¶ä»–çš„è¿æ¥ã€‚</span><br></code></pre></td></tr></table></figure><p>  è¯¥æ–¹æ¡ˆçš„é—®é¢˜æ˜¯ï¼š</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs 1c"><span class="hljs-meta">#å¼€å¯å¤šè¿›ç¨‹æˆ–éƒ½çº¿ç¨‹çš„æ–¹å¼ï¼Œåœ¨é‡åˆ°è¦åŒæ—¶å“åº”æˆç™¾ä¸Šåƒè·¯çš„è¿æ¥è¯·æ±‚ï¼Œåˆ™æ— è®ºå¤šçº¿ç¨‹è¿˜æ˜¯å¤šè¿›ç¨‹éƒ½ä¼šä¸¥é‡å æ®ç³»ç»Ÿèµ„æºï¼Œé™ä½ç³»ç»Ÿå¯¹å¤–ç•Œå“åº”æ•ˆç‡ï¼Œè€Œä¸”çº¿ç¨‹ä¸è¿›ç¨‹æœ¬èº«ä¹Ÿæ›´å®¹æ˜“è¿›å…¥å‡æ­»çŠ¶æ€ã€‚</span><br></code></pre></td></tr></table></figure><p>  æ”¹è¿›æ–¹æ¡ˆï¼š   </p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs 1c"><span class="hljs-meta">#å¾ˆå¤šç¨‹åºå‘˜å¯èƒ½ä¼šè€ƒè™‘ä½¿ç”¨â€œçº¿ç¨‹æ± â€æˆ–â€œè¿æ¥æ± â€ã€‚â€œçº¿ç¨‹æ± â€æ—¨åœ¨å‡å°‘åˆ›å»ºå’Œé”€æ¯çº¿ç¨‹çš„é¢‘ç‡ï¼Œå…¶ç»´æŒä¸€å®šåˆç†æ•°é‡çš„çº¿ç¨‹ï¼Œå¹¶è®©ç©ºé—²çš„çº¿ç¨‹é‡æ–°æ‰¿æ‹…æ–°çš„æ‰§è¡Œä»»åŠ¡ã€‚</span><br>â€œè¿æ¥æ± â€ç»´æŒè¿æ¥çš„ç¼“å­˜æ± ï¼Œå°½é‡é‡ç”¨å·²æœ‰çš„è¿æ¥ã€å‡å°‘åˆ›å»ºå’Œå…³é—­è¿æ¥çš„é¢‘ç‡ã€‚<br>è¿™ä¸¤ç§æŠ€æœ¯éƒ½å¯ä»¥å¾ˆå¥½çš„é™ä½ç³»ç»Ÿå¼€é”€ï¼Œéƒ½è¢«å¹¿æ³›åº”ç”¨å¾ˆå¤šå¤§å‹ç³»ç»Ÿï¼Œå¦‚websphereã€tomcatå’Œå„ç§æ•°æ®åº“ç­‰ã€‚<br></code></pre></td></tr></table></figure><p>  æ”¹è¿›åæ–¹æ¡ˆå…¶å®ä¹Ÿå­˜åœ¨ç€é—®é¢˜ï¼š</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs 1c"><span class="hljs-meta">#â€œçº¿ç¨‹æ± â€å’Œâ€œè¿æ¥æ± â€æŠ€æœ¯ä¹Ÿåªæ˜¯åœ¨ä¸€å®šç¨‹åº¦ä¸Šç¼“è§£äº†é¢‘ç¹è°ƒç”¨IOæ¥å£å¸¦æ¥çš„èµ„æºå ç”¨ã€‚</span><br>è€Œä¸”ï¼Œæ‰€è°“â€œæ± â€å§‹ç»ˆæœ‰å…¶ä¸Šé™ï¼Œå½“è¯·æ±‚å¤§å¤§è¶…è¿‡ä¸Šé™æ—¶ï¼Œâ€œæ± â€æ„æˆçš„ç³»ç»Ÿå¯¹å¤–ç•Œçš„å“åº”å¹¶ä¸æ¯”æ²¡æœ‰æ± çš„æ—¶å€™æ•ˆæœå¥½å¤šå°‘ã€‚<br>æ‰€ä»¥ä½¿ç”¨â€œæ± â€å¿…é¡»è€ƒè™‘å…¶é¢ä¸´çš„å“åº”è§„æ¨¡ï¼Œå¹¶æ ¹æ®å“åº”è§„æ¨¡è°ƒæ•´â€œæ± â€çš„å¤§å°ã€‚<br></code></pre></td></tr></table></figure><p><strong>å¯¹åº”ä¸Šä¾‹ä¸­çš„æ‰€é¢ä¸´çš„å¯èƒ½åŒæ—¶å‡ºç°çš„ä¸Šåƒç”šè‡³ä¸Šä¸‡æ¬¡çš„å®¢æˆ·ç«¯è¯·æ±‚ï¼Œâ€œçº¿ç¨‹æ± â€æˆ–â€œè¿æ¥æ± â€æˆ–è®¸å¯ä»¥ç¼“è§£éƒ¨åˆ†å‹åŠ›ï¼Œä½†æ˜¯ä¸èƒ½è§£å†³æ‰€æœ‰é—®é¢˜ã€‚</strong> <strong>æ€»ä¹‹ </strong></p><p><strong>å¤šçº¿ç¨‹æ¨¡å‹å¯ä»¥æ–¹ä¾¿é«˜æ•ˆçš„è§£å†³å°è§„æ¨¡çš„æœåŠ¡è¯·æ±‚ï¼Œä½†é¢å¯¹å¤§è§„æ¨¡çš„æœåŠ¡è¯·æ±‚ï¼Œå¤šçº¿ç¨‹æ¨¡å‹ä¹Ÿä¼šé‡åˆ°ç“¶é¢ˆï¼Œå¯ä»¥ç”¨éé˜»å¡æ¥å£æ¥å°è¯•è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</strong></p><h3 id="3-éé˜»å¡IO"><a href="#3-éé˜»å¡IO" class="headerlink" title="3.éé˜»å¡IO"></a>3.éé˜»å¡IO</h3><p>å¯ä»¥é€šè¿‡è®¾ç½®socketä½¿å…¶å˜ä¸ºnon-blockingã€‚å½“å¯¹ä¸€ä¸ªnon-blocking socketæ‰§è¡Œè¯»æ“ä½œæ—¶ï¼Œæµç¨‹æ˜¯è¿™ä¸ªæ ·å­ï¼š</p><p><img src="1541176-20190830183004918-1384121694.png" alt="img"></p><p>å½“ç”¨æˆ·è¿›ç¨‹å‘å‡ºreadæ“ä½œæ—¶ï¼Œå¦‚æœkernelä¸­çš„æ•°æ®è¿˜æ²¡æœ‰å‡†å¤‡å¥½ï¼Œé‚£ä¹ˆå®ƒå¹¶ä¸ä¼šblockç”¨æˆ·è¿›ç¨‹ï¼Œè€Œæ˜¯ç«‹åˆ»è¿”å›ä¸€ä¸ªerrorã€‚ä»ç”¨æˆ·è¿›ç¨‹è§’åº¦è®² ï¼Œå®ƒå‘èµ·ä¸€ä¸ªreadæ“ä½œåï¼Œå¹¶ä¸éœ€è¦ç­‰å¾…ï¼Œè€Œæ˜¯é©¬ä¸Šå°±å¾—åˆ°äº†ä¸€ä¸ªç»“æœã€‚ç”¨æˆ·è¿›ç¨‹åˆ¤æ–­ç»“æœæ˜¯ä¸€ä¸ªerroræ—¶ï¼Œå®ƒå°±çŸ¥é“æ•°æ®è¿˜æ²¡æœ‰å‡†å¤‡å¥½ï¼Œäºæ˜¯ç”¨æˆ·å°±å¯ä»¥åœ¨æœ¬æ¬¡åˆ°ä¸‹æ¬¡å†å‘èµ·readè¯¢é—®çš„æ—¶é—´é—´éš”å†…åšå…¶ä»–äº‹æƒ…ï¼Œæˆ–è€…ç›´æ¥å†æ¬¡å‘é€readæ“ä½œã€‚ä¸€æ—¦kernelä¸­çš„æ•°æ®å‡†å¤‡å¥½äº†ï¼Œå¹¶ä¸”åˆå†æ¬¡æ”¶åˆ°äº†ç”¨æˆ·è¿›ç¨‹çš„system callï¼Œé‚£ä¹ˆå®ƒé©¬ä¸Šå°±å°†æ•°æ®æ‹·è´åˆ°äº†ç”¨æˆ·å†…å­˜ï¼ˆè¿™ä¸€é˜¶æ®µä»ç„¶æ˜¯é˜»å¡çš„ï¼‰ï¼Œç„¶åè¿”å›ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´éé˜»å¡çš„recvformç³»ç»Ÿè°ƒç”¨è°ƒç”¨ä¹‹åï¼Œè¿›ç¨‹å¹¶æ²¡æœ‰è¢«é˜»å¡ï¼Œå†…æ ¸é©¬ä¸Šè¿”å›ç»™è¿›ç¨‹ï¼Œå¦‚æœæ•°æ®è¿˜æ²¡å‡†å¤‡å¥½ï¼Œæ­¤æ—¶ä¼šè¿”å›ä¸€ä¸ªerrorã€‚è¿›ç¨‹åœ¨è¿”å›ä¹‹åï¼Œå¯ä»¥å¹²ç‚¹åˆ«çš„äº‹æƒ…ï¼Œç„¶åå†å‘èµ·recvformç³»ç»Ÿè°ƒç”¨ã€‚é‡å¤ä¸Šé¢çš„è¿‡ç¨‹ï¼Œå¾ªç¯å¾€å¤çš„è¿›è¡Œrecvformç³»ç»Ÿè°ƒç”¨ã€‚è¿™ä¸ªè¿‡ç¨‹é€šå¸¸è¢«ç§°ä¹‹ä¸ºè½®è¯¢ã€‚è½®è¯¢æ£€æŸ¥å†…æ ¸æ•°æ®ï¼Œç›´åˆ°æ•°æ®å‡†å¤‡å¥½ï¼Œå†æ‹·è´æ•°æ®åˆ°è¿›ç¨‹ï¼Œè¿›è¡Œæ•°æ®å¤„ç†ã€‚éœ€è¦æ³¨æ„ï¼Œæ‹·è´æ•°æ®æ•´ä¸ªè¿‡ç¨‹ï¼Œè¿›ç¨‹ä»ç„¶æ˜¯å±äºé˜»å¡çš„çŠ¶æ€ã€‚</p><p>å¯ä»¥çœ‹åˆ°ç”¨æˆ·è¿›ç¨‹éœ€è¦ä¸€ç›´ä¸»åŠ¨è¯¢é—®kernelæ•°æ®å‡†å¤‡å¥½äº†æ²¡æœ‰ï¼Œå¸¦æ¥çš„é—®é¢˜å°±æ˜¯</p><p>å¾ªç¯è°ƒç”¨recv()å°†å¤§å¹…åº¦æ¨é«˜CPUå ç”¨ç‡ï¼Œåœ¨ä½é…ä¸»æœºä¸‹æå®¹æ˜“å‡ºç°å¡æœºæƒ…å†µã€‚</p><p>ä»»åŠ¡å®Œæˆçš„å“åº”å»¶è¿Ÿå¢å¤§äº†ï¼Œå› ä¸ºæ¯è¿‡ä¸€æ®µæ—¶é—´æ‰å»è½®è¯¢ä¸€æ¬¡readæ“ä½œï¼Œè€Œä»»åŠ¡å¯èƒ½åœ¨ä¸¤æ¬¡è½®è¯¢ä¹‹é—´çš„ä»»æ„æ—¶é—´å®Œæˆã€‚è¿™ä¼šå¯¼è‡´æ•´ä½“æ•°æ®ååé‡çš„é™ä½ã€‚</p><p> æ­¤å¤–ï¼Œåœ¨è¿™ä¸ªæ–¹æ¡ˆä¸­recv()æ›´å¤šçš„æ˜¯èµ·åˆ°æ£€æµ‹â€œæ“ä½œæ˜¯å¦å®Œæˆâ€çš„ä½œç”¨ï¼Œå®é™…æ“ä½œç³»ç»Ÿæä¾›äº†æ›´ä¸ºé«˜æ•ˆçš„æ£€æµ‹â€œæ“ä½œæ˜¯å¦å®Œæˆâ€œä½œç”¨çš„æ¥å£ï¼Œä¾‹å¦‚select()å¤šè·¯å¤ç”¨æ¨¡å¼ï¼Œå¯ä»¥ä¸€æ¬¡æ£€æµ‹å¤šä¸ªè¿æ¥æ˜¯å¦æ´»è·ƒã€‚</p><h3 id="4-å¤šè·¯å¤ç”¨IO"><a href="#4-å¤šè·¯å¤ç”¨IO" class="headerlink" title="4.å¤šè·¯å¤ç”¨IO"></a>4.å¤šè·¯å¤ç”¨IO</h3><p>æœ‰äº›åœ°æ–¹ä¹Ÿç§°è¿™ç§IOæ–¹å¼ä¸º<strong>äº‹ä»¶é©±åŠ¨IO</strong>ã€‚æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œselect/epollçš„å¥½å¤„å°±åœ¨äºå•ä¸ªprocesså°±å¯ä»¥åŒæ—¶å¤„ç†å¤šä¸ªç½‘ç»œè¿æ¥çš„IOã€‚å®ƒçš„åŸºæœ¬åŸç†å°±æ˜¯select/epollè¿™ä¸ªfunctionä¼šä¸æ–­çš„è½®è¯¢æ‰€è´Ÿè´£çš„æ‰€æœ‰socketï¼Œå½“æŸä¸ªsocketæœ‰æ•°æ®åˆ°è¾¾äº†ï¼Œå°±é€šçŸ¥ç”¨æˆ·è¿›ç¨‹ã€‚å®ƒçš„æµç¨‹å¦‚å›¾ï¼š</p><p><img src="1541176-20190830200852057-537476716.png" alt="img"></p><p>å½“ç”¨æˆ·è¿›ç¨‹è°ƒç”¨äº†selectï¼Œé‚£ä¹ˆæ•´ä¸ªè¿›ç¨‹ä¼šè¢«blockï¼Œè€ŒåŒæ—¶ï¼Œkernelä¼šâ€œç›‘è§†â€æ‰€æœ‰selectè´Ÿè´£çš„socketï¼Œå½“ä»»ä½•ä¸€ä¸ªsocketä¸­çš„æ•°æ®å‡†å¤‡å¥½äº†ï¼Œselectå°±ä¼šè¿”å›ã€‚è¿™ä¸ªæ—¶å€™ç”¨æˆ·è¿›ç¨‹å†è°ƒç”¨readæ“ä½œï¼Œå°†æ•°æ®ä»kernelæ‹·è´åˆ°ç”¨æˆ·è¿›ç¨‹ã€‚<br> è¿™ä¸ªå›¾å’Œblocking IOçš„å›¾å…¶å®å¹¶æ²¡æœ‰å¤ªå¤§çš„ä¸åŒï¼Œäº‹å®ä¸Šè¿˜æ›´å·®ä¸€äº›ã€‚å› ä¸ºè¿™é‡Œéœ€è¦ä½¿ç”¨ä¸¤ä¸ªç³»ç»Ÿè°ƒç”¨(selectå’Œrecvfrom)ï¼Œè€Œblocking IOåªè°ƒç”¨äº†ä¸€ä¸ªç³»ç»Ÿè°ƒç”¨(recvfrom)ã€‚ä½†æ˜¯ï¼Œç”¨selectçš„ä¼˜åŠ¿åœ¨äºå®ƒå¯ä»¥åŒæ—¶å¤„ç†å¤šä¸ªconnectionã€‚</p><p><strong>å¼ºè°ƒï¼š</strong></p><p><strong>1. å¦‚æœå¤„ç†çš„è¿æ¥æ•°ä¸æ˜¯å¾ˆé«˜çš„è¯ï¼Œä½¿ç”¨select/epollçš„web serverä¸ä¸€å®šæ¯”ä½¿ç”¨multi-threading + blocking IOçš„web serveræ€§èƒ½æ›´å¥½ï¼Œå¯èƒ½å»¶è¿Ÿè¿˜æ›´å¤§ã€‚select/epollçš„ä¼˜åŠ¿å¹¶ä¸æ˜¯å¯¹äºå•ä¸ªè¿æ¥èƒ½å¤„ç†å¾—æ›´å¿«ï¼Œè€Œæ˜¯åœ¨äºèƒ½å¤„ç†æ›´å¤šçš„è¿æ¥ã€‚</strong></p><p><strong>2. åœ¨å¤šè·¯å¤ç”¨æ¨¡å‹ä¸­ï¼Œå¯¹äºæ¯ä¸€ä¸ªsocketï¼Œä¸€èˆ¬éƒ½è®¾ç½®æˆä¸ºnon-blockingï¼Œä½†æ˜¯ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæ•´ä¸ªç”¨æˆ·çš„processå…¶å®æ˜¯ä¸€ç›´è¢«blockçš„ã€‚åªä¸è¿‡processæ˜¯è¢«selectè¿™ä¸ªå‡½æ•°blockï¼Œè€Œä¸æ˜¯è¢«socket IOç»™blockã€‚</strong></p><p> <strong><em>ç»“è®º: selectçš„ä¼˜åŠ¿åœ¨äºå¯ä»¥å¤„ç†å¤šä¸ªè¿æ¥ï¼Œä¸é€‚ç”¨äºå•ä¸ªè¿æ¥</em></strong></p><p><strong>selectç›‘å¬fdå˜åŒ–çš„è¿‡ç¨‹åˆ†æï¼š</strong></p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs 1c"><span class="hljs-meta">#ç”¨æˆ·è¿›ç¨‹åˆ›å»ºsocketå¯¹è±¡ï¼Œæ‹·è´ç›‘å¬çš„fdåˆ°å†…æ ¸ç©ºé—´ï¼Œæ¯ä¸€ä¸ªfdä¼šå¯¹åº”ä¸€å¼ ç³»ç»Ÿæ–‡ä»¶è¡¨ï¼Œå†…æ ¸ç©ºé—´çš„fdå“åº”åˆ°æ•°æ®åï¼Œå°±ä¼šå‘é€ä¿¡å·ç»™ç”¨æˆ·è¿›ç¨‹æ•°æ®å·²åˆ°ï¼› </span><br><span class="hljs-meta">#ç”¨æˆ·è¿›ç¨‹å†å‘é€ç³»ç»Ÿè°ƒç”¨ï¼Œæ¯”å¦‚ï¼ˆacceptï¼‰å°†å†…æ ¸ç©ºé—´çš„æ•°æ®copyåˆ°ç”¨æˆ·ç©ºé—´ï¼ŒåŒæ—¶ä½œä¸ºæ¥å—æ•°æ®ç«¯å†…æ ¸ç©ºé—´çš„æ•°æ®æ¸…é™¤ï¼Œè¿™æ ·é‡æ–°ç›‘å¬æ—¶fdå†æœ‰æ–°çš„æ•°æ®åˆå¯ä»¥å“åº”åˆ°äº†ï¼ˆå‘é€ç«¯å› ä¸ºåŸºäºTCPåè®®æ‰€ä»¥éœ€è¦æ”¶åˆ°åº”ç­”åæ‰ä¼šæ¸…é™¤ï¼‰ã€‚</span><br></code></pre></td></tr></table></figure><p>  <strong>è¯¥æ¨¡å‹çš„ä¼˜ç‚¹ï¼š</strong></p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs scss">#ç›¸æ¯”å…¶ä»–æ¨¡å‹ï¼Œä½¿ç”¨<span class="hljs-built_in">select</span>() çš„äº‹ä»¶é©±åŠ¨æ¨¡å‹åªç”¨å•çº¿ç¨‹ï¼ˆè¿›ç¨‹ï¼‰æ‰§è¡Œï¼Œå ç”¨èµ„æºå°‘ï¼Œä¸æ¶ˆè€—å¤ªå¤š CPUï¼ŒåŒæ—¶èƒ½å¤Ÿä¸ºå¤šå®¢æˆ·ç«¯æä¾›æœåŠ¡ã€‚å¦‚æœè¯•å›¾å»ºç«‹ä¸€ä¸ªç®€å•çš„äº‹ä»¶é©±åŠ¨çš„æœåŠ¡å™¨ç¨‹åºï¼Œè¿™ä¸ªæ¨¡å‹æœ‰ä¸€å®šçš„å‚è€ƒä»·å€¼ã€‚<br></code></pre></td></tr></table></figure><p>  <strong>è¯¥æ¨¡å‹çš„ç¼ºç‚¹ï¼š</strong></p><figure class="highlight q"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs q">#é¦–å…ˆ<span class="hljs-keyword">select</span>()æ¥å£å¹¶ä¸æ˜¯å®ç°â€œäº‹ä»¶é©±åŠ¨â€çš„æœ€å¥½é€‰æ‹©ã€‚å› ä¸ºå½“éœ€è¦æ¢æµ‹çš„å¥æŸ„å€¼è¾ƒå¤§æ—¶ï¼Œ<span class="hljs-keyword">select</span>()æ¥å£æœ¬èº«éœ€è¦æ¶ˆè€—å¤§é‡æ—¶é—´å»è½®è¯¢å„ä¸ªå¥æŸ„ã€‚å¾ˆå¤šæ“ä½œç³»ç»Ÿæä¾›äº†æ›´ä¸ºé«˜æ•ˆçš„æ¥å£ï¼Œå¦‚linuxæä¾›äº†epollï¼ŒBSDæä¾›äº†kqueueï¼ŒSolarisæä¾›äº†/<span class="hljs-built_in">dev</span>/pollï¼Œâ€¦ã€‚å¦‚æœéœ€è¦å®ç°æ›´é«˜æ•ˆçš„æœåŠ¡å™¨ç¨‹åºï¼Œç±»ä¼¼epollè¿™æ ·çš„æ¥å£æ›´è¢«æ¨èã€‚é—æ†¾çš„æ˜¯ä¸åŒçš„æ“ä½œç³»ç»Ÿç‰¹ä¾›çš„epollæ¥å£æœ‰å¾ˆå¤§å·®å¼‚ï¼Œæ‰€ä»¥ä½¿ç”¨ç±»ä¼¼äºepollçš„æ¥å£å®ç°å…·æœ‰è¾ƒå¥½è·¨å¹³å°èƒ½åŠ›çš„æœåŠ¡å™¨ä¼šæ¯”è¾ƒå›°éš¾ã€‚<br>#å…¶æ¬¡ï¼Œè¯¥æ¨¡å‹å°†äº‹ä»¶æ¢æµ‹å’Œäº‹ä»¶å“åº”å¤¹æ‚åœ¨ä¸€èµ·ï¼Œä¸€æ—¦äº‹ä»¶å“åº”çš„æ‰§è¡Œä½“åºå¤§ï¼Œåˆ™å¯¹æ•´ä¸ªæ¨¡å‹æ˜¯ç¾éš¾æ€§çš„ã€‚<br></code></pre></td></tr></table></figure><h3 id="5-å¼‚æ­¥IO"><a href="#5-å¼‚æ­¥IO" class="headerlink" title="5.å¼‚æ­¥IO"></a>5.å¼‚æ­¥IO</h3><p><img src="1541176-20190830202143066-249527516.png" alt="img"></p><p> ç”¨æˆ·è¿›ç¨‹å‘èµ·readæ“ä½œä¹‹åï¼Œç«‹åˆ»å°±å¯ä»¥å¼€å§‹å»åšå…¶å®ƒçš„äº‹ã€‚è€Œå¦ä¸€æ–¹é¢ï¼Œä»kernelçš„è§’åº¦ï¼Œå½“å®ƒå—åˆ°ä¸€ä¸ªasynchronous readä¹‹åï¼Œé¦–å…ˆå®ƒä¼šç«‹åˆ»è¿”å›ï¼Œæ‰€ä»¥ä¸ä¼šå¯¹ç”¨æˆ·è¿›ç¨‹äº§ç”Ÿä»»ä½•blockã€‚ç„¶åï¼Œkernelä¼šç­‰å¾…æ•°æ®å‡†å¤‡å®Œæˆï¼Œç„¶åå°†æ•°æ®æ‹·è´åˆ°ç”¨æˆ·å†…å­˜ï¼Œå½“è¿™ä¸€åˆ‡éƒ½å®Œæˆä¹‹åï¼Œkernelä¼šç»™ç”¨æˆ·è¿›ç¨‹å‘é€ä¸€ä¸ªsignalï¼Œå‘Šè¯‰å®ƒreadæ“ä½œå®Œæˆäº†ã€‚</p><p>ç„¶åç”±äºä¸ç¨³å®šç­‰åŸå› å¼‚æ­¥IOç”¨çš„å¹¶ä¸å¤šã€‚</p>]]></content>
    
    
    <categories>
      
      <category>python</category>
      
      <category>å¹¶å‘ç¼–ç¨‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è½¬è½½</tag>
      
      <tag>å¹¶å‘ç¼–ç¨‹</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>349. ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†</title>
    <link href="/2020/11/02/349-%E4%B8%A4%E4%B8%AA%E6%95%B0%E7%BB%84%E7%9A%84%E4%BA%A4%E9%9B%86/"/>
    <url>/2020/11/02/349-%E4%B8%A4%E4%B8%AA%E6%95%B0%E7%BB%84%E7%9A%84%E4%BA%A4%E9%9B%86/</url>
    
    <content type="html"><![CDATA[<h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a><a href="https://leetcode-cn.com/problems/intersection-of-two-arrays/">é¢˜ç›®æè¿°</a></h2><p>ç»™å®šä¸¤ä¸ªæ•°ç»„ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥è®¡ç®—å®ƒä»¬çš„äº¤é›†ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><figure class="highlight inform7"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><pre><code class="hljs inform7">è¾“å…¥ï¼šnums1 = <span class="hljs-comment">[1,2,2,1]</span>, nums2 = <span class="hljs-comment">[2,2]</span><br>è¾“å‡ºï¼š<span class="hljs-comment">[2]</span><br></code></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs inform7">è¾“å…¥ï¼šnums1 = <span class="hljs-comment">[4,9,5]</span>, nums2 = <span class="hljs-comment">[9,4,9,8,4]</span><br>è¾“å‡ºï¼š<span class="hljs-comment">[9,4]</span><br></code></pre></td></tr></table></figure> <span id="more"></span><p><strong>è¯´æ˜ï¼š</strong></p><ul><li>è¾“å‡ºç»“æœä¸­çš„æ¯ä¸ªå…ƒç´ ä¸€å®šæ˜¯å”¯ä¸€çš„ã€‚</li><li>æˆ‘ä»¬å¯ä»¥ä¸è€ƒè™‘è¾“å‡ºç»“æœçš„é¡ºåºã€‚</li></ul><hr><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><h3 id="ä½¿ç”¨é›†åˆ"><a href="#ä½¿ç”¨é›†åˆ" class="headerlink" title="ä½¿ç”¨é›†åˆ"></a>ä½¿ç”¨é›†åˆ</h3><p>c++ä¸­é›†åˆæœ‰åŸºäºçº¢é»‘æ ‘çš„<code>set</code>è¿˜æœ‰å“ˆå¸Œçš„<code>unordered_set</code>ï¼Œä½¿ç”¨é›†åˆå¯ä»¥å»é™¤é‡å¤ã€‚</p><p>å°†<code>nums1</code>æ”¾å…¥å“ˆå¸Œè¡¨<code>s1</code>ä¸­ï¼Œéå†<code>nums2</code>ï¼Œè‹¥å…ƒç´ åœ¨<code>s1</code>ä¸­ï¼ŒåŠ å…¥ç»“æœé›†åˆ<code>ans</code>ä¸­ï¼Œæœ€åå°†å…¶è½¬åŒ–ä¸º<code>vector</code>ã€‚ã€</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">intersection</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums1, vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums2)</span> </span>&#123;<br>        <span class="hljs-function">unordered_set&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">s1</span><span class="hljs-params">(nums1.begin(), nums1.end())</span></span>;<br>        unordered_set&lt;<span class="hljs-type">int</span>&gt; ans;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> num:nums2) &#123;<br>            <span class="hljs-keyword">if</span>(s1.<span class="hljs-built_in">find</span>(num) != s1.<span class="hljs-built_in">end</span>()) &#123;<br>                ans.<span class="hljs-built_in">insert</span>(num);<br>            &#125;<br>        &#125;<br>        <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">res</span><span class="hljs-params">(ans.begin(), ans.end())</span></span>;<br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="æ’åºï¼ŒåŒæŒ‡é’ˆ"><a href="#æ’åºï¼ŒåŒæŒ‡é’ˆ" class="headerlink" title="æ’åºï¼ŒåŒæŒ‡é’ˆ"></a>æ’åºï¼ŒåŒæŒ‡é’ˆ</h3><p>æ’åºä¹‹ååˆ©ç”¨åŒæŒ‡é’ˆï¼Œæ³¨æ„<strong>åŠ å…¥æ—¶å»é‡å¤</strong>ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">intersection</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums1, vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums2)</span> </span>&#123;<br>        <span class="hljs-built_in">sort</span>(nums1.<span class="hljs-built_in">begin</span>(), nums1.<span class="hljs-built_in">end</span>());<br>        <span class="hljs-built_in">sort</span>(nums2.<span class="hljs-built_in">begin</span>(), nums2.<span class="hljs-built_in">end</span>());<br>        vector&lt;<span class="hljs-type">int</span>&gt; res;<br>        <span class="hljs-type">int</span> i = <span class="hljs-number">0</span>, j = <span class="hljs-number">0</span>, n1 = nums1.<span class="hljs-built_in">size</span>(), n2 = nums2.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-keyword">while</span>(i &lt; n1 &amp;&amp; j &lt; n2) &#123;<br>            <span class="hljs-comment">// å»é‡å¤</span><br>            <span class="hljs-keyword">if</span>(nums1[i]==nums2[j] &amp;&amp; (res.<span class="hljs-built_in">size</span>()==<span class="hljs-number">0</span> || res.<span class="hljs-built_in">back</span>() != nums1[i])) &#123;<br>                res.<span class="hljs-built_in">push_back</span>(nums1[i]);<br>                ++i,++j;<br>            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(nums1[i] &gt; nums2[j]) &#123;<br>                ++j;<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                ++i;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
      <category>å“ˆå¸Œ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ¯æ—¥ä¸€é¢˜</tag>
      
      <tag>å“ˆå¸Œ</tag>
      
      <tag>LeetCode</tag>
      
      <tag>åŒæŒ‡é’ˆ</tag>
      
      <tag>æ’åº</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>140. å•è¯æ‹†åˆ† II</title>
    <link href="/2020/11/01/140-%E5%8D%95%E8%AF%8D%E6%8B%86%E5%88%86-II/"/>
    <url>/2020/11/01/140-%E5%8D%95%E8%AF%8D%E6%8B%86%E5%88%86-II/</url>
    
    <content type="html"><![CDATA[<h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a><a href="https://leetcode-cn.com/problems/word-break-ii/">é¢˜ç›®æè¿°</a></h2><p>ç»™å®šä¸€ä¸ª<strong>éç©º</strong>å­—ç¬¦ä¸² <em>s</em> å’Œä¸€ä¸ªåŒ…å«<strong>éç©º</strong>å•è¯åˆ—è¡¨çš„å­—å…¸ <em>wordDict</em>ï¼Œåœ¨å­—ç¬¦ä¸²ä¸­å¢åŠ ç©ºæ ¼æ¥æ„å»ºä¸€ä¸ªå¥å­ï¼Œä½¿å¾—å¥å­ä¸­æ‰€æœ‰çš„å•è¯éƒ½åœ¨è¯å…¸ä¸­ã€‚è¿”å›æ‰€æœ‰è¿™äº›å¯èƒ½çš„å¥å­ã€‚</p><p><strong>è¯´æ˜ï¼š</strong></p><ul><li><p>åˆ†éš”æ—¶å¯ä»¥é‡å¤ä½¿ç”¨å­—å…¸ä¸­çš„å•è¯ã€‚</p></li><li><p>ä½ å¯ä»¥å‡è®¾å­—å…¸ä¸­æ²¡æœ‰é‡å¤çš„å•è¯ã€‚</p></li></ul><span id="more"></span><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><figure class="highlight makefile"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><pre><code class="hljs makefile"><span class="hljs-section">è¾“å…¥:</span><br>s = <span class="hljs-string">&quot;catsanddog&quot;</span><br>wordDict = [<span class="hljs-string">&quot;cat&quot;</span>, <span class="hljs-string">&quot;cats&quot;</span>, <span class="hljs-string">&quot;and&quot;</span>, <span class="hljs-string">&quot;sand&quot;</span>, <span class="hljs-string">&quot;dog&quot;</span>]<br><span class="hljs-section">è¾“å‡º:</span><br>[<br>  <span class="hljs-string">&quot;cats and dog&quot;</span>,<br>  <span class="hljs-string">&quot;cat sand dog&quot;</span><br>]<br></code></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs makefile"><span class="hljs-section">è¾“å…¥:</span><br>s = <span class="hljs-string">&quot;pineapplepenapple&quot;</span><br>wordDict = [<span class="hljs-string">&quot;apple&quot;</span>, <span class="hljs-string">&quot;pen&quot;</span>, <span class="hljs-string">&quot;applepen&quot;</span>, <span class="hljs-string">&quot;pine&quot;</span>, <span class="hljs-string">&quot;pineapple&quot;</span>]<br><span class="hljs-section">è¾“å‡º:</span><br>[<br>  <span class="hljs-string">&quot;pine apple pen apple&quot;</span>,<br>  <span class="hljs-string">&quot;pineapple pen apple&quot;</span>,<br>  <span class="hljs-string">&quot;pine applepen apple&quot;</span><br>]<br><span class="hljs-section">è§£é‡Š: æ³¨æ„ä½ å¯ä»¥é‡å¤ä½¿ç”¨å­—å…¸ä¸­çš„å•è¯ã€‚</span><br></code></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs makefile"><span class="hljs-section">è¾“å…¥:</span><br>s = <span class="hljs-string">&quot;catsandog&quot;</span><br>wordDict = [<span class="hljs-string">&quot;cats&quot;</span>, <span class="hljs-string">&quot;dog&quot;</span>, <span class="hljs-string">&quot;sand&quot;</span>, <span class="hljs-string">&quot;and&quot;</span>, <span class="hljs-string">&quot;cat&quot;</span>]<br><span class="hljs-section">è¾“å‡º:</span><br>[]<br></code></pre></td></tr></table></figure><hr><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>åˆ¤æ–­æ˜¯å¦å¯åˆ†ç”¨åŠ¨æ€è§„åˆ’ï¼Œæ±‚å…·ä½“è§£ä½¿ç”¨å›æº¯ã€‚</p><p>ä¸<a href="https://leetcode-cn.com/problems/word-break/">139. å•è¯æ‹†åˆ†</a>æ€æƒ³ç±»ä¼¼ï¼Œ139é¢˜å¯ä»¥ä½¿ç”¨åŠ¨æ€è§„åˆ’çš„æ–¹æ³•ï¼Œæˆ–è®°å¿†åŒ–æœç´¢ã€‚ä½†æ˜¯æ­¤é¢˜ç”±äºæ ·ä¾‹ç‰¹æ®Šï¼Œå¯èƒ½å‡ºç°å‰åŠæ®µå¾ˆå¤šè§£ï¼ŒååŠæ®µæ— è§£çš„æƒ…å†µï¼Œä¾‹å¦‚ä¸‹é¢çš„æµ‹è¯•ç”¨ä¾‹ä¼šå¯¼è‡´è¿è¡Œè¶…æ—¶ã€‚</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">s</span> = <span class="hljs-string">&quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaabaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot;</span><br><span class="hljs-attr">wordDict</span> = [<span class="hljs-string">&quot;a&quot;</span>,<span class="hljs-string">&quot;aa&quot;</span>,<span class="hljs-string">&quot;aaa&quot;</span>,<span class="hljs-string">&quot;aaaa&quot;</span>,<span class="hljs-string">&quot;aaaaa&quot;</span>,<span class="hljs-string">&quot;aaaaaa&quot;</span>,<span class="hljs-string">&quot;aaaaaaa&quot;</span>,<span class="hljs-string">&quot;aaaaaaaa&quot;</span>,<span class="hljs-string">&quot;aaaaaaaaa&quot;</span>,<span class="hljs-string">&quot;aaaaaaaaaa&quot;</span>]<br></code></pre></td></tr></table></figure><h3 id="è®°å¿†åŒ–æœç´¢-vs-åŠ¨æ€è§„åˆ’"><a href="#è®°å¿†åŒ–æœç´¢-vs-åŠ¨æ€è§„åˆ’" class="headerlink" title="è®°å¿†åŒ–æœç´¢ vs. åŠ¨æ€è§„åˆ’"></a>è®°å¿†åŒ–æœç´¢ vs. åŠ¨æ€è§„åˆ’</h3><ul><li>æš´åŠ›æœç´¢ä¼šäº§ç”Ÿå¾ˆå¤šé‡å¤çš„å­é—®é¢˜ï¼Œè®°å¿†åŒ–æœç´¢è®°å½•æœç´¢ç»“æœï¼Œå†æ¬¡è¿›å…¥ç›¸åŒçš„å­é—®é¢˜ç›´æ¥è¿”å›ç»“æœï¼ˆç”¨ç©ºé—´å»æ¢æ—¶é—´ï¼Œä¸åŠ¨æ€è§„åˆ’ç±»ä¼¼ï¼‰ã€‚</li><li>è®°å¿†åŒ–æœç´¢æ˜¯è‡ªé¡¶å‘ä¸‹æ±‚è§£ï¼ŒåŠ¨æ€è§„åˆ’æ˜¯è‡ªåº•å‘ä¸Šã€‚æœ¬é¢˜ä¸­ä½¿ç”¨è‡ªé¡¶å‘ä¸‹çš„æ–¹æ³•å°†ä¸å¯æ‹†åˆ†çš„æƒ…å†µè‡ªåŠ¨å‰ªæï¼Œæ•ˆç‡ä¼˜äºè‡ªåº•å‘ä¸Šçš„åŠ¨æ€è§„åˆ’ã€‚</li></ul><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><ul><li>ä¸ºäº†åŠ å¿«åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦åœ¨å•è¯åˆ—è¡¨ä¸­ï¼Œä½¿ç”¨å“ˆå¸Œæ–¹æ³•<code>unordered_set</code>åŠ å¿«æŸ¥æ‰¾ã€‚</li><li><code>ans[i]</code>ä¿å­˜ä»¥<code>i</code>ä¸ºå¼€å§‹ä¸‹æ ‡çš„å­—ç¬¦ä¸²<code>s</code>æ„æˆçš„å•è¯æ‹†åˆ†ç»“æœã€‚</li><li><code>seen[i]</code>è¡¨ç¤ºä»¥<code>i</code>ä¸ºå¼€å§‹ä¸‹æ ‡çš„å­—ç¬¦ä¸²<code>s</code>æ˜¯å¦è¢«æœç´¢</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    vector&lt;<span class="hljs-type">int</span>&gt; seen;<br>    vector&lt;vector&lt;string&gt;&gt; ans;<br>    unordered_set&lt;string&gt; _set;<br>    <span class="hljs-type">int</span> n;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">vector&lt;string&gt; <span class="hljs-title">wordBreak</span><span class="hljs-params">(string s, vector&lt;string&gt;&amp; wordDict)</span> </span>&#123;<br>        n = s.<span class="hljs-built_in">size</span>();<br>        seen = <span class="hljs-built_in">vector</span>&lt;<span class="hljs-type">int</span>&gt;(n + <span class="hljs-number">1</span>);<br>        ans = vector&lt;vector&lt;string&gt;&gt;(n + <span class="hljs-number">1</span>, <span class="hljs-built_in">vector</span>&lt;string&gt;());<br>        <span class="hljs-comment">// å“ˆå¸Œsetï¼Œå¿«é€ŸæŸ¥æ‰¾</span><br>        _set = <span class="hljs-built_in">unordered_set</span>(wordDict.<span class="hljs-built_in">begin</span>(), wordDict.<span class="hljs-built_in">end</span>());<br>        <span class="hljs-built_in">backtrack</span>(s, <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">return</span> ans[<span class="hljs-number">0</span>];<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">backtrack</span><span class="hljs-params">(<span class="hljs-type">const</span> string&amp; s, <span class="hljs-type">int</span> index)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(index &gt;= n || seen[index]) <span class="hljs-keyword">return</span>;<br>        seen[index] = <span class="hljs-number">1</span>;<br>        <span class="hljs-comment">// substr(index, length)åˆ‡å‰²çš„å•è¯åŒºé—´ä¸º[index, index+length)</span><br>        <span class="hljs-comment">// è¦å–ç­‰å·ï¼Œå› ä¸ºi=næ—¶ï¼Œå…¨éƒ¨åŒ¹é…ã€‚</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = index + <span class="hljs-number">1</span>;i &lt;= n;i++) &#123;<br>            <span class="hljs-keyword">auto</span> st = s.<span class="hljs-built_in">substr</span>(index, i - index);<br>            <span class="hljs-comment">// æ‰¾åˆ°äº†</span><br>            <span class="hljs-keyword">if</span>(_set.<span class="hljs-built_in">find</span>(st) != _set.<span class="hljs-built_in">end</span>()) &#123;<br>                <span class="hljs-keyword">if</span>(i == n) &#123;<br>                    ans[index].<span class="hljs-built_in">push_back</span>(st);<br>                &#125; <span class="hljs-keyword">else</span> &#123;<br>                    <span class="hljs-built_in">backtrack</span>(s, i);<br>                    <span class="hljs-keyword">if</span>(ans[i].<span class="hljs-built_in">size</span>() != <span class="hljs-number">0</span>) &#123;<br>                        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> sit:ans[i]) &#123;<br>                            ans[index].<span class="hljs-built_in">push_back</span>(st+<span class="hljs-string">&quot; &quot;</span>+sit);<br>                        &#125;<br>                    &#125;   <br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
      <category>æ¨¡æ‹Ÿ</category>
      
      <category>åŠ¨æ€è§„åˆ’</category>
      
      <category>è®°å¿†åŒ–æœç´¢</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ¯æ—¥ä¸€é¢˜</tag>
      
      <tag>LeetCode</tag>
      
      <tag>DP</tag>
      
      <tag>å­—ç¬¦ä¸²</tag>
      
      <tag>å›æº¯</tag>
      
      <tag>è®°å¿†åŒ–æœç´¢</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>463. å²›å±¿çš„å‘¨é•¿</title>
    <link href="/2020/10/30/463-%E5%B2%9B%E5%B1%BF%E7%9A%84%E5%91%A8%E9%95%BF/"/>
    <url>/2020/10/30/463-%E5%B2%9B%E5%B1%BF%E7%9A%84%E5%91%A8%E9%95%BF/</url>
    
    <content type="html"><![CDATA[<h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a><a href="https://leetcode-cn.com/problems/island-perimeter/">é¢˜ç›®æè¿°</a></h2><p>ç»™å®šä¸€ä¸ªåŒ…å« 0 å’Œ 1 çš„äºŒç»´ç½‘æ ¼åœ°å›¾ï¼Œå…¶ä¸­ 1 è¡¨ç¤ºé™†åœ° 0 è¡¨ç¤ºæ°´åŸŸã€‚</p><p>ç½‘æ ¼ä¸­çš„æ ¼å­æ°´å¹³å’Œå‚ç›´æ–¹å‘ç›¸è¿ï¼ˆå¯¹è§’çº¿æ–¹å‘ä¸ç›¸è¿ï¼‰ã€‚æ•´ä¸ªç½‘æ ¼è¢«æ°´å®Œå…¨åŒ…å›´ï¼Œä½†å…¶ä¸­æ°å¥½æœ‰ä¸€ä¸ªå²›å±¿ï¼ˆæˆ–è€…è¯´ï¼Œä¸€ä¸ªæˆ–å¤šä¸ªè¡¨ç¤ºé™†åœ°çš„æ ¼å­ç›¸è¿ç»„æˆçš„å²›å±¿ï¼‰ã€‚</p><p>å²›å±¿ä¸­æ²¡æœ‰â€œæ¹–â€ï¼ˆâ€œæ¹–â€ æŒ‡æ°´åŸŸåœ¨å²›å±¿å†…éƒ¨ä¸”ä¸å’Œå²›å±¿å‘¨å›´çš„æ°´ç›¸è¿ï¼‰ã€‚æ ¼å­æ˜¯è¾¹é•¿ä¸º 1 çš„æ­£æ–¹å½¢ã€‚ç½‘æ ¼ä¸ºé•¿æ–¹å½¢ï¼Œä¸”å®½åº¦å’Œé«˜åº¦å‡ä¸è¶…è¿‡ 100 ã€‚è®¡ç®—è¿™ä¸ªå²›å±¿çš„å‘¨é•¿ã€‚</p> <span id="more"></span><p><strong>ç¤ºä¾‹ :</strong></p><figure class="highlight inform7"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><pre><code class="hljs inform7">è¾“å…¥:<br><span class="hljs-comment">[<span class="hljs-comment">[0,1,0,0]</span>,</span><br><span class="hljs-comment"> <span class="hljs-comment">[1,1,1,0]</span>,</span><br><span class="hljs-comment"> <span class="hljs-comment">[0,1,0,0]</span>,</span><br><span class="hljs-comment"> <span class="hljs-comment">[1,1,0,0]</span>]</span><br>è¾“å‡º: 16<br><br>è§£é‡Š: å®ƒçš„å‘¨é•¿æ˜¯ä¸‹é¢å›¾ç‰‡ä¸­çš„ 16 ä¸ªé»„è‰²çš„è¾¹ï¼š<br></code></pre></td></tr></table></figure><p><img src="island.png" alt="img"></p><hr><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ul><li><p>è¿­ä»£æ³•ï¼Œåˆ¤æ–­æ¯ä¸ªæ ¼å­å››å‘¨çš„çŠ¶æ€ã€‚</p></li><li><p>lambdaè¡¨è¾¾å¼</p><figure class="highlight ocaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ocaml">[å‡½æ•°å¯¹è±¡å‚æ•°] (æ“ä½œç¬¦é‡è½½å‡½æ•°å‚æ•°) <span class="hljs-keyword">mutable</span> æˆ– <span class="hljs-keyword">exception</span> å£°æ˜ -&gt; è¿”å›å€¼ç±»å‹ &#123;å‡½æ•°ä½“&#125;<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼ŒLambda ä¸»è¦åˆ†ä¸ºäº”ä¸ªéƒ¨åˆ†ï¼š[å‡½æ•°å¯¹è±¡å‚æ•°]ã€(æ“ä½œç¬¦é‡è½½å‡½æ•°å‚æ•°)ã€mutable æˆ– exception å£°æ˜ã€-&gt; è¿”å›å€¼ç±»å‹ã€{å‡½æ•°ä½“}.</p></li></ul><p>è¯¦ç»†å¯ä»¥çœ‹è¿™ç¯‡åšå®¢ <a href="https://www.cnblogs.com/jimodetiantang/p/9016826.html">C++ä¹‹Lambdaè¡¨è¾¾å¼</a></p><h3 id="C-ä»£ç "><a href="#C-ä»£ç " class="headerlink" title="C++ä»£ç "></a>C++ä»£ç </h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">islandPerimeter</span><span class="hljs-params">(vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt;&amp; grid)</span> </span>&#123;<br>        <span class="hljs-type">int</span> r = grid.<span class="hljs-built_in">size</span>(), c = grid[<span class="hljs-number">0</span>].<span class="hljs-built_in">size</span>();<br>        <span class="hljs-keyword">auto</span> check = [&amp;](<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y) -&gt; <span class="hljs-type">int</span> &#123;<br>            <span class="hljs-keyword">if</span>(grid[x][y]==<span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>            <span class="hljs-type">int</span> res = <span class="hljs-number">4</span>;<br>            <span class="hljs-keyword">if</span>(x &gt; <span class="hljs-number">0</span> &amp;&amp; grid[x - <span class="hljs-number">1</span>][y]==<span class="hljs-number">1</span>) --res;<br>            <span class="hljs-keyword">if</span>(x &lt; r - <span class="hljs-number">1</span> &amp;&amp; grid[x + <span class="hljs-number">1</span>][y]==<span class="hljs-number">1</span>) --res;<br>            <span class="hljs-keyword">if</span>(y &gt; <span class="hljs-number">0</span> &amp;&amp; grid[x][y - <span class="hljs-number">1</span>]==<span class="hljs-number">1</span>) --res;<br>            <span class="hljs-keyword">if</span>(y &lt; c - <span class="hljs-number">1</span> &amp;&amp; grid[x][y + <span class="hljs-number">1</span>]==<span class="hljs-number">1</span>) --res;<br>            <span class="hljs-keyword">return</span> res;<br>        &#125;;<br>        <span class="hljs-type">int</span> ans = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; r;++i) &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>;j &lt; c;++j) &#123;<br>                ans += <span class="hljs-built_in">check</span>(i, j);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
      <category>æ¨¡æ‹Ÿ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ¯æ—¥ä¸€é¢˜</tag>
      
      <tag>LeetCode</tag>
      
      <tag>è¿­ä»£</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>142. ç¯å½¢é“¾è¡¨ II</title>
    <link href="/2020/10/29/142-%E7%8E%AF%E5%BD%A2%E9%93%BE%E8%A1%A8-II/"/>
    <url>/2020/10/29/142-%E7%8E%AF%E5%BD%A2%E9%93%BE%E8%A1%A8-II/</url>
    
    <content type="html"><![CDATA[<h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a><a href="https://leetcode-cn.com/problems/linked-list-cycle-ii/">é¢˜ç›®æè¿°</a></h2><p>ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œè¿”å›é“¾è¡¨å¼€å§‹å…¥ç¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚ å¦‚æœé“¾è¡¨æ— ç¯ï¼Œåˆ™è¿”å› <code>null</code>ã€‚</p><p>ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•´æ•° <code>pos</code> æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰ã€‚ å¦‚æœ <code>pos</code> æ˜¯ <code>-1</code>ï¼Œåˆ™åœ¨è¯¥é“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚<strong>æ³¨æ„ï¼Œ<code>pos</code> ä»…ä»…æ˜¯ç”¨äºæ ‡è¯†ç¯çš„æƒ…å†µï¼Œå¹¶ä¸ä¼šä½œä¸ºå‚æ•°ä¼ é€’åˆ°å‡½æ•°ä¸­ã€‚</strong></p><p><strong>è¯´æ˜ï¼š</strong>ä¸å…è®¸ä¿®æ”¹ç»™å®šçš„é“¾è¡¨ã€‚</p><p><strong>è¿›é˜¶ï¼š</strong></p><ul><li>ä½ æ˜¯å¦å¯ä»¥ä½¿ç”¨ <code>O(1)</code> ç©ºé—´è§£å†³æ­¤é¢˜ï¼Ÿ</li></ul><span id="more"></span><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><p><img src="circularlinkedlist.png" alt="img"></p><figure class="highlight bash"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><pre><code class="hljs bash">è¾“å…¥ï¼š<span class="hljs-built_in">head</span> = [3,2,0,-4], pos = 1<br>è¾“å‡ºï¼šè¿”å›ç´¢å¼•ä¸º 1 çš„é“¾è¡¨èŠ‚ç‚¹<br>è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬äºŒä¸ªèŠ‚ç‚¹ã€‚<br></code></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><p><img src="circularlinkedlist_test2.png" alt="img"></p><img src="/2020/10/29/142-%E7%8E%AF%E5%BD%A2%E9%93%BE%E8%A1%A8-II/circularlinkedlist_test2.png" class="" title="This is an image"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">è¾“å…¥ï¼š<span class="hljs-built_in">head</span> = [1,2], pos = 0<br>è¾“å‡ºï¼šè¿”å›ç´¢å¼•ä¸º 0 çš„é“¾è¡¨èŠ‚ç‚¹<br>è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚<br></code></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><p><img src="circularlinkedlist_test3.png" alt="img"></p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs nix">è¾“å…¥ï¼š<span class="hljs-attr">head</span> = [<span class="hljs-number">1</span>], <span class="hljs-attr">pos</span> = -<span class="hljs-number">1</span><br>è¾“å‡ºï¼šè¿”å› <span class="hljs-literal">null</span><br>è§£é‡Šï¼šé“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚<br></code></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ul><li>é“¾è¡¨ä¸­èŠ‚ç‚¹çš„æ•°ç›®èŒƒå›´åœ¨èŒƒå›´ <code>[0, 104]</code> å†…</li><li><code>-105 &lt;= Node.val &lt;= 105</code></li><li><code>pos</code> çš„å€¼ä¸º <code>-1</code> æˆ–è€…é“¾è¡¨ä¸­çš„ä¸€ä¸ªæœ‰æ•ˆç´¢å¼•</li></ul><hr><h2 id="è§£é¢˜æ€è·¯"><a href="#è§£é¢˜æ€è·¯" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h2><p><strong>ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆï¼Œå¿«æŒ‡é’ˆæ¯æ¬¡èµ°2æ­¥ï¼Œæ…¢æŒ‡é’ˆæ¯æ¬¡èµ°1æ­¥ã€‚</strong><br><strong>1. å¦‚æœæœ‰ç¯å¿…å®šä¼šç›¸é‡ã€‚</strong><br><strong>è¯æ˜ï¼š</strong></p><ul><li>è®¾å¿«æŒ‡é’ˆé€Ÿåº¦$v<em>{fast}=2$ï¼Œæ…¢æŒ‡é’ˆé€Ÿåº¦$v</em>{slow}=1$ï¼Œè¡Œèµ°æ—¶é—´ä¸º$t$ï¼Œä¸¤è€…çš„è·ç¦»å·®ä¸º$d$ï¼Œç¯çš„å‘¨é•¿ä¸º$L$ï¼Œç¯ä¹‹å‰çš„è·¯å¾„é•¿åº¦ä¸º$S$ã€‚</li><li>æ˜“è§$d=(v<em>{fast}-v</em>{slow})*t=t$ï¼Œå› ä¸º$t$çš„å€¼æ˜¯è¿ç»­é€’å¢æ•´æ•°ï¼Œè‹¥æœ‰ç¯ï¼Œåˆ™å¿…å®šå­˜åœ¨æŸä¸€æ—¶åˆ»$t=L$ï¼Œå³å¿…å®šç›¸é‡ã€‚</li></ul><p><strong>2. ç›¸é‡æ—¶åˆ»æ…¢æŒ‡é’ˆçš„ä½ç½®ç›¸å¯¹äºå…¥å£èµ°äº†$L-S$</strong><br><strong>è¯æ˜ï¼š</strong></p><ul><li>æ…¢æŒ‡é’ˆåœ¨èµ°$S$åˆ°è¾¾ç¯å…¥å£æ—¶ï¼Œç”±äºå¿«æŒ‡é’ˆé€Ÿåº¦æ˜¯æ…¢æŒ‡é’ˆçš„ä¸¤å€ï¼Œå› æ­¤å¿«æŒ‡é’ˆæ­¤æ—¶å·²åœ¨ç¯ä¸­èµ°äº†$S$ã€‚æ­¤æ—¶ä¸¤è€…éƒ½åœ¨ç¯ä¸­ï¼Œå¼€å§‹è¿›è¡Œè¿½é€ï¼Œè®¾å½“å‰æ—¶åˆ»$t=0$ã€‚</li><li>å› ä¸ºéƒ½åœ¨ç¯ä¸­ï¼Œå¿«æŒ‡é’ˆè¿½æ…¢æŒ‡é’ˆï¼Œå¯ä»¥è®¤ä¸ºå¿«æŒ‡é’ˆè½åæ…¢æŒ‡é’ˆ$L-S$ï¼Œå› æ­¤ç›¸é‡æ—¶éœ€è¦æ»¡è¶³$(v<em>{fast}-v</em>{slow})*t=L-S$ï¼Œå³$t=L-S$æ—¶ç›¸é‡ï¼Œåˆå› ä¸ºæ…¢æŒ‡é’ˆé€Ÿåº¦ä¸º$1$ï¼Œå› æ­¤ç›¸é‡æ—¶æ…¢æŒ‡é’ˆç›¸å¯¹äºç¯å…¥å£èµ°äº†$L-S$ã€‚</li></ul><p><strong>3. ç›¸é‡åæ…¢æŒ‡é’ˆå†èµ°$S$å³åˆ°è¾¾ç¯å…¥å£</strong></p><ul><li>å¯ä»¥å†ä½¿ç”¨æŒ‡é’ˆ<code>t</code>ä»<code>head</code>å¼€å§‹è¡Œè¿›ï¼Œ<code>t</code>å’Œæ…¢æŒ‡é’ˆåŒæ­¥èµ°$S$ï¼Œä¸¤è€…ç›¸é‡ï¼Œç›¸é‡ä½ç½®ä¸ºç¯å…¥å£ã€‚</li></ul><h3 id="C-ä»£ç "><a href="#C-ä»£ç " class="headerlink" title="C++ä»£ç "></a>C++ä»£ç </h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Definition for singly-linked list.</span><br><span class="hljs-comment"> * struct ListNode &#123;</span><br><span class="hljs-comment"> *     int val;</span><br><span class="hljs-comment"> *     ListNode *next;</span><br><span class="hljs-comment"> *     ListNode(int x) : val(x), next(NULL) &#123;&#125;</span><br><span class="hljs-comment"> * &#125;;</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">ListNode *<span class="hljs-title">detectCycle</span><span class="hljs-params">(ListNode *head)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(head==<span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span> head;<br>        ListNode *fast, *slow, *t;<br>        fast = slow = t = head;<br>        <span class="hljs-keyword">do</span> &#123;<br>            fast = fast-&gt;next;<br>            <span class="hljs-keyword">if</span>(fast &amp;&amp; fast-&gt;next)<br>                fast = fast-&gt;next;<br>            <span class="hljs-keyword">else</span><br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;<br>            slow = slow-&gt;next;<br>        &#125;<span class="hljs-keyword">while</span>(slow != fast);<br>        <span class="hljs-keyword">while</span>(t!=slow) &#123;<br>            t = t-&gt;next;<br>            slow = slow-&gt;next;<br>        &#125;<br>        <span class="hljs-keyword">return</span> t;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
      <category>é“¾è¡¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>LeetCode</tag>
      
      <tag>é“¾è¡¨</tag>
      
      <tag>åŒæŒ‡é’ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1529. ç¯æ³¡å¼€å…³ IV</title>
    <link href="/2020/10/29/1529-%E7%81%AF%E6%B3%A1%E5%BC%80%E5%85%B3-IV/"/>
    <url>/2020/10/29/1529-%E7%81%AF%E6%B3%A1%E5%BC%80%E5%85%B3-IV/</url>
    
    <content type="html"><![CDATA[<h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a><a href="https://leetcode-cn.com/problems/bulb-switcher-iv/">é¢˜ç›®æè¿°</a></h2><p>æˆ¿é—´ä¸­æœ‰ <code>n</code> ä¸ªç¯æ³¡ï¼Œç¼–å·ä» <code>0</code> åˆ° <code>n-1</code> ï¼Œè‡ªå·¦å‘å³æ’æˆä¸€è¡Œã€‚æœ€å¼€å§‹çš„æ—¶å€™ï¼Œæ‰€æœ‰çš„ç¯æ³¡éƒ½æ˜¯ <strong>å…³</strong> ç€çš„ã€‚</p><p>è¯·ä½ è®¾æ³•ä½¿å¾—ç¯æ³¡çš„å¼€å…³çŠ¶æ€å’Œ <code>target</code> æè¿°çš„çŠ¶æ€ä¸€è‡´ï¼Œå…¶ä¸­ <code>target[i]</code> ç­‰äº <code>1</code> ç¬¬ <code>i</code> ä¸ªç¯æ³¡æ˜¯å¼€ç€çš„ï¼Œç­‰äº <code>0</code> æ„å‘³ç€ç¬¬ <code>i</code> ä¸ªç¯æ˜¯å…³ç€çš„ã€‚</p><p>æœ‰ä¸€ä¸ªå¼€å…³å¯ä»¥ç”¨äºç¿»è½¬ç¯æ³¡çš„çŠ¶æ€ï¼Œç¿»è½¬æ“ä½œå®šä¹‰å¦‚ä¸‹ï¼š</p><ul><li>é€‰æ‹©å½“å‰é…ç½®ä¸‹çš„ä»»æ„ä¸€ä¸ªç¯æ³¡ï¼ˆä¸‹æ ‡ä¸º <code>i</code> ï¼‰</li><li>ç¿»è½¬ä¸‹æ ‡ä» <code>i</code> åˆ° <code>n-1</code> çš„æ¯ä¸ªç¯æ³¡</li></ul><p>ç¿»è½¬æ—¶ï¼Œå¦‚æœç¯æ³¡çš„çŠ¶æ€ä¸º <code>0</code> å°±å˜ä¸º <code>1</code>ï¼Œä¸º <code>1</code> å°±å˜ä¸º <code>0</code> ã€‚</p><p>è¿”å›è¾¾æˆ <code>target</code> æè¿°çš„çŠ¶æ€æ‰€éœ€çš„ <strong>æœ€å°‘</strong> ç¿»è½¬æ¬¡æ•°ã€‚</p><span id="more"></span><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><figure class="highlight clean"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><pre><code class="hljs clean">è¾“å…¥ï¼štarget = <span class="hljs-string">&quot;10111&quot;</span><br>è¾“å‡ºï¼š<span class="hljs-number">3</span><br>è§£é‡Šï¼šåˆå§‹é…ç½® <span class="hljs-string">&quot;00000&quot;</span>.<br>ä»ç¬¬ <span class="hljs-number">3</span> ä¸ªç¯æ³¡ï¼ˆä¸‹æ ‡ä¸º <span class="hljs-number">2</span>ï¼‰å¼€å§‹ç¿»è½¬ <span class="hljs-string">&quot;00000&quot;</span> -&gt; <span class="hljs-string">&quot;00111&quot;</span><br>ä»ç¬¬ <span class="hljs-number">1</span> ä¸ªç¯æ³¡ï¼ˆä¸‹æ ‡ä¸º <span class="hljs-number">0</span>ï¼‰å¼€å§‹ç¿»è½¬ <span class="hljs-string">&quot;00111&quot;</span> -&gt; <span class="hljs-string">&quot;11000&quot;</span><br>ä»ç¬¬ <span class="hljs-number">2</span> ä¸ªç¯æ³¡ï¼ˆä¸‹æ ‡ä¸º <span class="hljs-number">1</span>ï¼‰å¼€å§‹ç¿»è½¬ <span class="hljs-string">&quot;11000&quot;</span> -&gt; <span class="hljs-string">&quot;10111&quot;</span><br>è‡³å°‘éœ€è¦ç¿»è½¬ <span class="hljs-number">3</span> æ¬¡æ‰èƒ½è¾¾æˆ target æè¿°çš„çŠ¶æ€<br></code></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs clean">è¾“å…¥ï¼štarget = <span class="hljs-string">&quot;101&quot;</span><br>è¾“å‡ºï¼š<span class="hljs-number">3</span><br>è§£é‡Šï¼š<span class="hljs-string">&quot;000&quot;</span> -&gt; <span class="hljs-string">&quot;111&quot;</span> -&gt; <span class="hljs-string">&quot;100&quot;</span> -&gt; <span class="hljs-string">&quot;101&quot;</span>.<br></code></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs abnf">è¾“å…¥ï¼štarget <span class="hljs-operator">=</span> <span class="hljs-string">&quot;00000&quot;</span><br>è¾“å‡ºï¼š<span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 4ï¼š</strong></p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs abnf">è¾“å…¥ï¼štarget <span class="hljs-operator">=</span> <span class="hljs-string">&quot;001011101&quot;</span><br>è¾“å‡ºï¼š<span class="hljs-number">5</span><br></code></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= target.length &lt;= 10^5</code></li><li><code>target[i] == &#39;0&#39;</code> æˆ–è€… <code>target[i] == &#39;1&#39;</code></li></ul><hr><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><h3 id="åŠ¨æ€è§„åˆ’"><a href="#åŠ¨æ€è§„åˆ’" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h3><ul><li>$dp[i][0]$è¡¨ç¤ºä»ç¬¬<code>i</code>ä¸ªç¯æ³¡åˆ°æœ«å°¾è½¬æ¢ä¸ºå’Œç›®æ ‡çŠ¶æ€ç›¸åŒçš„éœ€è¦çš„æ¬¡æ•°ï¼Œ$0\leq i &lt; n$</li><li>$dp[i][1]$è¡¨ç¤ºä»ç¬¬<code>i</code>ä¸ªç¯æ³¡åˆ°æœ«å°¾è½¬æ¢ä¸ºå’Œç›®æ ‡çŠ¶æ€ç›¸åçš„éœ€è¦çš„æ¬¡æ•°ï¼Œ$0\leq i &lt; n$<br>çŠ¶æ€è½¬ç§»æ–¹ç¨‹<script type="math/tex; mode=display">dp[i][0] = \begin {cases}dp[i+1][0],&\text{target[i]='0'} \\dp[i+1][1]+1,&\text{target[i]='1'}\end{cases}</script><script type="math/tex; mode=display">dp[i][1] = \begin {cases}dp[i+1][0]+1,&\text{target[i]='0'} \\dp[i+1][1],&\text{target[i]='1'}\end{cases}</script><script type="math/tex; mode=display">dp[n][0] = dp[n][1] = 0</script></li></ul><h3 id="Pythonä»£ç "><a href="#Pythonä»£ç " class="headerlink" title="Pythonä»£ç "></a>Pythonä»£ç </h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">minFlips</span>(<span class="hljs-params">self, target: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        dp = [[<span class="hljs-number">0</span>]*<span class="hljs-number">2</span> <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(target)+<span class="hljs-number">1</span>)]<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(target)-<span class="hljs-number">1</span>,-<span class="hljs-number">1</span>,-<span class="hljs-number">1</span>):<br>            <span class="hljs-comment"># print(i,end = &#x27;,&#x27;)</span><br>            <span class="hljs-keyword">if</span> target[i] == <span class="hljs-string">&#x27;0&#x27;</span>:<br>                dp[i][<span class="hljs-number">0</span>] = dp[i+<span class="hljs-number">1</span>][<span class="hljs-number">0</span>]<br>                dp[i][<span class="hljs-number">1</span>] = dp[i+<span class="hljs-number">1</span>][<span class="hljs-number">0</span>] + <span class="hljs-number">1</span><br>            <span class="hljs-keyword">else</span>:<br>                dp[i][<span class="hljs-number">0</span>] = dp[i+<span class="hljs-number">1</span>][<span class="hljs-number">1</span>] + <span class="hljs-number">1</span><br>                dp[i][<span class="hljs-number">1</span>] = dp[i+<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]<br>        <span class="hljs-keyword">return</span> dp[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
      <category>åŠ¨æ€è§„åˆ’</category>
      
    </categories>
    
    
    <tags>
      
      <tag>LeetCode</tag>
      
      <tag>DP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LCP 25. å¤è‘£é”®ç›˜</title>
    <link href="/2020/10/29/LCP-25-%E5%8F%A4%E8%91%A3%E9%94%AE%E7%9B%98/"/>
    <url>/2020/10/29/LCP-25-%E5%8F%A4%E8%91%A3%E9%94%AE%E7%9B%98/</url>
    
    <content type="html"><![CDATA[<h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a><a href="https://leetcode-cn.com/problems/Uh984O/">é¢˜ç›®æè¿°</a></h2><p>å°æ‰£åœ¨ç§‹æ—¥å¸‚é›†è´­ä¹°äº†ä¸€ä¸ªå¤è‘£é”®ç›˜ã€‚ç”±äºå¤è‘£é”®ç›˜å¹´ä¹…å¤±ä¿®ï¼Œé”®ç›˜ä¸Šåªæœ‰ 26 ä¸ªå­—æ¯ <strong>a~z</strong> å¯ä»¥æŒ‰ä¸‹ï¼Œä¸”æ¯ä¸ªå­—æ¯æœ€å¤šä»…èƒ½è¢«æŒ‰ <code>k</code> æ¬¡ã€‚</p><p>å°æ‰£éšæœºæŒ‰äº† <code>n</code> æ¬¡æŒ‰é”®ï¼Œè¯·è¿”å›å°æ‰£æ€»å…±æœ‰å¯èƒ½æŒ‰å‡ºå¤šå°‘ç§å†…å®¹ã€‚ç”±äºæ•°å­—è¾ƒå¤§ï¼Œæœ€ç»ˆç­”æ¡ˆéœ€è¦å¯¹ 1000000007 (1e9 + 7) å–æ¨¡ã€‚</p><span id="more"></span><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><blockquote><p>è¾“å…¥ï¼š<code>k = 1, n = 1</code></p><p>è¾“å‡ºï¼š<code>26</code></p><p>è§£é‡Šï¼šç”±äºåªèƒ½æŒ‰ä¸€æ¬¡æŒ‰é”®ï¼Œæ‰€æœ‰å¯èƒ½çš„å­—ç¬¦ä¸²ä¸º â€œaâ€, â€œbâ€, â€¦ â€œzâ€</p></blockquote><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><blockquote><p>è¾“å…¥ï¼š<code>k = 1, n = 2</code></p><p>è¾“å‡ºï¼š<code>650</code></p><p>è§£é‡Šï¼šç”±äºåªèƒ½æŒ‰ä¸¤æ¬¡æŒ‰é”®ï¼Œä¸”æ¯ä¸ªé”®æœ€å¤šåªèƒ½æŒ‰ä¸€æ¬¡ï¼Œæ‰€æœ‰å¯èƒ½çš„å­—ç¬¦ä¸²ï¼ˆæŒ‰å­—å…¸åºæ’åºï¼‰ä¸º â€œabâ€, â€œacâ€, â€¦ â€œzyâ€</p></blockquote><p><strong>æç¤ºï¼š</strong></p><ul><li><p><code>1 &lt;= k &lt;= 5</code></p></li><li><p><code>1 &lt;= n &lt;= 26*k</code></p></li></ul><hr><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><h3 id="åŠ¨æ€è§„åˆ’"><a href="#åŠ¨æ€è§„åˆ’" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h3><p>$dp[i][j]$è¡¨ç¤ºæ€»é•¿åº¦ä¸º$i$ï¼Œç”¨äº†å‰$j$ç§å­—æ¯å¯èƒ½å‡ºç°çš„å­—ç¬¦ä¸²çš„æ•°é‡ï¼Œå¯ä»¥å¾—åˆ°å¦‚ä¸‹è½¬ç§»æ–¹ç¨‹ã€‚</p><script type="math/tex; mode=display">dp[i][j]=\sum_{x=0}^kdp[i-x][j-1]Â·C_i^x</script><p>å…¶ä¸­ï¼Œ$x$è¡¨ç¤ºç¬¬$j$ç§å­—æ¯å‡ºç°çš„æ¬¡æ•°ï¼Œå…¶å€¼å¯ä»¥ä¸º$0,1,..k$ï¼Œå¯¹äºæ¯ä¸€ä¸ª$x$ï¼Œéƒ½æœ‰$C_i^x$ç§ä½ç½®å¯ä»¥é€‰æ‹©ã€‚<br>ä¾‹å¦‚ï¼Œ$x=2$ï¼Œè¡¨ç¤ºç¬¬$j$ç§å­—ç¬¦å‡ºç°äº†$2$æ¬¡ï¼Œä»–å¯èƒ½å‡ºç°åœ¨å‰$i$ä¸ªä½ç½®ä¸­çš„ä»»æ„ä¸¤ä¸ªï¼Œæ˜¯ä¸€ä¸ªç»„åˆé—®é¢˜ï¼Œå…¶ç»“æœæ˜¯$C_i^2$ã€‚</p><h3 id="C-ä»£ç "><a href="#C-ä»£ç " class="headerlink" title="C++ä»£ç "></a>C++ä»£ç </h3><figure class="highlight cpp"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></div></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">Solution</span>Â &#123;<br><span class="hljs-keyword">public</span>:<br>Â Â Â Â <span class="hljs-function"><span class="hljs-type">int</span>Â <span class="hljs-title">keyboard</span><span class="hljs-params">(<span class="hljs-type">int</span>Â k,Â <span class="hljs-type">int</span>Â n)</span>Â </span>&#123;<br>Â Â Â Â Â Â Â Â vector&lt;vector&lt;<span class="hljs-type">long</span>Â <span class="hljs-type">long</span>&gt;&gt;Â <span class="hljs-built_in">dp</span>(nÂ +Â <span class="hljs-number">1</span>,Â <span class="hljs-built_in">vector</span>&lt;<span class="hljs-type">long</span>Â <span class="hljs-type">long</span>&gt;(<span class="hljs-number">27</span>,Â <span class="hljs-number">0L</span>));<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span>Â iÂ =Â <span class="hljs-number">0</span>;iÂ &lt;=Â <span class="hljs-number">26</span>;i++)<br>Â Â Â Â Â Â Â Â Â Â Â Â dp[<span class="hljs-number">0</span>][i]Â =Â <span class="hljs-number">1</span>;<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span>Â iÂ =Â <span class="hljs-number">1</span>;i&lt;=n;i++)Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span>Â jÂ =Â <span class="hljs-number">1</span>;jÂ &lt;=Â <span class="hljs-number">26</span>;j++)Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span>Â xÂ =Â <span class="hljs-number">0</span>;xÂ &lt;=Â k;x++)Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>(i-xÂ &gt;=Â <span class="hljs-number">0</span>)<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â dp[i][j]Â +=Â dp[i-x][j<span class="hljs-number">-1</span>]*<span class="hljs-built_in">C</span>(i,x);<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â dp[i][j]Â %=Â Â <span class="hljs-number">1000000007</span>;<br>Â Â Â Â Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â dp[n][<span class="hljs-number">26</span>];<br>Â Â Â Â &#125;<br>Â Â Â Â <span class="hljs-function"><span class="hljs-type">long</span>Â <span class="hljs-type">long</span>Â <span class="hljs-title">C</span><span class="hljs-params">(<span class="hljs-type">int</span>Â m,Â <span class="hljs-type">int</span>Â n)</span>Â </span>&#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-type">int</span>Â kÂ =Â <span class="hljs-number">1</span>;<br>Â Â Â Â Â Â Â Â <span class="hljs-type">long</span>Â <span class="hljs-type">long</span>Â ans=<span class="hljs-number">1</span>;<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">while</span>(kÂ &lt;=Â n)Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â ans=((m-k+<span class="hljs-number">1</span>)*ans)/k;<br>Â Â Â Â Â Â Â Â Â Â Â Â k++;<br>Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â ans;<br>Â Â Â Â &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
      <category>åŠ¨æ€è§„åˆ’</category>
      
    </categories>
    
    
    <tags>
      
      <tag>LeetCode</tag>
      
      <tag>DP</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
