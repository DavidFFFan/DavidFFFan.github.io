{"meta":{"title":"Davidçš„æ–‡å…·ç›’","subtitle":"","description":"","author":"David Fan","url":"http://example.com","root":"/"},"pages":[{"title":"about","date":"2022-04-19T13:23:04.000Z","updated":"2022-04-19T13:35:49.532Z","comments":false,"path":"about/index.html","permalink":"http://example.com/about/index.html","excerpt":"","text":""}],"posts":[{"title":"std::refè¯¦è§£","slug":"std-refè¯¦è§£","date":"2022-04-19T13:23:33.000Z","updated":"2022-04-19T13:25:23.332Z","comments":true,"path":"2022/04/19/std-refè¯¦è§£/","link":"","permalink":"http://example.com/2022/04/19/std-ref%E8%AF%A6%E8%A7%A3/","excerpt":"","text":"std::refè¯¦è§£ç”¨æ³•åŸç†","categories":[{"name":"C++","slug":"C","permalink":"http://example.com/categories/C/"},{"name":"STL","slug":"C/STL","permalink":"http://example.com/categories/C/STL/"}],"tags":[{"name":"C++","slug":"C","permalink":"http://example.com/tags/C/"}]},{"title":"402. ç§»æ‰Kä½æ•°å­—","slug":"402-ç§»æ‰Kä½æ•°å­—","date":"2020-11-15T02:40:58.000Z","updated":"2022-04-19T10:50:06.430Z","comments":true,"path":"2020/11/15/402-ç§»æ‰Kä½æ•°å­—/","link":"","permalink":"http://example.com/2020/11/15/402-%E7%A7%BB%E6%8E%89K%E4%BD%8D%E6%95%B0%E5%AD%97/","excerpt":"é¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªä»¥å­—ç¬¦ä¸²è¡¨ç¤ºçš„éè´Ÿæ•´æ•° numï¼Œç§»é™¤è¿™ä¸ªæ•°ä¸­çš„ k ä½æ•°å­—ï¼Œä½¿å¾—å‰©ä¸‹çš„æ•°å­—æœ€å°ã€‚ æ³¨æ„: num çš„é•¿åº¦å°äº 10002 ä¸” â‰¥ kã€‚ num ä¸ä¼šåŒ…å«ä»»ä½•å‰å¯¼é›¶ã€‚","text":"é¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªä»¥å­—ç¬¦ä¸²è¡¨ç¤ºçš„éè´Ÿæ•´æ•° numï¼Œç§»é™¤è¿™ä¸ªæ•°ä¸­çš„ k ä½æ•°å­—ï¼Œä½¿å¾—å‰©ä¸‹çš„æ•°å­—æœ€å°ã€‚ æ³¨æ„: num çš„é•¿åº¦å°äº 10002 ä¸” â‰¥ kã€‚ num ä¸ä¼šåŒ…å«ä»»ä½•å‰å¯¼é›¶ã€‚ ç¤ºä¾‹ 1 : 123è¾“å…¥: num = &quot;1432219&quot;, k = 3è¾“å‡º: &quot;1219&quot;è§£é‡Š: ç§»é™¤æ‰ä¸‰ä¸ªæ•°å­— 4, 3, å’Œ 2 å½¢æˆä¸€ä¸ªæ–°çš„æœ€å°çš„æ•°å­— 1219ã€‚ ç¤ºä¾‹ 2 : 123è¾“å…¥: num = &quot;10200&quot;, k = 1è¾“å‡º: &quot;200&quot;è§£é‡Š: ç§»æ‰é¦–ä½çš„ 1 å‰©ä¸‹çš„æ•°å­—ä¸º 200. æ³¨æ„è¾“å‡ºä¸èƒ½æœ‰ä»»ä½•å‰å¯¼é›¶ã€‚ ç¤ºä¾‹ 3 : 123è¾“å…¥: num = &quot;10&quot;, k = 2è¾“å‡º: &quot;0&quot;è§£é‡Š: ä»åŸæ•°å­—ç§»é™¤æ‰€æœ‰çš„æ•°å­—ï¼Œå‰©ä½™ä¸ºç©ºå°±æ˜¯0ã€‚ æ€è·¯è´ªå¿ƒåˆ æ‰å‰kä¸ªå­—ç¬¦ä¸­çš„æœ€å¤§å­—ç¬¦ï¼Œåˆ kæ¬¡ã€‚ é”™è¯¯æ ·ä¾‹123ï¼Œ k = 1 1234567891011121314151617181920212223242526272829303132333435363738class Solution &#123;public: string removeKdigits(string num, int k) &#123; int n = num.size(); vector&lt;int&gt; visit(n); auto cmp = [](pair&lt;char, int&gt;&amp; x, pair&lt;char, int&gt;&amp; y) &#123; return x.first &lt; y.first; &#125;; priority_queue&lt;pair&lt;char,int&gt;, vector&lt;pair&lt;char, int&gt;&gt;, decltype(cmp)&gt; q(cmp); int i = 0, cnt = 0; while(i &lt; n || cnt &lt; k) &#123; if(i &lt; k) &#123; q.emplace(num[i], i); &#125; else if(cnt &lt; k) &#123; auto t = q.top(); q.pop(); visit[t.second] = 1; ++cnt; if(i &lt; n) q.emplace(num[i], i); &#125; ++i; &#125; string res; bool flag = false; for(int i = 0;i &lt; n;++i) &#123; if(!visit[i]) &#123; if(!flag &amp;&amp; num[i] != &#x27;0&#x27;) &#123; flag = true; &#125; if(flag) res.push_back(num[i]); &#125; &#125; return res.size() &gt; 0?res:&quot;0&quot;; &#125;&#125;; è´ªå¿ƒ1234567891011121314151617181920212223242526272829303132class Solution &#123;public: string removeKdigits(string num, int k) &#123; int n = num.size(); if(n == 0) return &quot;0&quot;; vector&lt;char&gt; s; int i = 1, j = 0; s.push_back(num[0]); while(i &lt; n) &#123; while(j &lt; k &amp;&amp; !s.empty() &amp;&amp; num[i] &lt; s.back()) &#123; s.pop_back(); ++j; &#125; s.push_back(num[i]); ++i; &#125; while(j &lt; k) &#123; s.pop_back(); j++; &#125; string res; bool flag = false; for(int i = 0;i &lt; s.size();++i) &#123; if(!flag &amp;&amp; s[i] != &#x27;0&#x27;) &#123; flag = true; &#125; if(flag) res.push_back(s[i]); &#125; return res.size() &gt; 0? res: &quot;0&quot;; &#125;&#125;;","categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/categories/LeetCode/"},{"name":"å•è°ƒæ ˆ","slug":"LeetCode/å•è°ƒæ ˆ","permalink":"http://example.com/categories/LeetCode/%E5%8D%95%E8%B0%83%E6%A0%88/"}],"tags":[{"name":"æ¯æ—¥ä¸€é¢˜","slug":"æ¯æ—¥ä¸€é¢˜","permalink":"http://example.com/tags/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/"},{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/tags/LeetCode/"},{"name":"å­—ç¬¦ä¸²","slug":"å­—ç¬¦ä¸²","permalink":"http://example.com/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/"}]},{"title":"1122. æ•°ç»„çš„ç›¸å¯¹æ’åº","slug":"1122-æ•°ç»„çš„ç›¸å¯¹æ’åº","date":"2020-11-14T02:42:03.000Z","updated":"2022-04-19T10:52:32.000Z","comments":true,"path":"2020/11/14/1122-æ•°ç»„çš„ç›¸å¯¹æ’åº/","link":"","permalink":"http://example.com/2020/11/14/1122-%E6%95%B0%E7%BB%84%E7%9A%84%E7%9B%B8%E5%AF%B9%E6%8E%92%E5%BA%8F/","excerpt":"é¢˜ç›®æè¿°ç»™ä½ ä¸¤ä¸ªæ•°ç»„ï¼Œarr1 å’Œ arr2ï¼Œ arr2 ä¸­çš„å…ƒç´ å„ä¸ç›¸åŒ arr2 ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½å‡ºç°åœ¨ arr1 ä¸­ å¯¹ arr1 ä¸­çš„å…ƒç´ è¿›è¡Œæ’åºï¼Œä½¿ arr1 ä¸­é¡¹çš„ç›¸å¯¹é¡ºåºå’Œ arr2 ä¸­çš„ç›¸å¯¹é¡ºåºç›¸åŒã€‚æœªåœ¨ arr2 ä¸­å‡ºç°è¿‡çš„å…ƒç´ éœ€è¦æŒ‰ç…§å‡åºæ”¾åœ¨ arr1 çš„æœ«å°¾ã€‚","text":"é¢˜ç›®æè¿°ç»™ä½ ä¸¤ä¸ªæ•°ç»„ï¼Œarr1 å’Œ arr2ï¼Œ arr2 ä¸­çš„å…ƒç´ å„ä¸ç›¸åŒ arr2 ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½å‡ºç°åœ¨ arr1 ä¸­ å¯¹ arr1 ä¸­çš„å…ƒç´ è¿›è¡Œæ’åºï¼Œä½¿ arr1 ä¸­é¡¹çš„ç›¸å¯¹é¡ºåºå’Œ arr2 ä¸­çš„ç›¸å¯¹é¡ºåºç›¸åŒã€‚æœªåœ¨ arr2 ä¸­å‡ºç°è¿‡çš„å…ƒç´ éœ€è¦æŒ‰ç…§å‡åºæ”¾åœ¨ arr1 çš„æœ«å°¾ã€‚ ç¤ºä¾‹ï¼š 12è¾“å…¥ï¼šarr1 = [2,3,1,3,2,4,6,7,9,2,19], arr2 = [2,1,4,3,9,6]è¾“å‡ºï¼š[2,2,2,1,4,3,3,9,6,7,19] æç¤ºï¼š arr1.length, arr2.length &lt;= 1000 0 &lt;= arr1[i], arr2[i] &lt;= 1000 arr2 ä¸­çš„å…ƒç´  arr2[i] å„ä¸ç›¸åŒ arr2 ä¸­çš„æ¯ä¸ªå…ƒç´  arr2[i] éƒ½å‡ºç°åœ¨ arr1 ä¸­ æ€è·¯ å°†arr2æ”¾å…¥unordered_setä¸­ï¼Œå¯ä»¥å¿«é€Ÿè¿›è¡Œarr1çš„æŸ¥æ‰¾ ç»Ÿè®¡arr1ä¸­åœ¨arr2å‡ºç°çš„æ¬¡æ•° æ²¡æœ‰å‡ºç°çš„æ”¾åœ¨å¦å¤–çš„vectorä¸­ æœ€åè¿›è¡Œ æ¡¶æ’åº + å¿«é€Ÿæ’åº 12345678910111213141516171819202122232425262728class Solution &#123;public: vector&lt;int&gt; relativeSortArray(vector&lt;int&gt;&amp; arr1, vector&lt;int&gt;&amp; arr2) &#123; // å“ˆå¸Œè¡¨ç”¨äºå¿«é€ŸæŸ¥æ‰¾ unordered_set&lt;int&gt; s(arr2.begin(), arr2.end()); unordered_map&lt;int, int&gt; m; vector&lt;int&gt; temp; vector&lt;int&gt; ans(arr1.size()); for(auto&amp; num:arr1) &#123; if(s.find(num)!=s.end()) &#123; ++m[num]; &#125; else &#123; temp.push_back(num); &#125; &#125; int i = 0; sort(temp.begin(), temp.end()); for(auto&amp; num:arr2) &#123; for(int j = 0;j &lt; m[num];++j) &#123; ans[i++] = num; &#125; &#125; for(auto&amp; num:temp) &#123; ans[i++] = num; &#125; return ans; &#125;&#125;;","categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/categories/LeetCode/"},{"name":"å“ˆå¸Œ","slug":"LeetCode/å“ˆå¸Œ","permalink":"http://example.com/categories/LeetCode/%E5%93%88%E5%B8%8C/"}],"tags":[{"name":"Leetcode","slug":"Leetcode","permalink":"http://example.com/tags/Leetcode/"},{"name":"æ¯æ—¥ä¸€é¢˜","slug":"æ¯æ—¥ä¸€é¢˜","permalink":"http://example.com/tags/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/"},{"name":"å“ˆå¸Œ","slug":"å“ˆå¸Œ","permalink":"http://example.com/tags/%E5%93%88%E5%B8%8C/"}]},{"title":"328. å¥‡å¶é“¾è¡¨","slug":"328-å¥‡å¶é“¾è¡¨","date":"2020-11-13T01:09:51.000Z","updated":"2022-04-19T10:49:24.720Z","comments":true,"path":"2020/11/13/328-å¥‡å¶é“¾è¡¨/","link":"","permalink":"http://example.com/2020/11/13/328-%E5%A5%87%E5%81%B6%E9%93%BE%E8%A1%A8/","excerpt":"328. å¥‡å¶é“¾è¡¨ç»™å®šä¸€ä¸ªå•é“¾è¡¨ï¼ŒæŠŠæ‰€æœ‰çš„å¥‡æ•°èŠ‚ç‚¹å’Œå¶æ•°èŠ‚ç‚¹åˆ†åˆ«æ’åœ¨ä¸€èµ·ã€‚è¯·æ³¨æ„ï¼Œè¿™é‡Œçš„å¥‡æ•°èŠ‚ç‚¹å’Œå¶æ•°èŠ‚ç‚¹æŒ‡çš„æ˜¯èŠ‚ç‚¹ç¼–å·çš„å¥‡å¶æ€§ï¼Œè€Œä¸æ˜¯èŠ‚ç‚¹çš„å€¼çš„å¥‡å¶æ€§ã€‚ è¯·å°è¯•ä½¿ç”¨åŸåœ°ç®—æ³•å®Œæˆã€‚ä½ çš„ç®—æ³•çš„ç©ºé—´å¤æ‚åº¦åº”ä¸º O(1)ï¼Œæ—¶é—´å¤æ‚åº¦åº”ä¸º O(nodes)ï¼Œnodes ä¸ºèŠ‚ç‚¹æ€»æ•°ã€‚","text":"328. å¥‡å¶é“¾è¡¨ç»™å®šä¸€ä¸ªå•é“¾è¡¨ï¼ŒæŠŠæ‰€æœ‰çš„å¥‡æ•°èŠ‚ç‚¹å’Œå¶æ•°èŠ‚ç‚¹åˆ†åˆ«æ’åœ¨ä¸€èµ·ã€‚è¯·æ³¨æ„ï¼Œè¿™é‡Œçš„å¥‡æ•°èŠ‚ç‚¹å’Œå¶æ•°èŠ‚ç‚¹æŒ‡çš„æ˜¯èŠ‚ç‚¹ç¼–å·çš„å¥‡å¶æ€§ï¼Œè€Œä¸æ˜¯èŠ‚ç‚¹çš„å€¼çš„å¥‡å¶æ€§ã€‚ è¯·å°è¯•ä½¿ç”¨åŸåœ°ç®—æ³•å®Œæˆã€‚ä½ çš„ç®—æ³•çš„ç©ºé—´å¤æ‚åº¦åº”ä¸º O(1)ï¼Œæ—¶é—´å¤æ‚åº¦åº”ä¸º O(nodes)ï¼Œnodes ä¸ºèŠ‚ç‚¹æ€»æ•°ã€‚ ç¤ºä¾‹ 1: 12è¾“å…¥: 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULLè¾“å‡º: 1-&gt;3-&gt;5-&gt;2-&gt;4-&gt;NULL ç¤ºä¾‹ 2: 12è¾“å…¥: 2-&gt;1-&gt;3-&gt;5-&gt;6-&gt;4-&gt;7-&gt;NULL è¾“å‡º: 2-&gt;3-&gt;6-&gt;7-&gt;1-&gt;5-&gt;4-&gt;NULL è¯´æ˜: åº”å½“ä¿æŒå¥‡æ•°èŠ‚ç‚¹å’Œå¶æ•°èŠ‚ç‚¹çš„ç›¸å¯¹é¡ºåºã€‚ é“¾è¡¨çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹è§†ä¸ºå¥‡æ•°èŠ‚ç‚¹ï¼Œç¬¬äºŒä¸ªèŠ‚ç‚¹è§†ä¸ºå¶æ•°èŠ‚ç‚¹ï¼Œä»¥æ­¤ç±»æ¨ã€‚ æ€è·¯åŒæŒ‡é’ˆ oddæŒ‡å‘å¥‡æ•°èŠ‚ç‚¹ï¼ŒevenæŒ‡å‘å¶æ•°èŠ‚ç‚¹ã€‚ äº¤æ¢é¡ºåº 1234odd-&gt;next = even-&gt;next;odd = odd-&gt;next;even-&gt;next = odd-&gt;next;even =even-&gt;next; ç»“æŸæ¡ä»¶ oddä¸ºç©ºæˆ–evenä¸ºç©ºï¼Œæ³¨æ„å¾ªç¯ä¸­çš„è¶Šç•Œæ£€æŸ¥ éœ€è¦ä¿å­˜çš„å˜é‡ å¥‡æ•°é“¾è¡¨çš„ç»“å°¾å’Œå¶æ•°é“¾è¡¨çš„èµ·ç‚¹ å¥‡æ•°é“¾è¡¨çš„ç»“å°¾å¯èƒ½ä¸ºç©ºï¼Œä½¿ç”¨preoddå˜é‡æš‚å­˜ å¶æ•°é“¾è¡¨çš„èµ·ç‚¹ä¸ºhead-&gt;nextï¼Œä½¿ç”¨Listnode *constå˜é‡secondå­˜å‚¨ 1234567891011121314151617181920212223242526272829303132/** * Definition for singly-linked list. * struct ListNode &#123; * int val; * ListNode *next; * ListNode() : val(0), next(nullptr) &#123;&#125; * ListNode(int x) : val(x), next(nullptr) &#123;&#125; * ListNode(int x, ListNode *next) : val(x), next(next) &#123;&#125; * &#125;; */class Solution &#123;public: ListNode* oddEvenList(ListNode* head) &#123; if(head==nullptr || head-&gt;next==nullptr || head-&gt;next-&gt;next==nullptr) return head; ListNode* odd = head, *even = head-&gt;next, *preodd = nullptr; ListNode *const second = even; while(even &amp;&amp; odd) &#123; odd-&gt;next = even-&gt;next; preodd = odd; odd = odd-&gt;next; if(odd==nullptr) break; even-&gt;next = odd-&gt;next; even =even-&gt;next; &#125; if(odd) &#123; odd-&gt;next = second; &#125; else &#123; preodd-&gt;next = second; &#125; return head; &#125;&#125;;","categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/categories/LeetCode/"},{"name":"é“¾è¡¨","slug":"LeetCode/é“¾è¡¨","permalink":"http://example.com/categories/LeetCode/%E9%93%BE%E8%A1%A8/"}],"tags":[{"name":"æ¯æ—¥ä¸€é¢˜","slug":"æ¯æ—¥ä¸€é¢˜","permalink":"http://example.com/tags/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/"},{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/tags/LeetCode/"},{"name":"é“¾è¡¨","slug":"é“¾è¡¨","permalink":"http://example.com/tags/%E9%93%BE%E8%A1%A8/"},{"name":"åŒæŒ‡é’ˆ","slug":"åŒæŒ‡é’ˆ","permalink":"http://example.com/tags/%E5%8F%8C%E6%8C%87%E9%92%88/"}]},{"title":"922. æŒ‰å¥‡å¶æ’åºæ•°ç»„ II","slug":"922-æŒ‰å¥‡å¶æ’åºæ•°ç»„-II","date":"2020-11-12T00:33:38.000Z","updated":"2022-04-19T10:50:54.670Z","comments":true,"path":"2020/11/12/922-æŒ‰å¥‡å¶æ’åºæ•°ç»„-II/","link":"","permalink":"http://example.com/2020/11/12/922-%E6%8C%89%E5%A5%87%E5%81%B6%E6%8E%92%E5%BA%8F%E6%95%B0%E7%BB%84-II/","excerpt":"é¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„ Aï¼Œ A ä¸­ä¸€åŠæ•´æ•°æ˜¯å¥‡æ•°ï¼Œä¸€åŠæ•´æ•°æ˜¯å¶æ•°ã€‚ å¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œä»¥ä¾¿å½“ A[i] ä¸ºå¥‡æ•°æ—¶ï¼Œi ä¹Ÿæ˜¯å¥‡æ•°ï¼›å½“ A[i] ä¸ºå¶æ•°æ—¶ï¼Œ i ä¹Ÿæ˜¯å¶æ•°ã€‚ ä½ å¯ä»¥è¿”å›ä»»ä½•æ»¡è¶³ä¸Šè¿°æ¡ä»¶çš„æ•°ç»„ä½œä¸ºç­”æ¡ˆã€‚","text":"é¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„ Aï¼Œ A ä¸­ä¸€åŠæ•´æ•°æ˜¯å¥‡æ•°ï¼Œä¸€åŠæ•´æ•°æ˜¯å¶æ•°ã€‚ å¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œä»¥ä¾¿å½“ A[i] ä¸ºå¥‡æ•°æ—¶ï¼Œi ä¹Ÿæ˜¯å¥‡æ•°ï¼›å½“ A[i] ä¸ºå¶æ•°æ—¶ï¼Œ i ä¹Ÿæ˜¯å¶æ•°ã€‚ ä½ å¯ä»¥è¿”å›ä»»ä½•æ»¡è¶³ä¸Šè¿°æ¡ä»¶çš„æ•°ç»„ä½œä¸ºç­”æ¡ˆã€‚ ç¤ºä¾‹ï¼š 123è¾“å…¥ï¼š[4,2,5,7]è¾“å‡ºï¼š[4,5,2,7]è§£é‡Šï¼š[4,7,2,5]ï¼Œ[2,5,4,7]ï¼Œ[2,7,4,5] ä¹Ÿä¼šè¢«æ¥å—ã€‚ æç¤ºï¼š 2 &lt;= A.length &lt;= 20000 A.length % 2 == 0 0 &lt;= A[i] &lt;= 1000 æ€è·¯æ¨¡æ‹Ÿä½¿ç”¨å¤‡ç”¨æ•°ç»„æš‚å­˜ï¼Œæ—¶é—´å¤æ‚åº¦ $O(N)$ï¼Œç©ºé—´å¤æ‚åº¦ $O(N)$ 1234567891011121314151617181920class Solution &#123;public: vector&lt;int&gt; sortArrayByParityII(vector&lt;int&gt;&amp; A) &#123; int n = A.size(); vector&lt;int&gt; temp0(n/2), temp1(n/2); int j = 0, k = 0; for(int i = 0;i &lt; n;++i) &#123; if(A[i]&amp;1) &#123; temp1[k++] = A[i]; &#125; else &#123; temp0[j++] = A[i]; &#125; &#125; for(int i = 0;i &lt; n/2;++i) &#123; A[2*i] = temp0[i]; A[2*i + 1] = temp1[i]; &#125; return A; &#125;&#125;;","categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/categories/LeetCode/"},{"name":"æ¨¡æ‹Ÿ","slug":"LeetCode/æ¨¡æ‹Ÿ","permalink":"http://example.com/categories/LeetCode/%E6%A8%A1%E6%8B%9F/"}],"tags":[{"name":"æ¯æ—¥ä¸€é¢˜","slug":"æ¯æ—¥ä¸€é¢˜","permalink":"http://example.com/tags/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/"},{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/tags/LeetCode/"},{"name":"æ¨¡æ‹Ÿ","slug":"æ¨¡æ‹Ÿ","permalink":"http://example.com/tags/%E6%A8%A1%E6%8B%9F/"}]},{"title":"514. è‡ªç”±ä¹‹è·¯","slug":"514-è‡ªç”±ä¹‹è·¯","date":"2020-11-11T00:52:46.000Z","updated":"2022-04-19T10:50:35.320Z","comments":true,"path":"2020/11/11/514-è‡ªç”±ä¹‹è·¯/","link":"","permalink":"http://example.com/2020/11/11/514-%E8%87%AA%E7%94%B1%E4%B9%8B%E8%B7%AF/","excerpt":"é¢˜ç›®æè¿°è§†é¢‘æ¸¸æˆâ€œè¾å°„4â€ä¸­ï¼Œä»»åŠ¡â€œé€šå‘è‡ªç”±â€è¦æ±‚ç©å®¶åˆ°è¾¾åä¸ºâ€œFreedom Trail Ringâ€çš„é‡‘å±è¡¨ç›˜ï¼Œå¹¶ä½¿ç”¨è¡¨ç›˜æ‹¼å†™ç‰¹å®šå…³é”®è¯æ‰èƒ½å¼€é—¨ã€‚ ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² ringï¼Œè¡¨ç¤ºåˆ»åœ¨å¤–ç¯ä¸Šçš„ç¼–ç ï¼›ç»™å®šå¦ä¸€ä¸ªå­—ç¬¦ä¸² keyï¼Œè¡¨ç¤ºéœ€è¦æ‹¼å†™çš„å…³é”®è¯ã€‚æ‚¨éœ€è¦ç®—å‡ºèƒ½å¤Ÿæ‹¼å†™å…³é”®è¯ä¸­æ‰€æœ‰å­—ç¬¦çš„æœ€å°‘æ­¥æ•°ã€‚ æœ€åˆï¼Œring çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸12:00æ–¹å‘å¯¹é½ã€‚æ‚¨éœ€è¦é¡ºæ—¶é’ˆæˆ–é€†æ—¶é’ˆæ—‹è½¬ ring ä»¥ä½¿ key çš„ä¸€ä¸ªå­—ç¬¦åœ¨ 12:00 æ–¹å‘å¯¹é½ï¼Œç„¶åæŒ‰ä¸‹ä¸­å¿ƒæŒ‰é’®ï¼Œä»¥æ­¤é€ä¸ªæ‹¼å†™å®Œ key ä¸­çš„æ‰€æœ‰å­—ç¬¦ã€‚ æ—‹è½¬ ring æ‹¼å‡º key å­—ç¬¦ key[i] çš„é˜¶æ®µä¸­ï¼š æ‚¨å¯ä»¥å°† ring é¡ºæ—¶é’ˆæˆ–é€†æ—¶é’ˆæ—‹è½¬ä¸€ä¸ªä½ç½®ï¼Œè®¡ä¸º1æ­¥ã€‚æ—‹è½¬çš„æœ€ç»ˆç›®çš„æ˜¯å°†å­—ç¬¦ä¸² ring çš„ä¸€ä¸ªå­—ç¬¦ä¸ 12:00 æ–¹å‘å¯¹é½ï¼Œå¹¶ä¸”è¿™ä¸ªå­—ç¬¦å¿…é¡»ç­‰äºå­—ç¬¦ key[i] ã€‚ å¦‚æœå­—ç¬¦ key[i] å·²ç»å¯¹é½åˆ°12:00æ–¹å‘ï¼Œæ‚¨éœ€è¦æŒ‰ä¸‹ä¸­å¿ƒæŒ‰é’®è¿›è¡Œæ‹¼å†™ï¼Œè¿™ä¹Ÿå°†ç®—ä½œ 1 æ­¥ã€‚æŒ‰å®Œä¹‹åï¼Œæ‚¨å¯ä»¥å¼€å§‹æ‹¼å†™ key çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼ˆä¸‹ä¸€é˜¶æ®µï¼‰, ç›´è‡³å®Œæˆæ‰€æœ‰æ‹¼å†™ã€‚","text":"é¢˜ç›®æè¿°è§†é¢‘æ¸¸æˆâ€œè¾å°„4â€ä¸­ï¼Œä»»åŠ¡â€œé€šå‘è‡ªç”±â€è¦æ±‚ç©å®¶åˆ°è¾¾åä¸ºâ€œFreedom Trail Ringâ€çš„é‡‘å±è¡¨ç›˜ï¼Œå¹¶ä½¿ç”¨è¡¨ç›˜æ‹¼å†™ç‰¹å®šå…³é”®è¯æ‰èƒ½å¼€é—¨ã€‚ ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² ringï¼Œè¡¨ç¤ºåˆ»åœ¨å¤–ç¯ä¸Šçš„ç¼–ç ï¼›ç»™å®šå¦ä¸€ä¸ªå­—ç¬¦ä¸² keyï¼Œè¡¨ç¤ºéœ€è¦æ‹¼å†™çš„å…³é”®è¯ã€‚æ‚¨éœ€è¦ç®—å‡ºèƒ½å¤Ÿæ‹¼å†™å…³é”®è¯ä¸­æ‰€æœ‰å­—ç¬¦çš„æœ€å°‘æ­¥æ•°ã€‚ æœ€åˆï¼Œring çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸12:00æ–¹å‘å¯¹é½ã€‚æ‚¨éœ€è¦é¡ºæ—¶é’ˆæˆ–é€†æ—¶é’ˆæ—‹è½¬ ring ä»¥ä½¿ key çš„ä¸€ä¸ªå­—ç¬¦åœ¨ 12:00 æ–¹å‘å¯¹é½ï¼Œç„¶åæŒ‰ä¸‹ä¸­å¿ƒæŒ‰é’®ï¼Œä»¥æ­¤é€ä¸ªæ‹¼å†™å®Œ key ä¸­çš„æ‰€æœ‰å­—ç¬¦ã€‚ æ—‹è½¬ ring æ‹¼å‡º key å­—ç¬¦ key[i] çš„é˜¶æ®µä¸­ï¼š æ‚¨å¯ä»¥å°† ring é¡ºæ—¶é’ˆæˆ–é€†æ—¶é’ˆæ—‹è½¬ä¸€ä¸ªä½ç½®ï¼Œè®¡ä¸º1æ­¥ã€‚æ—‹è½¬çš„æœ€ç»ˆç›®çš„æ˜¯å°†å­—ç¬¦ä¸² ring çš„ä¸€ä¸ªå­—ç¬¦ä¸ 12:00 æ–¹å‘å¯¹é½ï¼Œå¹¶ä¸”è¿™ä¸ªå­—ç¬¦å¿…é¡»ç­‰äºå­—ç¬¦ key[i] ã€‚ å¦‚æœå­—ç¬¦ key[i] å·²ç»å¯¹é½åˆ°12:00æ–¹å‘ï¼Œæ‚¨éœ€è¦æŒ‰ä¸‹ä¸­å¿ƒæŒ‰é’®è¿›è¡Œæ‹¼å†™ï¼Œè¿™ä¹Ÿå°†ç®—ä½œ 1 æ­¥ã€‚æŒ‰å®Œä¹‹åï¼Œæ‚¨å¯ä»¥å¼€å§‹æ‹¼å†™ key çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼ˆä¸‹ä¸€é˜¶æ®µï¼‰, ç›´è‡³å®Œæˆæ‰€æœ‰æ‹¼å†™ã€‚ ç¤ºä¾‹ï¼š 1234567è¾“å…¥: ring = &quot;godding&quot;, key = &quot;gd&quot;è¾“å‡º: 4è§£é‡Š: å¯¹äº key çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ &#x27;g&#x27;ï¼Œå·²ç»åœ¨æ­£ç¡®çš„ä½ç½®, æˆ‘ä»¬åªéœ€è¦1æ­¥æ¥æ‹¼å†™è¿™ä¸ªå­—ç¬¦ã€‚ å¯¹äº key çš„ç¬¬äºŒä¸ªå­—ç¬¦ &#x27;d&#x27;ï¼Œæˆ‘ä»¬éœ€è¦é€†æ—¶é’ˆæ—‹è½¬ ring &quot;godding&quot; 2æ­¥ä½¿å®ƒå˜æˆ &quot;ddinggo&quot;ã€‚ å½“ç„¶, æˆ‘ä»¬è¿˜éœ€è¦1æ­¥è¿›è¡Œæ‹¼å†™ã€‚ å› æ­¤æœ€ç»ˆçš„è¾“å‡ºæ˜¯ 4ã€‚ æç¤ºï¼š ring å’Œ key çš„å­—ç¬¦ä¸²é•¿åº¦å–å€¼èŒƒå›´å‡ä¸º 1 è‡³ 100ï¼› ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸­éƒ½åªæœ‰å°å†™å­—ç¬¦ï¼Œå¹¶ä¸”å‡å¯èƒ½å­˜åœ¨é‡å¤å­—ç¬¦ï¼› å­—ç¬¦ä¸² key ä¸€å®šå¯ä»¥ç”±å­—ç¬¦ä¸² ring æ—‹è½¬æ‹¼å‡ºã€‚ æ€è·¯è´ªå¿ƒæ¯æ¬¡æ‰¾æœ€è¿‘çš„ï¼Œæ–¹æ³•æ˜¯é”™è¯¯çš„â€¦ åŠ¨æ€è§„åˆ’æ„Ÿè§‰æ˜¯ï¼Œä½†æ˜¯å†™ä¸å‡ºæ¥ã€‚ çœ‹äº†å®˜æ–¹é¢˜è§£çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œæ„Ÿè§‰ä¹Ÿä¸æ˜¯å¾ˆéš¾ï¼ˆè¿˜æ˜¯è‡ªå·±å¤ªèœäº†ğŸ˜­ï¼‰ è½¬ç§»æ–¹ç¨‹ï¼Œkeyä¸­çš„ç¬¬iä¸ªå­—ç¬¦ä¸ringä¸­çš„ç¬¬jä¸ªå­—ç¬¦æœ€å°‘æ¬¡æ•°ä¸ºdp[i][j] å¾—åˆ°çŠ¶æ€è½¬ç§»æ–¹ç¨‹ dp[i][j]= \\min_{kâˆˆpos[key[iâˆ’1]]}\\{dp[iâˆ’1][k]+\\min\\{\\text{abs}(jâˆ’k),nâˆ’\\text{abs}(jâˆ’k)\\}+1\\}å…¶å®ä»”ç»†æƒ³æƒ³ï¼Œè¿™ä¸ªé—®é¢˜çš„åˆ’åˆ†å¥½åƒä¹Ÿä¸éš¾ï¼Œå­é—®é¢˜æ¯”åŸé—®é¢˜é—®é¢˜è§„æ¨¡å°1ï¼Œå­é—®é¢˜é€šè¿‡æšä¸¾è®¡ç®—ã€‚ 123456789101112131415161718192021222324252627282930class Solution &#123;public: int findRotateSteps(string ring, string key) &#123; vector&lt;vector&lt;int&gt;&gt; pos(26); int l1 = ring.size(), l2 = key.size(); for(int i = 0;i &lt; l1;++i) &#123; pos[ring[i] - &#x27;a&#x27;].push_back(i); &#125; vector&lt;vector&lt;int&gt;&gt; dp(l2, vector&lt;int&gt;(l1,INT_MAX)); // keyä¸­ç¬¬iä¸ªå­—ç¬¦ï¼Œjä¸ºkey[i]åœ¨ringä¸­çš„ä½ç½®ï¼Œkä¸ºkey[i-1]åœ¨ringä¸­çš„ä½ç½® for(int i = 0;i &lt; l2;++i) &#123; for(int j: pos[key[i] - &#x27;a&#x27;]) &#123; int min_val = INT_MAX; if(i == 0) &#123; min_val = min(min(abs(j - i), l1 - abs(j - i)) + 1, min_val); &#125; else &#123; for(int k:pos[key[i - 1] - &#x27;a&#x27;]) &#123; min_val = min(min(abs(k - j) , l1 - abs(k - j)) + dp[i-1][k] + 1, min_val); &#125; &#125; dp[i][j] = min_val; &#125; &#125; int res = INT_MAX; for(auto i:pos[key.back() - &#x27;a&#x27;]) &#123; res = min(dp.back()[i], res); &#125; return res; &#125;&#125;;","categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/categories/LeetCode/"},{"name":"åŠ¨æ€è§„åˆ’","slug":"LeetCode/åŠ¨æ€è§„åˆ’","permalink":"http://example.com/categories/LeetCode/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"}],"tags":[{"name":"æ¯æ—¥ä¸€é¢˜","slug":"æ¯æ—¥ä¸€é¢˜","permalink":"http://example.com/tags/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/"},{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/tags/LeetCode/"},{"name":"DP","slug":"DP","permalink":"http://example.com/tags/DP/"}]},{"title":"31. ä¸‹ä¸€ä¸ªæ’åˆ—","slug":"31-ä¸‹ä¸€ä¸ªæ’åˆ—","date":"2020-11-10T00:54:32.000Z","updated":"2022-04-19T10:42:54.640Z","comments":true,"path":"2020/11/10/31-ä¸‹ä¸€ä¸ªæ’åˆ—/","link":"","permalink":"http://example.com/2020/11/10/31-%E4%B8%8B%E4%B8%80%E4%B8%AA%E6%8E%92%E5%88%97/","excerpt":"é¢˜ç›®æè¿°å®ç°è·å–ä¸‹ä¸€ä¸ªæ’åˆ—çš„å‡½æ•°ï¼Œç®—æ³•éœ€è¦å°†ç»™å®šæ•°å­—åºåˆ—é‡æ–°æ’åˆ—æˆå­—å…¸åºä¸­ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ’åˆ—ã€‚ å¦‚æœä¸å­˜åœ¨ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ’åˆ—ï¼Œåˆ™å°†æ•°å­—é‡æ–°æ’åˆ—æˆæœ€å°çš„æ’åˆ—ï¼ˆå³å‡åºæ’åˆ—ï¼‰ã€‚ å¿…é¡»åŸåœ°ä¿®æ”¹ï¼Œåªå…è®¸ä½¿ç”¨é¢å¤–å¸¸æ•°ç©ºé—´ã€‚ ä»¥ä¸‹æ˜¯ä¸€äº›ä¾‹å­ï¼Œè¾“å…¥ä½äºå·¦ä¾§åˆ—ï¼Œå…¶ç›¸åº”è¾“å‡ºä½äºå³ä¾§åˆ—ã€‚1,2,3 â†’ 1,3,23,2,1 â†’ 1,2,31,1,5 â†’ 1,5,1**","text":"é¢˜ç›®æè¿°å®ç°è·å–ä¸‹ä¸€ä¸ªæ’åˆ—çš„å‡½æ•°ï¼Œç®—æ³•éœ€è¦å°†ç»™å®šæ•°å­—åºåˆ—é‡æ–°æ’åˆ—æˆå­—å…¸åºä¸­ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ’åˆ—ã€‚ å¦‚æœä¸å­˜åœ¨ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ’åˆ—ï¼Œåˆ™å°†æ•°å­—é‡æ–°æ’åˆ—æˆæœ€å°çš„æ’åˆ—ï¼ˆå³å‡åºæ’åˆ—ï¼‰ã€‚ å¿…é¡»åŸåœ°ä¿®æ”¹ï¼Œåªå…è®¸ä½¿ç”¨é¢å¤–å¸¸æ•°ç©ºé—´ã€‚ ä»¥ä¸‹æ˜¯ä¸€äº›ä¾‹å­ï¼Œè¾“å…¥ä½äºå·¦ä¾§åˆ—ï¼Œå…¶ç›¸åº”è¾“å‡ºä½äºå³ä¾§åˆ—ã€‚1,2,3 â†’ 1,3,23,2,1 â†’ 1,2,31,1,5 â†’ 1,5,1** æ€è·¯ä»ä¸å­˜åœ¨å…¥æ‰‹ï¼Œå¦‚æœä¸å­˜åœ¨ä¸‹ä¸€ä¸ªæ›´å¤§æ’åˆ—ï¼Œè¿™ä¸ªæ’åˆ—ä¸€å®šæ˜¯ä¸€ä¸ªéä¸¥æ ¼é™åº(å­˜åœ¨ç­‰å·)æ’åˆ—ã€‚ ç¿»è½¬åºåˆ—ï¼Œå³ä¸ºé¢˜ä¸­è¦æ±‚çš„ä¸‹ä¸€ä¸ªæ›´å¤§åºåˆ—ã€‚ é‚£ä¹ˆå¦‚æœå­˜åœ¨ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ’åˆ—ï¼Œåœ¨åŸå§‹æ’åˆ—ä¸­ä¸€å®šå­˜åœ¨ä¸€å°æ®µä¸¥æ ¼å‡åºçš„æ’åˆ—ã€‚ ä»æœ«å°¾å¼€å§‹éå†æ’åˆ—ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªå‡åºä½ç½®ï¼Œå³nums[i] &gt; nums[i-1] åœ¨[i+1,n)çš„åŒºé—´ä¸Šæ‰¾åˆ°æ¯”nums[i]å¤§çš„å…ƒç´ ä½ç½®jï¼Œnums[i]ä¸nums[j]è¿›è¡Œäº¤æ¢ï¼Œè¿™æ ·ä¿è¯å‰è¾¹æ˜¯ä¸å˜çš„ï¼Œåè¾¹çš„åºåˆ—ä¼šå˜å¤§ã€‚ [i+1,n)ä¸­çš„åºåˆ—æ˜¯é™åºçš„ï¼Œå°†å…¶è¿›è¡Œç¿»è½¬ï¼Œä½¿å¾—åè¾¹çš„åºåˆ—æœ€å°ï¼Œæ€»ä½“çš„æ’åˆ—å³ä¸‹ä¸€ä¸ªæœ€å¤§çš„æ’åˆ—ã€‚ 123456789101112131415161718192021class Solution &#123;public: void nextPermutation(vector&lt;int&gt;&amp; nums) &#123; int n = nums.size(), i = n - 2, j = n - 1; if(n==0 || n==1) return; while(i &gt;= 0 &amp;&amp; nums[i] &gt;= nums[i+1]) &#123; --i; &#125; if(i != -1) &#123; while(j &gt; i) &#123; if(nums[j] &gt; nums[i]) break; --j; &#125; swap(nums[i], nums[j]); reverse(nums.begin() + i + 1,nums.end() ); &#125; else &#123; reverse(nums.begin(), nums.end()); &#125; &#125;&#125;;","categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/categories/LeetCode/"},{"name":"æ¨¡æ‹Ÿ","slug":"LeetCode/æ¨¡æ‹Ÿ","permalink":"http://example.com/categories/LeetCode/%E6%A8%A1%E6%8B%9F/"}],"tags":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/tags/LeetCode/"},{"name":"æ¨¡æ‹Ÿ","slug":"æ¨¡æ‹Ÿ","permalink":"http://example.com/tags/%E6%A8%A1%E6%8B%9F/"}]},{"title":"973. æœ€æ¥è¿‘åŸç‚¹çš„ K ä¸ªç‚¹","slug":"973-æœ€æ¥è¿‘åŸç‚¹çš„-K-ä¸ªç‚¹","date":"2020-11-09T00:29:54.000Z","updated":"2022-04-19T10:52:23.050Z","comments":true,"path":"2020/11/09/973-æœ€æ¥è¿‘åŸç‚¹çš„-K-ä¸ªç‚¹/","link":"","permalink":"http://example.com/2020/11/09/973-%E6%9C%80%E6%8E%A5%E8%BF%91%E5%8E%9F%E7%82%B9%E7%9A%84-K-%E4%B8%AA%E7%82%B9/","excerpt":"é¢˜ç›®æè¿°æˆ‘ä»¬æœ‰ä¸€ä¸ªç”±å¹³é¢ä¸Šçš„ç‚¹ç»„æˆçš„åˆ—è¡¨ pointsã€‚éœ€è¦ä»ä¸­æ‰¾å‡º K ä¸ªè·ç¦»åŸç‚¹ (0, 0) æœ€è¿‘çš„ç‚¹ã€‚ ï¼ˆè¿™é‡Œï¼Œå¹³é¢ä¸Šä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»æ˜¯æ¬§å‡ é‡Œå¾·è·ç¦»ã€‚ï¼‰ ä½ å¯ä»¥æŒ‰ä»»ä½•é¡ºåºè¿”å›ç­”æ¡ˆã€‚é™¤äº†ç‚¹åæ ‡çš„é¡ºåºä¹‹å¤–ï¼Œç­”æ¡ˆç¡®ä¿æ˜¯å”¯ä¸€çš„ã€‚","text":"é¢˜ç›®æè¿°æˆ‘ä»¬æœ‰ä¸€ä¸ªç”±å¹³é¢ä¸Šçš„ç‚¹ç»„æˆçš„åˆ—è¡¨ pointsã€‚éœ€è¦ä»ä¸­æ‰¾å‡º K ä¸ªè·ç¦»åŸç‚¹ (0, 0) æœ€è¿‘çš„ç‚¹ã€‚ ï¼ˆè¿™é‡Œï¼Œå¹³é¢ä¸Šä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»æ˜¯æ¬§å‡ é‡Œå¾·è·ç¦»ã€‚ï¼‰ ä½ å¯ä»¥æŒ‰ä»»ä½•é¡ºåºè¿”å›ç­”æ¡ˆã€‚é™¤äº†ç‚¹åæ ‡çš„é¡ºåºä¹‹å¤–ï¼Œç­”æ¡ˆç¡®ä¿æ˜¯å”¯ä¸€çš„ã€‚ ç¤ºä¾‹ 1ï¼š 1234567è¾“å…¥ï¼špoints = [[1,3],[-2,2]], K = 1è¾“å‡ºï¼š[[-2,2]]è§£é‡Šï¼š (1, 3) å’ŒåŸç‚¹ä¹‹é—´çš„è·ç¦»ä¸º sqrt(10)ï¼Œ(-2, 2) å’ŒåŸç‚¹ä¹‹é—´çš„è·ç¦»ä¸º sqrt(8)ï¼Œç”±äº sqrt(8) &lt; sqrt(10)ï¼Œ(-2, 2) ç¦»åŸç‚¹æ›´è¿‘ã€‚æˆ‘ä»¬åªéœ€è¦è·ç¦»åŸç‚¹æœ€è¿‘çš„ K = 1 ä¸ªç‚¹ï¼Œæ‰€ä»¥ç­”æ¡ˆå°±æ˜¯ [[-2,2]]ã€‚ ç¤ºä¾‹ 2ï¼š 123è¾“å…¥ï¼špoints = [[3,3],[5,-1],[-2,4]], K = 2è¾“å‡ºï¼š[[3,3],[-2,4]]ï¼ˆç­”æ¡ˆ [[-2,4],[3,3]] ä¹Ÿä¼šè¢«æ¥å—ã€‚ï¼‰ æç¤ºï¼š 1 &lt;= K &lt;= points.length &lt;= 10000 -10000 &lt; points[i][0] &lt; 10000 -10000 &lt; points[i][1] &lt; 10000 æ€è·¯ç»´æŠ¤ä¸€ä¸ªå¤§å°ä¸ºKçš„å¤§é¡¶å †123456789101112131415161718192021222324252627282930313233class Solution &#123; struct cmp&#123; bool operator()(vector&lt;int&gt;&amp; x1, vector&lt;int&gt;&amp; x2) &#123; return func(x1) &lt; func(x2); &#125; int func(vector&lt;int&gt;&amp; x) &#123; return x[0]*x[0] + x[1]*x[1]; &#125; &#125;; int func(const vector&lt;int&gt;&amp; x) &#123; return x[0]*x[0] + x[1]*x[1]; &#125;;public: vector&lt;vector&lt;int&gt;&gt; kClosest(vector&lt;vector&lt;int&gt;&gt;&amp; points, int K) &#123; priority_queue&lt;vector&lt;int&gt;,vector&lt;vector&lt;int&gt;&gt;, cmp&gt; q; for(const auto&amp; point:points) &#123; if(q.size() &lt; K) &#123; q.push(point); &#125; else &#123; if(func(q.top()) &gt; func(point)) &#123; q.pop(); q.push(point); &#125; &#125; &#125; vector&lt;vector&lt;int&gt;&gt; res; while(!q.empty()) &#123; res.push_back(q.top()); q.pop(); &#125; return res; &#125;&#125;; lambdaè¡¨è¾¾å¼priority_queueçš„ä¸‰ä¸ªæ¨¡æ¿å‚æ•°ï¼Œä½¿ç”¨lambdaæ—¶ï¼Œè¦ä½¿ç”¨decltypeè§£æç±»å‹ï¼Œå¹¶åœ¨æ„é€ å‡½æ•°ä¸­ä¼ é€’ã€‚ 12345template&lt; class T, class Container = std::vector&lt;T&gt;, class Compare = std::less&lt;typename Container::value_type&gt;&gt; class priority_queue; 12345678910111213141516171819202122232425262728class Solution &#123;public: vector&lt;vector&lt;int&gt;&gt; kClosest(vector&lt;vector&lt;int&gt;&gt;&amp; points, int K) &#123; auto func= [](const vector&lt;int&gt;&amp; x) &#123; return x[0]*x[0] + x[1]*x[1]; &#125;; auto cmp =[&amp;func](vector&lt;int&gt;&amp; x1, vector&lt;int&gt;&amp; x2) &#123; return func(x1) &lt; func(x2); &#125;; priority_queue&lt;vector&lt;int&gt;,vector&lt;vector&lt;int&gt;&gt;, decltype(cmp)&gt; q(cmp); for(const auto&amp; point:points) &#123; if(q.size() &lt; K) &#123; q.push(point); &#125; else &#123; if(func(q.top()) &gt; func(point)) &#123; q.pop(); q.push(point); &#125; &#125; &#125; vector&lt;vector&lt;int&gt;&gt; res; while(!q.empty()) &#123; res.push_back(q.top()); q.pop(); &#125; return res; &#125;&#125;;","categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/categories/LeetCode/"},{"name":"å †","slug":"LeetCode/å †","permalink":"http://example.com/categories/LeetCode/%E5%A0%86/"}],"tags":[{"name":"æ¯æ—¥ä¸€é¢˜","slug":"æ¯æ—¥ä¸€é¢˜","permalink":"http://example.com/tags/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/"},{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/tags/LeetCode/"},{"name":"å †","slug":"å †","permalink":"http://example.com/tags/%E5%A0%86/"}]},{"title":"962. æœ€å¤§å®½åº¦å¡","slug":"962-æœ€å¤§å®½åº¦å¡","date":"2020-11-08T11:40:40.000Z","updated":"2022-04-19T10:51:54.260Z","comments":true,"path":"2020/11/08/962-æœ€å¤§å®½åº¦å¡/","link":"","permalink":"http://example.com/2020/11/08/962-%E6%9C%80%E5%A4%A7%E5%AE%BD%E5%BA%A6%E5%9D%A1/","excerpt":"é¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ Aï¼Œå¡æ˜¯å…ƒç»„ (i, j)ï¼Œå…¶ä¸­ i &lt; j ä¸” A[i] &lt;= A[j]ã€‚è¿™æ ·çš„å¡çš„å®½åº¦ä¸º j - iã€‚ æ‰¾å‡º A ä¸­çš„å¡çš„æœ€å¤§å®½åº¦ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œè¿”å› 0 ã€‚","text":"é¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ Aï¼Œå¡æ˜¯å…ƒç»„ (i, j)ï¼Œå…¶ä¸­ i &lt; j ä¸” A[i] &lt;= A[j]ã€‚è¿™æ ·çš„å¡çš„å®½åº¦ä¸º j - iã€‚ æ‰¾å‡º A ä¸­çš„å¡çš„æœ€å¤§å®½åº¦ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œè¿”å› 0 ã€‚ ç¤ºä¾‹ 1ï¼š 1234è¾“å…¥ï¼š[6,0,8,2,1,5]è¾“å‡ºï¼š4è§£é‡Šï¼šæœ€å¤§å®½åº¦çš„å¡ä¸º (i, j) = (1, 5): A[1] = 0 ä¸” A[5] = 5. ç¤ºä¾‹ 2ï¼š 1234è¾“å…¥ï¼š[9,8,1,0,1,9,4,0,4,1]è¾“å‡ºï¼š7è§£é‡Šï¼šæœ€å¤§å®½åº¦çš„å¡ä¸º (i, j) = (2, 9): A[2] = 1 ä¸” A[9] = 1. æç¤ºï¼š 2 &lt;= A.length &lt;= 50000 0 &lt;= A[i] &lt;= 50000 æ€è·¯å•è°ƒæ ˆ+æ’åº+åŒæŒ‡é’ˆ12345678910111213141516171819202122232425262728293031class Solution &#123;public: int maxWidthRamp(vector&lt;int&gt;&amp; A) &#123; int n = A.size(), res = 0, i = 0; stack&lt;pair&lt;int, int&gt;&gt; s; s.push(&#123;A[0], 0&#125;); for(i = 1;i &lt; n;++i) &#123; if(A[i] &lt; s.top().first) &#123; s.push(&#123;A[i], i&#125;); &#125; &#125; vector&lt;pair&lt;int, int&gt;&gt; arr(n); for(i = 0;i &lt; n;++i) &#123; arr[i] = &#123;A[i], i&#125;; &#125; sort(arr.begin(), arr.end(), [](pair&lt;int, int&gt; x1, pair&lt;int, int&gt; x2) &#123; return x1.first &lt; x2.first || (x1.first==x2.first &amp;&amp; x1.second &gt; x2.second); &#125;); i = 0; int t = INT_MAX / 2;; while(i &lt; n) &#123; while(!s.empty() &amp;&amp; arr[i].first &gt;= s.top().first ) &#123; t = s.top().second; s.pop(); &#125; res = max(res, arr[i].second - t); ++i; &#125; return res; &#125;&#125;;","categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/categories/LeetCode/"},{"name":"å•è°ƒæ ˆ","slug":"LeetCode/å•è°ƒæ ˆ","permalink":"http://example.com/categories/LeetCode/%E5%8D%95%E8%B0%83%E6%A0%88/"}],"tags":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/tags/LeetCode/"},{"name":"å•è°ƒæ ˆ","slug":"å•è°ƒæ ˆ","permalink":"http://example.com/tags/%E5%8D%95%E8%B0%83%E6%A0%88/"}]},{"title":"327. åŒºé—´å’Œçš„ä¸ªæ•°","slug":"327-åŒºé—´å’Œçš„ä¸ªæ•°","date":"2020-11-08T01:46:04.000Z","updated":"2022-04-19T10:49:06.110Z","comments":true,"path":"2020/11/08/327-åŒºé—´å’Œçš„ä¸ªæ•°/","link":"","permalink":"http://example.com/2020/11/08/327-%E5%8C%BA%E9%97%B4%E5%92%8C%E7%9A%84%E4%B8%AA%E6%95%B0/","excerpt":"é¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ numsï¼Œè¿”å›åŒºé—´å’Œåœ¨ [lower, upper] ä¹‹é—´çš„ä¸ªæ•°ï¼ŒåŒ…å« lower å’Œ upperã€‚åŒºé—´å’Œ S(i, j) è¡¨ç¤ºåœ¨ nums ä¸­ï¼Œä½ç½®ä» i åˆ° j çš„å…ƒç´ ä¹‹å’Œï¼ŒåŒ…å« i å’Œ j (i â‰¤ j)ã€‚ è¯´æ˜:æœ€ç›´è§‚çš„ç®—æ³•å¤æ‚åº¦æ˜¯ O(n2) ï¼Œè¯·åœ¨æ­¤åŸºç¡€ä¸Šä¼˜åŒ–ä½ çš„ç®—æ³•ã€‚ ç¤ºä¾‹: 123è¾“å…¥: nums = [-2,5,-1], lower = -2, upper = 2,è¾“å‡º: 3 è§£é‡Š: 3ä¸ªåŒºé—´åˆ†åˆ«æ˜¯: [0,0], [2,2], [0,2]ï¼Œå®ƒä»¬è¡¨ç¤ºçš„å’Œåˆ†åˆ«ä¸º: -2, -1, 2ã€‚","text":"é¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ numsï¼Œè¿”å›åŒºé—´å’Œåœ¨ [lower, upper] ä¹‹é—´çš„ä¸ªæ•°ï¼ŒåŒ…å« lower å’Œ upperã€‚åŒºé—´å’Œ S(i, j) è¡¨ç¤ºåœ¨ nums ä¸­ï¼Œä½ç½®ä» i åˆ° j çš„å…ƒç´ ä¹‹å’Œï¼ŒåŒ…å« i å’Œ j (i â‰¤ j)ã€‚ è¯´æ˜:æœ€ç›´è§‚çš„ç®—æ³•å¤æ‚åº¦æ˜¯ O(n2) ï¼Œè¯·åœ¨æ­¤åŸºç¡€ä¸Šä¼˜åŒ–ä½ çš„ç®—æ³•ã€‚ ç¤ºä¾‹: 123è¾“å…¥: nums = [-2,5,-1], lower = -2, upper = 2,è¾“å‡º: 3 è§£é‡Š: 3ä¸ªåŒºé—´åˆ†åˆ«æ˜¯: [0,0], [2,2], [0,2]ï¼Œå®ƒä»¬è¡¨ç¤ºçš„å’Œåˆ†åˆ«ä¸º: -2, -1, 2ã€‚ æ€è·¯æš´åŠ›è®¡ç®—å…¨éƒ¨åŒºé—´ï¼Œ$O(n^2)$ï¼Œè¶…æ—¶ã€‚ 1234567891011121314class Solution &#123;public: int countRangeSum(vector&lt;int&gt;&amp; nums, int lower, int upper) &#123; int n = nums.size(), res = 0; for(int i = 0;i &lt; n;++i) &#123; long long rangesum = 0L; for(int j = i;j &lt; n;++j) &#123; rangesum += nums[j]; if(rangesum &gt;= lower &amp;&amp; rangesum &lt;= upper) ++res; &#125; &#125; return res; &#125;&#125;; åˆ†æ²»å‰ç¼€å’Œè®¡ç®—å‰ç¼€å’Œpresumï¼Œé—®é¢˜è½¬åŒ–ä¸ºå¯¹ä»»æ„çš„å‰ç¼€å’Œval = presum[i] - presum[j](i &gt;= j)è½åœ¨ [lower, upper] ä¹‹é—´çš„ä¸ªæ•°ã€‚ è®¡ç®—å‰ç¼€å’Œæ³¨æ„ç¬¬ä¸€ä¸ªå…ƒç´ è¦è¡¥0ã€‚ è‹¥å‰ç¼€å’Œæ— åºï¼Œè®¡ç®—çš„æ—¶é—´å¤æ‚åº¦ä¾æ—§æ˜¯$O(n^2)$ï¼Œè‹¥å‰ç¼€å’Œæœ‰åºã€‚è®¡ç®—æ—¶ï¼Œå¯ä»¥ä½¿ç”¨åŒæŒ‡é’ˆã€‚ é—®é¢˜åˆ’åˆ†è‹¥ä¸¤ä¸ªåŒºé—´[l,m)ï¼Œ[m, r)çš„å‰ç¼€å’Œéƒ½æ˜¯æœ‰åºçš„ï¼Œå¯ä»¥åˆ©ç”¨ä¸‰æŒ‡é’ˆã€‚ p0æŒ‡å‘lï¼Œ p1æŒ‡å‘mï¼Œp2æŒ‡å‘m p1åç§»ç›´åˆ°presum[p1] - presum[p0] &gt;= lower p2åç§»ç›´åˆ°presum[p2] - presum[p0] &gt; upper p2 - p1åˆ™ä¸ºä»¥p0ä¸ºèµ·ç‚¹çš„åŒºé—´æ•°é‡ï¼Œç”±äº[l, m)æ˜¯æœ‰åºçš„ï¼Œå› æ­¤p0åç§»ä¹‹åï¼Œp1ï¼Œp2å¿…å®šåç§»ï¼Œä¸ç”¨å‘å‰å›æº¯ï¼Œå‡å°‘äº†æ—¶é—´ã€‚ ä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243class Solution &#123;public: int merage(vector&lt;long long&gt;&amp; presum, int l, int r, int lower, int upper) &#123; // å·¦å³å³å¼€ï¼Œ[l,r)ï¼ŒåŒºé—´é•¿åº¦ä¸º1æ—¶ï¼Œç›´æ¥è¿”å›0 if(l == r - 1 || l == r) return 0; int m = l + (r - l)/2; int res = 0; res += merage(presum, l, m, lower, upper); res += merage(presum, m, r, lower, upper); int p0 = l, p1 = m, p2 = m; while(p0 &lt; m) &#123; while(p1 &lt; r &amp;&amp; presum[p1] - presum[p0] &lt; lower) ++p1; while(p2 &lt; r &amp;&amp; presum[p2] - presum[p0] &lt;= upper) ++p2; res += p2 - p1; ++p0; &#125; vector&lt;long long&gt; temp(r - l); for(int i = 0, j = l, k = m;i &lt; r - l;++i) &#123; if(j &lt; m &amp;&amp; k &lt; r) &#123; if(presum[j] &lt; presum[k]) temp[i] = presum[j++]; else temp[i] = presum[k++]; &#125; else if(j &lt; m)&#123; temp[i] = presum[j++]; &#125; else &#123; temp[i] = presum[k++]; &#125; &#125; for(int i = 0;i &lt; r - l;++i) &#123; presum[i + l] = temp[i]; &#125; return res; &#125; int countRangeSum(vector&lt;int&gt;&amp; nums, int lower, int upper) &#123; int n = nums.size(); vector&lt;long long&gt; presum(n + 1); for(int i = 0;i &lt; nums.size();++i) &#123; presum[i+1] = presum[i] + nums[i]; &#125; return merage(presum, 0, n + 1, lower, upper); &#125;&#125;; æ—¶é—´å¤æ‚åº¦ $T(N) = 2*T(N/2) + O(N)$ $T(N) = O(NlogN)$ ç©ºé—´å¤æ‚åº¦è®¾ç©ºé—´å ç”¨ä¸º $M(N)$ï¼Œé€’å½’è°ƒç”¨æ‰€éœ€ç©ºé—´ä¸º $M(N/2)$ï¼Œè€Œåˆå¹¶æ•°ç»„æ‰€éœ€ç©ºé—´ä¸º O(N)O(N)ï¼Œæ•… M(N) = \\max\\big\\{M(N/2), O(N)\\big\\} = M(N/2) + O(N)$M(N) = O(N)$","categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/categories/LeetCode/"},{"name":"å½’å¹¶æ’åº","slug":"LeetCode/å½’å¹¶æ’åº","permalink":"http://example.com/categories/LeetCode/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F/"}],"tags":[{"name":"æ¯æ—¥ä¸€é¢˜","slug":"æ¯æ—¥ä¸€é¢˜","permalink":"http://example.com/tags/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/"},{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/tags/LeetCode/"},{"name":"å‰ç¼€å’Œ","slug":"å‰ç¼€å’Œ","permalink":"http://example.com/tags/%E5%89%8D%E7%BC%80%E5%92%8C/"},{"name":"å½’å¹¶æ’åº","slug":"å½’å¹¶æ’åº","permalink":"http://example.com/tags/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F/"}]},{"title":"122. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº II","slug":"122-ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº-II","date":"2020-11-08T00:53:14.000Z","updated":"2022-04-19T10:45:24.590Z","comments":true,"path":"2020/11/08/122-ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº-II/","link":"","permalink":"http://example.com/2020/11/08/122-%E4%B9%B0%E5%8D%96%E8%82%A1%E7%A5%A8%E7%9A%84%E6%9C%80%E4%BD%B3%E6%97%B6%E6%9C%BA-II/","excerpt":"é¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œå®ƒçš„ç¬¬ i ä¸ªå…ƒç´ æ˜¯ä¸€æ”¯ç»™å®šè‚¡ç¥¨ç¬¬ i å¤©çš„ä»·æ ¼ã€‚ è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥è®¡ç®—ä½ æ‰€èƒ½è·å–çš„æœ€å¤§åˆ©æ¶¦ã€‚ä½ å¯ä»¥å°½å¯èƒ½åœ°å®Œæˆæ›´å¤šçš„äº¤æ˜“ï¼ˆå¤šæ¬¡ä¹°å–ä¸€æ”¯è‚¡ç¥¨ï¼‰ã€‚ æ³¨æ„ï¼šä½ ä¸èƒ½åŒæ—¶å‚ä¸å¤šç¬”äº¤æ˜“ï¼ˆä½ å¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æ‰ä¹‹å‰çš„è‚¡ç¥¨ï¼‰ã€‚","text":"é¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œå®ƒçš„ç¬¬ i ä¸ªå…ƒç´ æ˜¯ä¸€æ”¯ç»™å®šè‚¡ç¥¨ç¬¬ i å¤©çš„ä»·æ ¼ã€‚ è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥è®¡ç®—ä½ æ‰€èƒ½è·å–çš„æœ€å¤§åˆ©æ¶¦ã€‚ä½ å¯ä»¥å°½å¯èƒ½åœ°å®Œæˆæ›´å¤šçš„äº¤æ˜“ï¼ˆå¤šæ¬¡ä¹°å–ä¸€æ”¯è‚¡ç¥¨ï¼‰ã€‚ æ³¨æ„ï¼šä½ ä¸èƒ½åŒæ—¶å‚ä¸å¤šç¬”äº¤æ˜“ï¼ˆä½ å¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æ‰ä¹‹å‰çš„è‚¡ç¥¨ï¼‰ã€‚ ç¤ºä¾‹ 1: 1234è¾“å…¥: [7,1,5,3,6,4]è¾“å‡º: 7è§£é‡Š: åœ¨ç¬¬ 2 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 1ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 3 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 5ï¼‰çš„æ—¶å€™å–å‡º, è¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 5-1 = 4 ã€‚ éšåï¼Œåœ¨ç¬¬ 4 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 3ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 5 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 6ï¼‰çš„æ—¶å€™å–å‡º, è¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 6-3 = 3 ã€‚ ç¤ºä¾‹ 2: 12345è¾“å…¥: [1,2,3,4,5]è¾“å‡º: 4è§£é‡Š: åœ¨ç¬¬ 1 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 1ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 5 å¤© ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 5ï¼‰çš„æ—¶å€™å–å‡º, è¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 5-1 = 4 ã€‚ æ³¨æ„ä½ ä¸èƒ½åœ¨ç¬¬ 1 å¤©å’Œç¬¬ 2 å¤©æ¥è¿è´­ä¹°è‚¡ç¥¨ï¼Œä¹‹åå†å°†å®ƒä»¬å–å‡ºã€‚ å› ä¸ºè¿™æ ·å±äºåŒæ—¶å‚ä¸äº†å¤šç¬”äº¤æ˜“ï¼Œä½ å¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æ‰ä¹‹å‰çš„è‚¡ç¥¨ã€‚ ç¤ºä¾‹ 3: 123è¾“å…¥: [7,6,4,3,1]è¾“å‡º: 0è§£é‡Š: åœ¨è¿™ç§æƒ…å†µä¸‹, æ²¡æœ‰äº¤æ˜“å®Œæˆ, æ‰€ä»¥æœ€å¤§åˆ©æ¶¦ä¸º 0ã€‚ æç¤ºï¼š 1 &lt;= prices.length &lt;= 3 * 10 ^ 4 0 &lt;= prices[i] &lt;= 10 ^ 4 æ€è·¯è´ªå¿ƒç›¸é‚»ä¸¤å¤©ï¼Œå¦‚æœç¬¬äºŒå¤©æ¯”ç¬¬ä¸€å¤©ä»·æ ¼é«˜å°±ç¬¬ä¸€å¤©ä¹°å…¥ï¼Œç¬¬äºŒå¤©å–å‡ºã€‚ è´ªå¿ƒç®—æ³•åªèƒ½ç”¨äºè®¡ç®—æœ€å¤§åˆ©æ¶¦ï¼Œè®¡ç®—çš„è¿‡ç¨‹å¹¶ä¸æ˜¯å®é™…çš„äº¤æ˜“è¿‡ç¨‹ã€‚ 12345678910111213class Solution &#123;public: int maxProfit(vector&lt;int&gt;&amp; prices) &#123; int n = prices.size(); int res = 0; for(int i = 1;i &lt; n;++i) &#123; if(prices[i - 1] &lt; prices[i]) &#123; res += prices[i] - prices[i-1]; &#125; &#125; return res; &#125;&#125;; åŠ¨æ€è§„åˆ’çŠ¶æ€ç”±äºä¸èƒ½åŒæ—¶å‚ä¸å¤šç¬”äº¤æ˜“ï¼Œå› æ­¤æœ€å¤šæŒæœ‰1åªè‚¡ç¥¨ï¼Œæ¯å¤©éƒ½åªæœ‰ä¸¤ç§çŠ¶æ€ï¼ŒæŒæœ‰å’Œä¸æŒæœ‰ã€‚ å®šä¹‰$dp[i][0]$ä¸ºå‰$i$å¤©äº¤æ˜“å®Œæˆä¸”ç¬¬$i$å¤©ä¸æŒæœ‰çš„æœ€å¤§æ”¶ç›Šï¼Œ$dp[i][0]$ä¸ºå‰$i$å¤©äº¤æ˜“å®Œæˆä¸”ç¬¬$i$å¤©æŒæœ‰çš„æœ€å¤§æ”¶ç›Šã€‚ è½¬ç§»æ–¹ç¨‹ç¬¬$i$å¤©ä¸æŒæœ‰è‚¡ç¥¨çš„æœ€å¤§æ”¶ç›Šå¯èƒ½å’Œå‰ä¸€å¤©ä¸æŒæœ‰ç›¸åŒï¼Œä¹Ÿå¯èƒ½æ¥è‡ªå‰ä¸€å¤©æŒæœ‰ï¼Œç¬¬$i$å¤©å–å‡ºï¼Œå› æ­¤å¯ä»¥å†™å‡ºå¦‚ä¸‹è½¬ç§»æ–¹ç¨‹ã€‚ dp[i][0] = max\\{dp[i-1][0], dp[i-1][1] + prices[i]\\}åŒç† dp[i][1] = max\\{dp[i-1][1], dp[i-1][0] - prices[i]\\}ä»£ç è½¬ç§»æ–¹ç¨‹åªæœ‰ç›¸é‚»ä¸¤é¡¹æœ‰å…³ç³»ï¼Œå› æ­¤å¯ä»¥ä¼˜åŒ–ç©ºé—´ã€‚ 123456789101112class Solution &#123;public: int maxProfit(vector&lt;int&gt;&amp; prices) &#123; int hold = -prices[0], nhold = 0, res = 0, n = prices.size(); for(int i = 1;i &lt; n;++i) &#123; auto t = hold; hold = max(hold, nhold - prices[i]); nhold = max(nhold, t + prices[i]); &#125; return nhold; &#125;&#125;;","categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/categories/LeetCode/"},{"name":"åŠ¨æ€è§„åˆ’","slug":"LeetCode/åŠ¨æ€è§„åˆ’","permalink":"http://example.com/categories/LeetCode/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"},{"name":"è´ªå¿ƒ","slug":"LeetCode/è´ªå¿ƒ","permalink":"http://example.com/categories/LeetCode/%E8%B4%AA%E5%BF%83/"}],"tags":[{"name":"æ¯æ—¥ä¸€é¢˜","slug":"æ¯æ—¥ä¸€é¢˜","permalink":"http://example.com/tags/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/"},{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/tags/LeetCode/"},{"name":"è´ªå¿ƒ","slug":"è´ªå¿ƒ","permalink":"http://example.com/tags/%E8%B4%AA%E5%BF%83/"},{"name":"DP","slug":"DP","permalink":"http://example.com/tags/DP/"}]},{"title":"1356. æ ¹æ®æ•°å­—äºŒè¿›åˆ¶ä¸‹ 1 çš„æ•°ç›®æ’åº","slug":"1356-æ ¹æ®æ•°å­—äºŒè¿›åˆ¶ä¸‹-1-çš„æ•°ç›®æ’åº","date":"2020-11-06T00:29:02.000Z","updated":"2022-04-19T10:52:59.380Z","comments":true,"path":"2020/11/06/1356-æ ¹æ®æ•°å­—äºŒè¿›åˆ¶ä¸‹-1-çš„æ•°ç›®æ’åº/","link":"","permalink":"http://example.com/2020/11/06/1356-%E6%A0%B9%E6%8D%AE%E6%95%B0%E5%AD%97%E4%BA%8C%E8%BF%9B%E5%88%B6%E4%B8%8B-1-%E7%9A%84%E6%95%B0%E7%9B%AE%E6%8E%92%E5%BA%8F/","excerpt":"é¢˜ç›®æè¿°ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ arr ã€‚è¯·ä½ å°†æ•°ç»„ä¸­çš„å…ƒç´ æŒ‰ç…§å…¶äºŒè¿›åˆ¶è¡¨ç¤ºä¸­æ•°å­— 1 çš„æ•°ç›®å‡åºæ’åºã€‚ å¦‚æœå­˜åœ¨å¤šä¸ªæ•°å­—äºŒè¿›åˆ¶ä¸­ 1 çš„æ•°ç›®ç›¸åŒï¼Œåˆ™å¿…é¡»å°†å®ƒä»¬æŒ‰ç…§æ•°å€¼å¤§å°å‡åºæ’åˆ—ã€‚ è¯·ä½ è¿”å›æ’åºåçš„æ•°ç»„ã€‚","text":"é¢˜ç›®æè¿°ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ arr ã€‚è¯·ä½ å°†æ•°ç»„ä¸­çš„å…ƒç´ æŒ‰ç…§å…¶äºŒè¿›åˆ¶è¡¨ç¤ºä¸­æ•°å­— 1 çš„æ•°ç›®å‡åºæ’åºã€‚ å¦‚æœå­˜åœ¨å¤šä¸ªæ•°å­—äºŒè¿›åˆ¶ä¸­ 1 çš„æ•°ç›®ç›¸åŒï¼Œåˆ™å¿…é¡»å°†å®ƒä»¬æŒ‰ç…§æ•°å€¼å¤§å°å‡åºæ’åˆ—ã€‚ è¯·ä½ è¿”å›æ’åºåçš„æ•°ç»„ã€‚ ç¤ºä¾‹ 1ï¼š 1234567è¾“å…¥ï¼šarr = [0,1,2,3,4,5,6,7,8]è¾“å‡ºï¼š[0,1,2,4,8,3,5,6,7]è§£é‡Šï¼š[0] æ˜¯å”¯ä¸€ä¸€ä¸ªæœ‰ 0 ä¸ª 1 çš„æ•°ã€‚[1,2,4,8] éƒ½æœ‰ 1 ä¸ª 1 ã€‚[3,5,6] æœ‰ 2 ä¸ª 1 ã€‚[7] æœ‰ 3 ä¸ª 1 ã€‚æŒ‰ç…§ 1 çš„ä¸ªæ•°æ’åºå¾—åˆ°çš„ç»“æœæ•°ç»„ä¸º [0,1,2,4,8,3,5,6,7] ç¤ºä¾‹ 2ï¼š 123è¾“å…¥ï¼šarr = [1024,512,256,128,64,32,16,8,4,2,1]è¾“å‡ºï¼š[1,2,4,8,16,32,64,128,256,512,1024]è§£é‡Šï¼šæ•°ç»„ä¸­æ‰€æœ‰æ•´æ•°äºŒè¿›åˆ¶ä¸‹éƒ½åªæœ‰ 1 ä¸ª 1 ï¼Œæ‰€ä»¥ä½ éœ€è¦æŒ‰ç…§æ•°å€¼å¤§å°å°†å®ƒä»¬æ’åºã€‚ ç¤ºä¾‹ 3ï¼š 12è¾“å…¥ï¼šarr = [10000,10000]è¾“å‡ºï¼š[10000,10000] ç¤ºä¾‹ 4ï¼š 12è¾“å…¥ï¼šarr = [2,3,5,7,11,13,17,19]è¾“å‡ºï¼š[2,3,5,17,7,11,13,19] ç¤ºä¾‹ 5ï¼š 12è¾“å…¥ï¼šarr = [10,100,1000,10000]è¾“å‡ºï¼š[10,100,10000,1000] æç¤ºï¼š 1 &lt;= arr.length &lt;= 500 0 &lt;= arr[i] &lt;= 10^4 æ€è·¯ç»Ÿè®¡äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•° å¯ä»¥åˆ¤æ–­æœ«å°¾æ˜¯å¦ä¸º1ï¼Œç„¶åè¿›è¡Œå‘å³ç§»ä½ï¼Œç§»ä½ä¹‹åæ•°å­—ä¸º0æ—¶åˆ™æ²¡æœ‰1ã€‚ ä½¿ç”¨ä»¿å‡½æ•°1234567891011121314151617181920class Solution &#123;public: struct cmp &#123; bool operator()(int x,int y)&#123; return countbit(x) &lt; countbit(y) || (countbit(x) == countbit(y)&amp;&amp;x &lt; y); &#125;; int countbit(int x) &#123; int cnt = 0; while(x) &#123; cnt += x &amp; 1; x = x&gt;&gt;1; &#125; return cnt; &#125;; &#125;; vector&lt;int&gt; sortByBits(vector&lt;int&gt;&amp; arr) &#123; sort(arr.begin(), arr.end(), cmp()); return arr; &#125;&#125;; lambdaè¡¨è¾¾å¼123456789101112131415161718class Solution &#123;public: vector&lt;int&gt; sortByBits(vector&lt;int&gt;&amp; arr) &#123; auto countbit = [](int x) -&gt;int &#123; int cnt = 0; while(x) &#123; cnt += x &amp; 1; x = x&gt;&gt;1; &#125; return cnt; &#125;; auto cmp = [&amp;countbit](int x,int y)-&gt;bool &#123; return countbit(x) &lt; countbit(y) || (countbit(x) == countbit(y)&amp;&amp; x &lt; y); &#125;; sort(arr.begin(), arr.end(), cmp); return arr; &#125;&#125;; äºŒè¿›åˆ¶å¸¸è§æ“ä½œäºŒè¿›åˆ¶ç®—æ³•å®å…¸ å°†äºŒè¿›åˆ¶ä¸­æœ€åçš„ä¸€ä¸ª1å˜ä¸º0ï¼šx &amp; x-1","categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/categories/LeetCode/"},{"name":"ä½è¿ç®—","slug":"LeetCode/ä½è¿ç®—","permalink":"http://example.com/categories/LeetCode/%E4%BD%8D%E8%BF%90%E7%AE%97/"}],"tags":[{"name":"æ¯æ—¥ä¸€é¢˜","slug":"æ¯æ—¥ä¸€é¢˜","permalink":"http://example.com/tags/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/"},{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/tags/LeetCode/"},{"name":"ä½è¿ç®—","slug":"ä½è¿ç®—","permalink":"http://example.com/tags/%E4%BD%8D%E8%BF%90%E7%AE%97/"}]},{"title":"127. å•è¯æ¥é¾™","slug":"127-å•è¯æ¥é¾™","date":"2020-11-05T00:15:57.000Z","updated":"2022-04-19T10:46:28.200Z","comments":true,"path":"2020/11/05/127-å•è¯æ¥é¾™/","link":"","permalink":"http://example.com/2020/11/05/127-%E5%8D%95%E8%AF%8D%E6%8E%A5%E9%BE%99/","excerpt":"é¢˜ç›®æè¿°éš¾åº¦ä¸­ç­‰501æ”¶è—åˆ†äº«åˆ‡æ¢ä¸ºè‹±æ–‡æ¥æ”¶åŠ¨æ€åé¦ˆ ç»™å®šä¸¤ä¸ªå•è¯ï¼ˆbeginWord å’Œ endWordï¼‰å’Œä¸€ä¸ªå­—å…¸ï¼Œæ‰¾åˆ°ä» beginWord åˆ° endWord çš„æœ€çŸ­è½¬æ¢åºåˆ—çš„é•¿åº¦ã€‚è½¬æ¢éœ€éµå¾ªå¦‚ä¸‹è§„åˆ™ï¼š æ¯æ¬¡è½¬æ¢åªèƒ½æ”¹å˜ä¸€ä¸ªå­—æ¯ã€‚ è½¬æ¢è¿‡ç¨‹ä¸­çš„ä¸­é—´å•è¯å¿…é¡»æ˜¯å­—å…¸ä¸­çš„å•è¯ã€‚","text":"é¢˜ç›®æè¿°éš¾åº¦ä¸­ç­‰501æ”¶è—åˆ†äº«åˆ‡æ¢ä¸ºè‹±æ–‡æ¥æ”¶åŠ¨æ€åé¦ˆ ç»™å®šä¸¤ä¸ªå•è¯ï¼ˆbeginWord å’Œ endWordï¼‰å’Œä¸€ä¸ªå­—å…¸ï¼Œæ‰¾åˆ°ä» beginWord åˆ° endWord çš„æœ€çŸ­è½¬æ¢åºåˆ—çš„é•¿åº¦ã€‚è½¬æ¢éœ€éµå¾ªå¦‚ä¸‹è§„åˆ™ï¼š æ¯æ¬¡è½¬æ¢åªèƒ½æ”¹å˜ä¸€ä¸ªå­—æ¯ã€‚ è½¬æ¢è¿‡ç¨‹ä¸­çš„ä¸­é—´å•è¯å¿…é¡»æ˜¯å­—å…¸ä¸­çš„å•è¯ã€‚ è¯´æ˜: å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„è½¬æ¢åºåˆ—ï¼Œè¿”å› 0ã€‚ æ‰€æœ‰å•è¯å…·æœ‰ç›¸åŒçš„é•¿åº¦ã€‚ æ‰€æœ‰å•è¯åªç”±å°å†™å­—æ¯ç»„æˆã€‚ å­—å…¸ä¸­ä¸å­˜åœ¨é‡å¤çš„å•è¯ã€‚ ä½ å¯ä»¥å‡è®¾ beginWord å’Œ endWord æ˜¯éç©ºçš„ï¼Œä¸”äºŒè€…ä¸ç›¸åŒã€‚ ç¤ºä¾‹ 1: 123456789è¾“å…¥:beginWord = &quot;hit&quot;,endWord = &quot;cog&quot;,wordList = [&quot;hot&quot;,&quot;dot&quot;,&quot;dog&quot;,&quot;lot&quot;,&quot;log&quot;,&quot;cog&quot;]è¾“å‡º: 5è§£é‡Š: ä¸€ä¸ªæœ€çŸ­è½¬æ¢åºåˆ—æ˜¯ &quot;hit&quot; -&gt; &quot;hot&quot; -&gt; &quot;dot&quot; -&gt; &quot;dog&quot; -&gt; &quot;cog&quot;, è¿”å›å®ƒçš„é•¿åº¦ 5ã€‚ ç¤ºä¾‹ 2: 12345678910111213141516171819202122232425262728293031323334353637383940è¾“å…¥:beginWord = &quot;hit&quot;endWord = &quot;cog&quot;wordList = [&quot;hot&quot;,&quot;dot&quot;,&quot;dog&quot;,&quot;lot&quot;,&quot;log&quot;]è¾“å‡º: 0è§£é‡Š: endWord &quot;cog&quot; ä¸åœ¨å­—å…¸ä¸­ï¼Œæ‰€ä»¥æ— æ³•è¿›è¡Œè½¬æ¢ã€‚127. å•è¯æ¥é¾™ç»™å®šä¸¤ä¸ªå•è¯ï¼ˆbeginWord å’Œ endWordï¼‰å’Œä¸€ä¸ªå­—å…¸ï¼Œæ‰¾åˆ°ä» beginWord åˆ° endWord çš„æœ€çŸ­è½¬æ¢åºåˆ—çš„é•¿åº¦ã€‚è½¬æ¢éœ€éµå¾ªå¦‚ä¸‹è§„åˆ™ï¼šæ¯æ¬¡è½¬æ¢åªèƒ½æ”¹å˜ä¸€ä¸ªå­—æ¯ã€‚è½¬æ¢è¿‡ç¨‹ä¸­çš„ä¸­é—´å•è¯å¿…é¡»æ˜¯å­—å…¸ä¸­çš„å•è¯ã€‚è¯´æ˜:å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„è½¬æ¢åºåˆ—ï¼Œè¿”å› 0ã€‚æ‰€æœ‰å•è¯å…·æœ‰ç›¸åŒçš„é•¿åº¦ã€‚æ‰€æœ‰å•è¯åªç”±å°å†™å­—æ¯ç»„æˆã€‚å­—å…¸ä¸­ä¸å­˜åœ¨é‡å¤çš„å•è¯ã€‚ä½ å¯ä»¥å‡è®¾ beginWord å’Œ endWord æ˜¯éç©ºçš„ï¼Œä¸”äºŒè€…ä¸ç›¸åŒã€‚ç¤ºä¾‹ 1:è¾“å…¥:beginWord = &quot;hit&quot;,endWord = &quot;cog&quot;,wordList = [&quot;hot&quot;,&quot;dot&quot;,&quot;dog&quot;,&quot;lot&quot;,&quot;log&quot;,&quot;cog&quot;]è¾“å‡º: 5è§£é‡Š: ä¸€ä¸ªæœ€çŸ­è½¬æ¢åºåˆ—æ˜¯ &quot;hit&quot; -&gt; &quot;hot&quot; -&gt; &quot;dot&quot; -&gt; &quot;dog&quot; -&gt; &quot;cog&quot;, è¿”å›å®ƒçš„é•¿åº¦ 5ã€‚ç¤ºä¾‹ 2:è¾“å…¥:beginWord = &quot;hit&quot;endWord = &quot;cog&quot;wordList = [&quot;hot&quot;,&quot;dot&quot;,&quot;dog&quot;,&quot;lot&quot;,&quot;log&quot;]è¾“å‡º: 0è§£é‡Š: endWord &quot;cog&quot; ä¸åœ¨å­—å…¸ä¸­ï¼Œæ‰€ä»¥æ— æ³•è¿›è¡Œè½¬æ¢ã€‚ æ€è·¯ æœ€å°‘æ¬¡æ•°ï¼Œå¯ä»¥ç”¨bfsæœç´¢. ä½¿ç”¨queueè¿›è¡Œbfsæœç´¢ï¼Œæ¯æ¬¡å¯¹å…ƒç´ çš„æ¯ä¸ªä½ç½®çš„å•è¯è¿›è¡Œæ›¿æ¢ ä¸ºäº†å¿«é€ŸæŸ¥æ‰¾ä½¿ç”¨unordered_setè®°å½•å­—å…¸ä¸­çš„å…ƒç´  é¿å…ç›¸åŒèŠ‚ç‚¹é‡å¤è®¿é—®ï¼ŒåŠ å…¥è®¿é—®unordered_setç±»å‹çš„æ ‡è®°vis å½“é˜Ÿåˆ—ä¸ºç©ºï¼Œä¸”æ²¡æœ‰æ‰¾åˆ°æ—¶ï¼Œåˆ™ä¸å­˜åœ¨è¿™æ ·çš„è·¯å¾„ 123456789101112131415161718192021222324252627282930313233class Solution &#123;public: int ladderLength(string beginWord, string endWord, vector&lt;string&gt;&amp; wordList) &#123; unordered_set&lt;string&gt; s(wordList.begin(), wordList.end()); unordered_set&lt;string&gt; vis; if(s.find(endWord) == s.end()) return 0; queue&lt;string&gt; q; q.push(beginWord); vis.insert(beginWord); int res = 1; while(!q.empty()) &#123; ++res; int n = q.size(); for(int i = 0;i &lt; n;++i) &#123; auto t = q.front(); q.pop(); for(int j = 0;j &lt; t.size();++j) &#123; auto c = t[j]; for(int k = 0;k &lt; 26;++k) &#123; t[j] = &#x27;a&#x27; + k; if(t==endWord) return res; if(s.find(t) != s.end() &amp;&amp; vis.find(t)==vis.end()) &#123; q.push(t); vis.insert(t); &#125; &#125; t[j] = c; &#125; &#125; &#125; return 0; &#125;&#125;;","categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/categories/LeetCode/"},{"name":"å¹¿åº¦ä¼˜å…ˆæœç´¢","slug":"LeetCode/å¹¿åº¦ä¼˜å…ˆæœç´¢","permalink":"http://example.com/categories/LeetCode/%E5%B9%BF%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2/"}],"tags":[{"name":"æ¯æ—¥ä¸€é¢˜","slug":"æ¯æ—¥ä¸€é¢˜","permalink":"http://example.com/tags/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/"},{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/tags/LeetCode/"},{"name":"å­—ç¬¦ä¸²","slug":"å­—ç¬¦ä¸²","permalink":"http://example.com/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/"},{"name":"BFS","slug":"BFS","permalink":"http://example.com/tags/BFS/"}]},{"title":"emplace_backã€push_backæ‚è°ˆ","slug":"emplace-backã€push-backæ‚è°ˆ","date":"2020-11-04T11:42:47.000Z","updated":"2022-04-19T10:53:52.910Z","comments":true,"path":"2020/11/04/emplace-backã€push-backæ‚è°ˆ/","link":"","permalink":"http://example.com/2020/11/04/emplace-back%E3%80%81push-back%E6%9D%82%E8%B0%88/","excerpt":"emplace_backç›¸å½“äºæ˜¯ç›´æ¥åˆå§‹åŒ–ï¼Œæ ¹æ®å‡½æ•°é‡è½½æ‰¾æœ€ä½³åŒ¹é…çš„æ„é€ å‡½æ•°ã€‚è‹¥emplaceçš„æ˜¯ä¸€ä¸ªå®Œæ•´çš„å¯¹è±¡ï¼Œåˆ™æ ¹æ®å‡½æ•°åŒ¹é…è§„åˆ™ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°ã€‚ push_backç›¸å½“äºæ˜¯æ‹·è´åˆå§‹åŒ–ï¼ˆä½†æ˜¯ç¼–è¯‘å™¨ä¸ä¼šè¿›è¡Œä¼˜åŒ–ï¼‰ï¼Œè‹¥pushçš„å¯¹è±¡ä¸æ˜¯å®Œæ•´çš„å¯¹è±¡ï¼Œåˆ™ä¼šè¿›è¡Œç±»å‹è½¬æ¢ï¼Œè½¬æ¢ä¹‹åè¿›è¡Œæ·»åŠ ï¼Œæ·»åŠ æ—¶ä¼šè°ƒç”¨æ‹·è´æ„é€ å‡½æ•°ã€‚ è‹¥push_backæœ‰å³å€¼å¼•ç”¨çš„ç‰ˆæœ¬ï¼Œæ·»åŠ çš„å¯¹è±¡åˆæ˜¯ä¸€ä¸ªå³å€¼ï¼Œæ­¤æ—¶ä¼šè°ƒç”¨å³å€¼ç‰ˆæœ¬çš„ç§»åŠ¨æ„é€ ã€‚é€Ÿåº¦ä¹Ÿä¼šå¾ˆå¿«ã€‚","text":"emplace_backç›¸å½“äºæ˜¯ç›´æ¥åˆå§‹åŒ–ï¼Œæ ¹æ®å‡½æ•°é‡è½½æ‰¾æœ€ä½³åŒ¹é…çš„æ„é€ å‡½æ•°ã€‚è‹¥emplaceçš„æ˜¯ä¸€ä¸ªå®Œæ•´çš„å¯¹è±¡ï¼Œåˆ™æ ¹æ®å‡½æ•°åŒ¹é…è§„åˆ™ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°ã€‚ push_backç›¸å½“äºæ˜¯æ‹·è´åˆå§‹åŒ–ï¼ˆä½†æ˜¯ç¼–è¯‘å™¨ä¸ä¼šè¿›è¡Œä¼˜åŒ–ï¼‰ï¼Œè‹¥pushçš„å¯¹è±¡ä¸æ˜¯å®Œæ•´çš„å¯¹è±¡ï¼Œåˆ™ä¼šè¿›è¡Œç±»å‹è½¬æ¢ï¼Œè½¬æ¢ä¹‹åè¿›è¡Œæ·»åŠ ï¼Œæ·»åŠ æ—¶ä¼šè°ƒç”¨æ‹·è´æ„é€ å‡½æ•°ã€‚ è‹¥push_backæœ‰å³å€¼å¼•ç”¨çš„ç‰ˆæœ¬ï¼Œæ·»åŠ çš„å¯¹è±¡åˆæ˜¯ä¸€ä¸ªå³å€¼ï¼Œæ­¤æ—¶ä¼šè°ƒç”¨å³å€¼ç‰ˆæœ¬çš„ç§»åŠ¨æ„é€ ã€‚é€Ÿåº¦ä¹Ÿä¼šå¾ˆå¿«ã€‚ æ€§èƒ½å·®åˆ« å½“æ’å…¥çš„éƒ½æ˜¯ä¸´æ—¶å¯¹è±¡æ—¶ï¼Œæ€§èƒ½æ²¡æœ‰å·®åˆ«ã€‚ å¦‚æœæœ‰ç§»åŠ¨æ„é€ å‡½æ•°ï¼Œä¸¤è€…éƒ½ä¼šå…ˆè°ƒç”¨æ„é€ å‡½æ•°ï¼Œåè°ƒç”¨ç§»åŠ¨æ„é€ å‡½æ•°ï¼Œæ€§èƒ½æ²¡æœ‰å·®åˆ«ã€‚ æ²¡æœ‰ï¼Œä¸¤è€…éƒ½ä¼šå…ˆè°ƒç”¨æ„é€ å‡½æ•°ï¼Œåè°ƒç”¨æ‹·è´æ„é€ å‡½æ•°ï¼Œæ€§èƒ½æ²¡æœ‰å·®åˆ«ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748#include &lt;vector&gt;#include &lt;string&gt;#include &lt;iostream&gt; struct President&#123; std::string name; std::string country; int year; President(std::string p_name, std::string p_country, int p_year) : name(std::move(p_name)), country(std::move(p_country)), year(p_year) &#123; std::cout &lt;&lt; &quot;I am being constructed.\\n&quot;; &#125; President(President&amp;&amp; other) : name(std::move(other.name)), country(std::move(other.country)), year(other.year) &#123; std::cout &lt;&lt; &quot;I am being moved.\\n&quot;; &#125; President(const President&amp; other) : name(other.name), country(other.country), year(other.year) &#123; std::cout &lt;&lt; &quot;I am copy construced.\\n&quot;; &#125; President&amp; operator=(const President&amp; other) = default;&#125;; int main()&#123; std::vector&lt;President&gt; elections; std::cout &lt;&lt; &quot;emplace_back:\\n&quot;; elections.emplace_back(President(&quot;Nelson Mandela&quot;, &quot;South Africa&quot;, 1994)); std::vector&lt;President&gt; reElections; std::cout &lt;&lt; &quot;\\npush_back:\\n&quot;; reElections.push_back(President(&quot;Franklin Delano Roosevelt&quot;, &quot;the USA&quot;, 1936)); std::cout &lt;&lt; &quot;\\nContents:\\n&quot;; for (President const&amp; president: elections) &#123; std::cout &lt;&lt; president.name &lt;&lt; &quot; was elected president of &quot; &lt;&lt; president.country &lt;&lt; &quot; in &quot; &lt;&lt; president.year &lt;&lt; &quot;.\\n&quot;; &#125; for (President const&amp; president: reElections) &#123; std::cout &lt;&lt; president.name &lt;&lt; &quot; was re-elected president of &quot; &lt;&lt; president.country &lt;&lt; &quot; in &quot; &lt;&lt; president.year &lt;&lt; &quot;.\\n&quot;; &#125;&#125; è¿è¡Œç»“æœ 1234567891011emplace_back:I am being constructed.I am being moved.push_back:I am being constructed.I am being moved.Contents:Nelson Mandela was elected president of South Africa in 1994.Franklin Delano Roosevelt was re-elected president of the USA in 1936. å½“æ’å…¥çš„æ—¶å®Œæ•´çš„å¯¹è±¡æ—¶ï¼Œæ€§èƒ½æ²¡æœ‰å·®è·ã€‚ å› ä¸ºpush_back()æ˜¯ç›´æ¥è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°ï¼Œemplace_backæ˜¯æŒ‰ç…§å‡½æ•°åŒ¹é…è§„åˆ™è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°ï¼Œä¸¤è€…æ€§èƒ½ç›¸åŒã€‚ 123456789101112131415161718192021int main()&#123; std::vector&lt;President&gt; elections; President temp(&quot;Franklin Delano Roosevelt&quot;, &quot;the USA&quot;, 1936); std::cout &lt;&lt; &quot;emplace_back:\\n&quot;; elections.emplace_back(temp); std::vector&lt;President&gt; reElections; std::cout &lt;&lt; &quot;\\npush_back:\\n&quot;; reElections.push_back(temp); std::cout &lt;&lt; &quot;\\nContents:\\n&quot;; for (President const&amp; president: elections) &#123; std::cout &lt;&lt; president.name &lt;&lt; &quot; was elected president of &quot; &lt;&lt; president.country &lt;&lt; &quot; in &quot; &lt;&lt; president.year &lt;&lt; &quot;.\\n&quot;; &#125; for (President const&amp; president: reElections) &#123; std::cout &lt;&lt; president.name &lt;&lt; &quot; was re-elected president of &quot; &lt;&lt; president.country &lt;&lt; &quot; in &quot; &lt;&lt; president.year &lt;&lt; &quot;.\\n&quot;; &#125;&#125; 12345678910I am being constructed.emplace_back:I am being copy constructed.push_back:I am being copy constructed.Contents:Franklin Delano Roosevelt was elected president of the USA in 1936.Franklin Delano Roosevelt was re-elected president of the USA in 1936. å½“push_backä¸€ä¸ªä¸´æ—¶å¯¹è±¡ï¼Œemplace_backä¸æ˜¯å¯¹è±¡æ—¶ï¼Œä¾‹å¦‚ 1234567std::vector&lt;President&gt; elections;std::cout &lt;&lt; &quot;emplace_back:\\n&quot;;elections.emplace_back(&quot;Franklin Delano Roosevelt&quot;, &quot;the USA&quot;, 1936);std::vector&lt;President&gt; reElections;std::cout &lt;&lt; &quot;\\npush_back:\\n&quot;;reElections.push_back(President(&quot;Franklin Delano Roosevelt&quot;, &quot;the USA&quot;, 1936)); å¦‚æœå¯¹è±¡æœ‰ç§»åŠ¨æ„é€ å‡½æ•°ï¼Œä¸¤è€…æ€§èƒ½å·®è·ä¸å¤§ï¼Œemplace_backä¼šå¿«ä¸€ç‚¹ã€‚ push_backä¼šè°ƒç”¨ä¸€æ¬¡æ„é€ å‡½æ•°ã€‚ emplace_backä¼šè°ƒç”¨ä¸€æ¬¡æ„é€ å‡½æ•°ï¼Œå†è°ƒç”¨ä¸€æ¬¡ç§»åŠ¨æ„é€ å‡½æ•°ï¼Œä¼šæ…¢ä¸€ç‚¹ã€‚ å¦‚æœå¯¹è±¡æ²¡æœ‰ç§»åŠ¨æ„é€ å‡½æ•°ï¼Œemplace_backä¼šå¿«å¾ˆå¤šã€‚ push_backä¼šè°ƒç”¨ä¸€æ¬¡æ„é€ å‡½æ•°ã€‚ emplace_backä¼šè°ƒç”¨ä¸€æ¬¡æ„é€ å‡½æ•°ï¼Œå†è°ƒç”¨ä¸€æ¬¡æ‹·è´æ„é€ å‡½æ•°ï¼Œæ€§èƒ½å·®è·æ¯”è¾ƒå¤§ã€‚ push_backçš„ç±»åˆ«çš„æ‹·è´æ„é€ å‡½æ•°å‚æ•°å¦‚æœä¸æ˜¯constä¼šå‡ºç°é”™è¯¯push_back()æœ‰å››ç§å½¢å¼ã€‚ 1234void push_back( const T&amp; value );constexpr void push_back( const T&amp; value );void push_back( T&amp;&amp; value );constexpr void push_back( T&amp;&amp; value ); å¯¹äºéå³å€¼æ—¶ï¼ŒæŠŠå¯¹è±¡è½¬æ¢æˆconstï¼Œä¹‹åä¼šè°ƒç”¨æ‹·è´æ„é€ å‡½æ•°ï¼Œå½“æ‹·è´æ„é€ å‡½æ•°ä¸åŠ constæ—¶ï¼Œä¼šå°è¯•æŠŠconstå¯¹è±¡è½¬æ¢ä¸ºéconstå¯¹è±¡ï¼Œå¼•èµ·é”™è¯¯ã€‚","categories":[{"name":"C++","slug":"C","permalink":"http://example.com/categories/C/"},{"name":"STL","slug":"C/STL","permalink":"http://example.com/categories/C/STL/"}],"tags":[{"name":"C++","slug":"C","permalink":"http://example.com/tags/C/"},{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://example.com/tags/%E9%9A%8F%E7%AC%94/"}]},{"title":"57. æ’å…¥åŒºé—´","slug":"57-æ’å…¥åŒºé—´","date":"2020-11-04T01:16:53.000Z","updated":"2022-04-19T10:44:26.440Z","comments":true,"path":"2020/11/04/57-æ’å…¥åŒºé—´/","link":"","permalink":"http://example.com/2020/11/04/57-%E6%8F%92%E5%85%A5%E5%8C%BA%E9%97%B4/","excerpt":"é¢˜ç›®æè¿°ç»™å‡ºä¸€ä¸ªæ— é‡å çš„ ï¼ŒæŒ‰ç…§åŒºé—´èµ·å§‹ç«¯ç‚¹æ’åºçš„åŒºé—´åˆ—è¡¨ã€‚ åœ¨åˆ—è¡¨ä¸­æ’å…¥ä¸€ä¸ªæ–°çš„åŒºé—´ï¼Œä½ éœ€è¦ç¡®ä¿åˆ—è¡¨ä¸­çš„åŒºé—´ä»ç„¶æœ‰åºä¸”ä¸é‡å ï¼ˆå¦‚æœæœ‰å¿…è¦çš„è¯ï¼Œå¯ä»¥åˆå¹¶åŒºé—´ï¼‰ã€‚ ç¤ºä¾‹ 1ï¼š 12è¾“å…¥ï¼šintervals = [[1,3],[6,9]], newInterval = [2,5]è¾“å‡ºï¼š[[1,5],[6,9]] ç¤ºä¾‹ 2ï¼š 123è¾“å…¥ï¼šintervals = [[1,2],[3,5],[6,7],[8,10],[12,16]], newInterval = [4,8]è¾“å‡ºï¼š[[1,2],[3,10],[12,16]]è§£é‡Šï¼šè¿™æ˜¯å› ä¸ºæ–°çš„åŒºé—´ [4,8] ä¸ [3,5],[6,7],[8,10] é‡å ã€‚","text":"é¢˜ç›®æè¿°ç»™å‡ºä¸€ä¸ªæ— é‡å çš„ ï¼ŒæŒ‰ç…§åŒºé—´èµ·å§‹ç«¯ç‚¹æ’åºçš„åŒºé—´åˆ—è¡¨ã€‚ åœ¨åˆ—è¡¨ä¸­æ’å…¥ä¸€ä¸ªæ–°çš„åŒºé—´ï¼Œä½ éœ€è¦ç¡®ä¿åˆ—è¡¨ä¸­çš„åŒºé—´ä»ç„¶æœ‰åºä¸”ä¸é‡å ï¼ˆå¦‚æœæœ‰å¿…è¦çš„è¯ï¼Œå¯ä»¥åˆå¹¶åŒºé—´ï¼‰ã€‚ ç¤ºä¾‹ 1ï¼š 12è¾“å…¥ï¼šintervals = [[1,3],[6,9]], newInterval = [2,5]è¾“å‡ºï¼š[[1,5],[6,9]] ç¤ºä¾‹ 2ï¼š 123è¾“å…¥ï¼šintervals = [[1,2],[3,5],[6,7],[8,10],[12,16]], newInterval = [4,8]è¾“å‡ºï¼š[[1,2],[3,10],[12,16]]è§£é‡Šï¼šè¿™æ˜¯å› ä¸ºæ–°çš„åŒºé—´ [4,8] ä¸ [3,5],[6,7],[8,10] é‡å ã€‚ æ³¨æ„ï¼šè¾“å…¥ç±»å‹å·²åœ¨ 2019 å¹´ 4 æœˆ 15 æ—¥æ›´æ”¹ã€‚è¯·é‡ç½®ä¸ºé»˜è®¤ä»£ç å®šä¹‰ä»¥è·å–æ–°çš„æ–¹æ³•ç­¾åã€‚ æ€è·¯æ¨¡æ‹Ÿ åˆ¤æ–­newIntervalæ˜¯å¦å’Œintervalæœ‰é‡å  æœ‰ï¼Œè¿›è¡Œåˆå¹¶ï¼Œä¹‹åæ›´æ–°çš„newIntervalï¼ˆä¸éœ€è¦æ’å…¥intervalï¼‰ æ²¡æœ‰ï¼Œåˆ¤æ–­newIntervalæ˜¯å¦å¯ä»¥æ’å…¥ å¯ä»¥ï¼Œæ’å…¥newIntervalï¼Œä¹‹åæ’å…¥interval ä¸å¯ä»¥ï¼Œæ’å…¥interval åˆå¹¶æ¡ä»¶ï¼šåŒºé—´ä¹‹é—´å­˜åœ¨äº¤å‰ï¼Œinterval[1] &gt;= newInterval[0] \\&amp;\\&amp; interval[0] &lt;= newInterval[1] æ’å…¥æ¡ä»¶ï¼šæ–°åŒºé—´çš„å°¾ç«¯å°äºintervalçš„èµ·ç‚¹ï¼Œä½†æ˜¯å¯èƒ½ä¼šæ’å…¥å¾ˆå¤šæ¬¡ï¼Œå› æ­¤éœ€è¦æ‰“æ ‡è®°ã€‚newInterval[1] &lt; interval[0]&amp;&amp;!flagã€‚ C++ä»£ç  12345678910111213141516171819202122232425class Solution &#123;public: vector&lt;vector&lt;int&gt;&gt; insert(vector&lt;vector&lt;int&gt;&gt;&amp; intervals, vector&lt;int&gt;&amp; newInterval) &#123; vector&lt;vector&lt;int&gt;&gt; res; bool flag = false; // intervalå’ŒnewIntervalåˆå¹¶ï¼Œä¸èƒ½åˆå¹¶å°±æ’å…¥ for(const auto&amp; interval:intervals) &#123; // é‡åˆ if(interval[1] &gt;= newInterval[0] &amp;&amp; interval[0] &lt;= newInterval[1]) &#123; newInterval[0] = min(newInterval[0], interval[0]); newInterval[1] = max(newInterval[1], interval[1]); continue; &#125; else if(newInterval[1] &lt; interval[0] &amp;&amp; !flag) &#123; // ä¸é‡åˆ, ä¸”æ˜¯ç¬¬ä¸€æ¬¡ res.push_back(newInterval); flag = true; &#125; res.push_back(interval); &#125; if(!flag) &#123; res.push_back(newInterval); &#125; return res; &#125;&#125;;","categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/categories/LeetCode/"},{"name":"æ¨¡æ‹Ÿ","slug":"LeetCode/æ¨¡æ‹Ÿ","permalink":"http://example.com/categories/LeetCode/%E6%A8%A1%E6%8B%9F/"}],"tags":[{"name":"æ¨¡æ‹Ÿ","slug":"æ¨¡æ‹Ÿ","permalink":"http://example.com/tags/%E6%A8%A1%E6%8B%9F/"},{"name":"åŒºé—´","slug":"åŒºé—´","permalink":"http://example.com/tags/%E5%8C%BA%E9%97%B4/"}]},{"title":"1124. è¡¨ç°è‰¯å¥½çš„æœ€é•¿æ—¶é—´æ®µ","slug":"1124-è¡¨ç°è‰¯å¥½çš„æœ€é•¿æ—¶é—´æ®µ","date":"2020-11-03T06:03:52.000Z","updated":"2022-04-19T10:52:45.600Z","comments":true,"path":"2020/11/03/1124-è¡¨ç°è‰¯å¥½çš„æœ€é•¿æ—¶é—´æ®µ/","link":"","permalink":"http://example.com/2020/11/03/1124-%E8%A1%A8%E7%8E%B0%E8%89%AF%E5%A5%BD%E7%9A%84%E6%9C%80%E9%95%BF%E6%97%B6%E9%97%B4%E6%AE%B5/","excerpt":"é¢˜ç›®æè¿°ç»™ä½ ä¸€ä»½å·¥ä½œæ—¶é—´è¡¨ hoursï¼Œä¸Šé¢è®°å½•ç€æŸä¸€ä½å‘˜å·¥æ¯å¤©çš„å·¥ä½œå°æ—¶æ•°ã€‚ æˆ‘ä»¬è®¤ä¸ºå½“å‘˜å·¥ä¸€å¤©ä¸­çš„å·¥ä½œå°æ—¶æ•°å¤§äº 8 å°æ—¶çš„æ—¶å€™ï¼Œé‚£ä¹ˆè¿™ä¸€å¤©å°±æ˜¯ã€ŒåŠ³ç´¯çš„ä¸€å¤©ã€ã€‚ æ‰€è°“ã€Œè¡¨ç°è‰¯å¥½çš„æ—¶é—´æ®µã€ï¼Œæ„å‘³åœ¨è¿™æ®µæ—¶é—´å†…ï¼Œã€ŒåŠ³ç´¯çš„å¤©æ•°ã€æ˜¯ä¸¥æ ¼ å¤§äºã€Œä¸åŠ³ç´¯çš„å¤©æ•°ã€ã€‚ è¯·ä½ è¿”å›ã€Œè¡¨ç°è‰¯å¥½æ—¶é—´æ®µã€çš„æœ€å¤§é•¿åº¦ã€‚","text":"é¢˜ç›®æè¿°ç»™ä½ ä¸€ä»½å·¥ä½œæ—¶é—´è¡¨ hoursï¼Œä¸Šé¢è®°å½•ç€æŸä¸€ä½å‘˜å·¥æ¯å¤©çš„å·¥ä½œå°æ—¶æ•°ã€‚ æˆ‘ä»¬è®¤ä¸ºå½“å‘˜å·¥ä¸€å¤©ä¸­çš„å·¥ä½œå°æ—¶æ•°å¤§äº 8 å°æ—¶çš„æ—¶å€™ï¼Œé‚£ä¹ˆè¿™ä¸€å¤©å°±æ˜¯ã€ŒåŠ³ç´¯çš„ä¸€å¤©ã€ã€‚ æ‰€è°“ã€Œè¡¨ç°è‰¯å¥½çš„æ—¶é—´æ®µã€ï¼Œæ„å‘³åœ¨è¿™æ®µæ—¶é—´å†…ï¼Œã€ŒåŠ³ç´¯çš„å¤©æ•°ã€æ˜¯ä¸¥æ ¼ å¤§äºã€Œä¸åŠ³ç´¯çš„å¤©æ•°ã€ã€‚ è¯·ä½ è¿”å›ã€Œè¡¨ç°è‰¯å¥½æ—¶é—´æ®µã€çš„æœ€å¤§é•¿åº¦ã€‚ ç¤ºä¾‹ 1ï¼š 123è¾“å…¥ï¼šhours = [9,9,6,0,6,6,9]è¾“å‡ºï¼š3è§£é‡Šï¼šæœ€é•¿çš„è¡¨ç°è‰¯å¥½æ—¶é—´æ®µæ˜¯ [9,9,6]ã€‚ æç¤ºï¼š 1 &lt;= hours.length &lt;= 10000 0 &lt;= hours[i] &lt;= 16 æ€è·¯å‡†å¤‡å·¥ä½œ å°†$å·¥ä½œæ—¶é—´&gt;8å°æ—¶$è®°ä¸º1ï¼Œ$&lt;8$è®°ä¸º$-1$ï¼Œè®¡ç®—å‰ç¼€å’Œpresumã€‚ æš´åŠ›æšä¸¾ ä½¿ç”¨ä¸¤æ ¹æŒ‡é’ˆï¼Œiï¼Œjå»æšä¸¾åŒºé—´(j,i)ï¼Œè®°å½•æœ€å¤§çš„i-jï¼Œå¯ä»¥è¿›è¡Œé€‚åº¦å‰ªæï¼Œbutä»æ—§è¶…æ—¶ã€‚ æ—¶é—´å¤æ‚åº¦ï¼š$O(n^2)$ï¼Œç©ºé—´å¤æ‚åº¦ï¼š$O(n)$ c++ä»£ç  1234567891011121314151617181920class Solution &#123; public: int longestWPI(vector&lt;int&gt;&amp; hours) &#123; int n = hours.size(); int res = 0; vector&lt;int&gt; presum(n + 1); for(int i = 0;i &lt; n;++i) &#123; presum[i + 1] = presum[i] + (hours[i] &gt; 8? 1 : -1 ); &#125; for(int i = n;i &gt; 0;--i) &#123; for(int j = 0;j &lt; i;++j) &#123; if(i - j &lt;= res) break; if(presum[i] - presum[j] &gt; 0) &#123; res = max(res, i - j); &#125; &#125; &#125; return res; &#125;&#125;; äºŒåˆ†æŸ¥æ‰¾ï¼ˆé”™è¯¯ï¼‰ æšä¸¾åŒºé—´å€¼ï¼Œl = 0ï¼Œr = n å‰ç¼€å’Œ+å•è°ƒæ ˆ+åŒæŒ‡é’ˆè½¬åŒ–ä¹‹åçš„é—®é¢˜ä¸962. æœ€å¤§å®½åº¦å¡ç±»ä¼¼ï¼Œä½¿ç”¨å•è°ƒæ ˆã€‚ åŒæŒ‡é’ˆä¹Ÿä¸ä¸€å®šè¦æœ‰åº 1234567891011121314151617181920212223242526class Solution &#123;public: int longestWPI(vector&lt;int&gt;&amp; hours) &#123; int n = hours.size(); vector&lt;int&gt; presum(n + 1); for(int i = 0;i &lt; n;++i) &#123; presum[i + 1] = presum[i] + (hours[i] &gt; 8?1:-1); &#125; stack&lt;int&gt; s; int res = 0; for(int i = 0;i &lt;= n;++i) &#123; if(s.empty() || presum[s.top()] &gt; presum[i]) &#123; s.push(i); &#125; &#125; int i = n; while(i &gt;= 0 &amp;&amp; !s.empty()) &#123; while(!s.empty() &amp;&amp; presum[i] &gt; presum[s.top()]) &#123; res = max(res, i - s.top()); s.pop(); &#125; --i; &#125; return res; &#125;&#125;;","categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/categories/LeetCode/"},{"name":"å•è°ƒæ ˆ","slug":"LeetCode/å•è°ƒæ ˆ","permalink":"http://example.com/categories/LeetCode/%E5%8D%95%E8%B0%83%E6%A0%88/"}],"tags":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/tags/LeetCode/"},{"name":"å‰ç¼€å’Œ","slug":"å‰ç¼€å’Œ","permalink":"http://example.com/tags/%E5%89%8D%E7%BC%80%E5%92%8C/"},{"name":"å•è°ƒæ ˆ","slug":"å•è°ƒæ ˆ","permalink":"http://example.com/tags/%E5%8D%95%E8%B0%83%E6%A0%88/"},{"name":"äºŒåˆ†æŸ¥æ‰¾","slug":"äºŒåˆ†æŸ¥æ‰¾","permalink":"http://example.com/tags/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/"}]},{"title":"941. æœ‰æ•ˆçš„å±±è„‰æ•°ç»„","slug":"941-æœ‰æ•ˆçš„å±±è„‰æ•°ç»„","date":"2020-11-03T00:43:22.000Z","updated":"2022-04-19T10:51:14.450Z","comments":true,"path":"2020/11/03/941-æœ‰æ•ˆçš„å±±è„‰æ•°ç»„/","link":"","permalink":"http://example.com/2020/11/03/941-%E6%9C%89%E6%95%88%E7%9A%84%E5%B1%B1%E8%84%89%E6%95%B0%E7%BB%84/","excerpt":"é¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ Aï¼Œå¦‚æœå®ƒæ˜¯æœ‰æ•ˆçš„å±±è„‰æ•°ç»„å°±è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚ è®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹ï¼Œå¦‚æœ A æ»¡è¶³ä¸‹è¿°æ¡ä»¶ï¼Œé‚£ä¹ˆå®ƒæ˜¯ä¸€ä¸ªå±±è„‰æ•°ç»„ï¼š A.length &gt;= 3 åœ¨ 10 &lt; i &lt; A.length - 1 æ¡ä»¶ä¸‹ï¼Œå­˜åœ¨ 1i ä½¿å¾—ï¼š A[0] &lt; A[1] &lt; ... A[i-1] &lt; A[i] A[i] &gt; A[i+1] &gt; ... &gt; A[A.length - 1]","text":"é¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ Aï¼Œå¦‚æœå®ƒæ˜¯æœ‰æ•ˆçš„å±±è„‰æ•°ç»„å°±è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚ è®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹ï¼Œå¦‚æœ A æ»¡è¶³ä¸‹è¿°æ¡ä»¶ï¼Œé‚£ä¹ˆå®ƒæ˜¯ä¸€ä¸ªå±±è„‰æ•°ç»„ï¼š A.length &gt;= 3 åœ¨ 10 &lt; i &lt; A.length - 1 æ¡ä»¶ä¸‹ï¼Œå­˜åœ¨ 1i ä½¿å¾—ï¼š A[0] &lt; A[1] &lt; ... A[i-1] &lt; A[i] A[i] &gt; A[i+1] &gt; ... &gt; A[A.length - 1] ç¤ºä¾‹ 1ï¼š 12è¾“å…¥ï¼š[2,1]è¾“å‡ºï¼šfalse ç¤ºä¾‹ 2ï¼š 12è¾“å…¥ï¼š[3,5,5]è¾“å‡ºï¼šfalse ç¤ºä¾‹ 3ï¼š 12è¾“å…¥ï¼š[0,3,2,1]è¾“å‡ºï¼štrue æç¤ºï¼š 0 &lt;= A.length &lt;= 10000 0 &lt;= A[i] &lt;= 10000 æ€è·¯æ¨¡æ‹Ÿï¼ŒåŒæŒ‡é’ˆä¸¤æ ¹æŒ‡é’ˆä»ä¸¤ç«¯æ‰¾å±±å³°çš„å±±é¡¶ï¼Œæ‰¾åˆ°ååˆ¤æ–­æ˜¯å¦ä¸ºåŒä¸€åº§å±±å³°ã€‚ 1234567891011121314151617181920212223class Solution &#123;public: bool validMountainArray(vector&lt;int&gt;&amp; A) &#123; int i = 1, n = A.size(), j = n - 2; while(i &lt; n) &#123; if(A[i] &gt; A[i - 1]) &#123; i++; &#125; else &#123; --i; // éœ€è¦--ï¼Œæ‰æ˜¯å±±é¡¶ break; &#125; &#125; while(j &gt;= 0) &#123; if(A[j] &gt; A[j + 1]) &#123; --j; &#125; else &#123; ++j; // éœ€è¦++ï¼Œæ‰æ˜¯å±±é¡¶ break; &#125; &#125; return i==j; &#125; &#125;;","categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/categories/LeetCode/"},{"name":"æ¨¡æ‹Ÿ","slug":"LeetCode/æ¨¡æ‹Ÿ","permalink":"http://example.com/categories/LeetCode/%E6%A8%A1%E6%8B%9F/"}],"tags":[{"name":"æ¯æ—¥ä¸€é¢˜","slug":"æ¯æ—¥ä¸€é¢˜","permalink":"http://example.com/tags/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/"},{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/tags/LeetCode/"},{"name":"åŒæŒ‡é’ˆ","slug":"åŒæŒ‡é’ˆ","permalink":"http://example.com/tags/%E5%8F%8C%E6%8C%87%E9%92%88/"},{"name":"æ¨¡æ‹Ÿ","slug":"æ¨¡æ‹Ÿ","permalink":"http://example.com/tags/%E6%A8%A1%E6%8B%9F/"}]},{"title":"pythonä¹‹å¹¶å‘ç¼–ç¨‹ï¼ˆæ¦‚å¿µç¯‡ï¼‰","slug":"pythonä¹‹å¹¶å‘ç¼–ç¨‹ï¼ˆæ¦‚å¿µç¯‡ï¼‰","date":"2020-11-02T02:42:07.000Z","updated":"2022-04-19T10:57:01.190Z","comments":true,"path":"2020/11/02/pythonä¹‹å¹¶å‘ç¼–ç¨‹ï¼ˆæ¦‚å¿µç¯‡ï¼‰/","link":"","permalink":"http://example.com/2020/11/02/python%E4%B9%8B%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%EF%BC%88%E6%A6%82%E5%BF%B5%E7%AF%87%EF%BC%89/","excerpt":"è½¬è½½è‡ªpythonä¹‹å¹¶å‘ç¼–ç¨‹ï¼ˆæ¦‚å¿µç¯‡ï¼‰ ä¸€.è¿›ç¨‹ 1.ä»€ä¹ˆæ˜¯è¿›ç¨‹è¿›ç¨‹æ˜¯æ­£åœ¨è¿›è¡Œçš„ä¸€ä¸ªè¿‡ç¨‹æˆ–è€…ä¸€ä¸ªä»»åŠ¡ã€‚è€Œè´Ÿè´£æ‰§è¡Œä»»åŠ¡çš„åˆ™æ˜¯cpuã€‚","text":"è½¬è½½è‡ªpythonä¹‹å¹¶å‘ç¼–ç¨‹ï¼ˆæ¦‚å¿µç¯‡ï¼‰ ä¸€.è¿›ç¨‹ 1.ä»€ä¹ˆæ˜¯è¿›ç¨‹è¿›ç¨‹æ˜¯æ­£åœ¨è¿›è¡Œçš„ä¸€ä¸ªè¿‡ç¨‹æˆ–è€…ä¸€ä¸ªä»»åŠ¡ã€‚è€Œè´Ÿè´£æ‰§è¡Œä»»åŠ¡çš„åˆ™æ˜¯cpuã€‚ 2.è¿›ç¨‹ä¸ç¨‹åºçš„åŒºåˆ«ç¨‹åºå¹¶ä¸èƒ½å•ç‹¬è¿è¡Œï¼Œåªæœ‰å°†ç¨‹åºè£…è½½åˆ°å†…å­˜ä¸­ï¼Œç³»ç»Ÿä¸ºå®ƒåˆ†é…èµ„æºæ‰èƒ½è¿è¡Œï¼Œè€Œè¿™ç§æ‰§è¡Œçš„ç¨‹åºå°±ç§°ä¹‹ä¸ºè¿›ç¨‹ã€‚ç¨‹åºå’Œè¿›ç¨‹çš„åŒºåˆ«å°±åœ¨äºï¼šç¨‹åºæ˜¯æŒ‡ä»¤çš„é›†åˆï¼Œå®ƒæ˜¯è¿›ç¨‹è¿è¡Œçš„é™æ€æè¿°æ–‡æœ¬ï¼›è¿›ç¨‹æ˜¯ç¨‹åºçš„ä¸€æ¬¡æ‰§è¡Œæ´»åŠ¨ï¼Œå±äºåŠ¨æ€æ¦‚å¿µã€‚åŒä¸€ä¸ªç¨‹åºæ‰§è¡Œä¸¤æ¬¡æ˜¯ä¸¤ä¸ªè¿›ç¨‹ã€‚ åœ¨å¤šé“ç¼–ç¨‹ä¸­ï¼Œæˆ‘ä»¬å…è®¸å¤šä¸ªç¨‹åºåŒæ—¶åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œåœ¨æ“ä½œç³»ç»Ÿçš„è°ƒåº¦ä¸‹ï¼Œå¯ä»¥å®ç°å¹¶å‘åœ°æ‰§è¡Œã€‚è¿™æ˜¯è¿™æ ·çš„è®¾è®¡ï¼Œå¤§å¤§æé«˜äº†CPUçš„åˆ©ç”¨ç‡ã€‚è¿›ç¨‹çš„å‡ºç°è®©æ¯ä¸ªç”¨æˆ·æ„Ÿè§‰åˆ°è‡ªå·±ç‹¬äº«CPUï¼Œå› æ­¤ï¼Œè¿›ç¨‹å°±æ˜¯ä¸ºäº†åœ¨CPUä¸Šå®ç°å¤šé“ç¼–ç¨‹è€Œæå‡ºçš„ã€‚ 3.å¹¶å‘ä¸å¹¶è¡Œæ— è®ºæ˜¯å¹¶è¡Œè¿˜æ˜¯å¹¶å‘ï¼Œåœ¨ç”¨æˆ·çœ‹æ¥éƒ½æ˜¯â€™åŒæ—¶â€™è¿è¡Œçš„ï¼Œè€Œä¸€ä¸ªcpuåŒä¸€æ—¶åˆ»åªèƒ½æ‰§è¡Œä¸€ä¸ªä»»åŠ¡ã€‚ å¹¶å‘ï¼šæ˜¯ä¼ªå¹¶è¡Œï¼Œå³æŸä¸ªæ—¶æ®µçœ‹èµ·æ¥æ˜¯åŒæ—¶è¿è¡Œã€‚å•ä¸ªcpu+å¤šé“æŠ€æœ¯å°±å¯ä»¥å®ç°å¹¶å‘ï¼Œï¼ˆå¹¶è¡Œä¹Ÿå±äºå¹¶å‘ï¼‰ å¹¶è¡Œï¼šåŒæ—¶è¿è¡Œï¼Œåªæœ‰å…·å¤‡å¤šä¸ªcpuæ‰èƒ½å®ç°å¹¶è¡Œã€‚ å•æ ¸ä¸‹ï¼Œå¯ä»¥åˆ©ç”¨å¤šé“æŠ€æœ¯ï¼Œå¤šæ ¸ä¸­çš„æ¯ä¸ªæ ¸ä¹Ÿéƒ½å¯ä»¥åˆ©ç”¨å¤šé“æŠ€æœ¯ï¼ˆå¤šé“æŠ€æœ¯æ˜¯é’ˆå¯¹å•æ ¸è€Œè¨€çš„ï¼‰ æœ‰å››ä¸ªæ ¸ï¼Œå…­ä¸ªä»»åŠ¡ï¼Œè¿™æ ·åŒä¸€æ—¶é—´æœ‰å››ä¸ªä»»åŠ¡è¢«æ‰§è¡Œï¼Œå‡è®¾åˆ†åˆ«è¢«åˆ†é…ç»™äº†cpu1ï¼Œcpu2ï¼Œcpu3ï¼Œcpu4ï¼Œ ä¸€æ—¦ä»»åŠ¡1é‡åˆ°I/Oå°±è¢«è¿«ä¸­æ–­æ‰§è¡Œï¼Œæ­¤æ—¶ä»»åŠ¡5å°±æ‹¿åˆ°cpu1çš„æ—¶é—´ç‰‡å»æ‰§è¡Œï¼Œè¿™å°±æ˜¯å•æ ¸ä¸‹çš„å¤šé“æŠ€æœ¯ è€Œä¸€æ—¦ä»»åŠ¡1çš„I/Oç»“æŸäº†ï¼Œæ“ä½œç³»ç»Ÿä¼šé‡æ–°è°ƒç”¨å®ƒ(éœ€çŸ¥è¿›ç¨‹çš„è°ƒåº¦ã€åˆ†é…ç»™å“ªä¸ªcpuè¿è¡Œï¼Œç”±æ“ä½œç³»ç»Ÿè¯´äº†ç®—)ï¼Œå¯èƒ½è¢«åˆ†é…ç»™å››ä¸ªcpuä¸­çš„ä»»æ„ä¸€ä¸ªå»æ‰§è¡Œã€‚ 4.åŒæ­¥\\å¼‚æ­¥andé˜»å¡\\éé˜»å¡åŒæ­¥ï¼šAè°ƒç”¨Bï¼ŒBå¤„ç†ç›´åˆ°è·å¾—ç»“æœï¼Œæ‰è¿”å›ç»™Aã€‚éœ€è¦è°ƒç”¨è€…ä¸€ç›´ç­‰å¾…å’Œç¡®è®¤è°ƒç”¨ç»“æœæ˜¯å¦è¿”å›ï¼Œ ç„¶åç»§ç»­å¾€ä¸‹æ‰§è¡Œã€‚å¼‚æ­¥ï¼šAè°ƒç”¨Bï¼ŒBç›´æ¥è¿”å›ã€‚æ— éœ€ç­‰å¾…ç»“æœï¼ŒBé€šè¿‡çŠ¶æ€ï¼Œé€šçŸ¥ç­‰æ¥é€šçŸ¥Aæˆ–å›è°ƒå‡½æ•°æ¥å¤„ç†ã€‚è°ƒç”¨ç»“æœè¿”å›æ—¶ï¼Œ ä¼šä»¥æ¶ˆæ¯æˆ–å›è°ƒçš„æ–¹å¼é€šçŸ¥è°ƒç”¨è€…ã€‚ é˜»å¡ï¼šAè°ƒç”¨Bï¼ŒAè¢«æŒ‚èµ·ç›´åˆ°Bè¿”å›ç»“æœç»™Aï¼ŒAç»§ç»­æ‰§è¡Œã€‚è°ƒç”¨ç»“æœè¿”å›å‰ï¼Œå½“å‰è¿›ç¨‹æŒ‚èµ·ä¸èƒ½å¤Ÿå¤„ç†å…¶ä»–ä»»åŠ¡ï¼Œä¸€ç›´ç­‰å¾…è°ƒç”¨ç»“æœè¿”å›ã€‚éé˜»å¡ï¼šAè°ƒç”¨Bï¼ŒAä¸ä¼šè¢«æŒ‚èµ·ï¼ŒAå¯ä»¥æ‰§è¡Œå…¶ä»–æ“ä½œã€‚è°ƒç”¨ç»“æœè¿”å›å‰ï¼Œå½“å‰è¿›ç¨‹ä¸æŒ‚èµ·ï¼Œ å¯ä»¥å»å¤„ç†å…¶ä»–ä»»åŠ¡ã€‚ æ‰€ä»¥ï¼ŒåŒæ­¥å¼‚æ­¥è¯´çš„æ˜¯è¢«è°ƒç”¨è€…ç»“æœè¿”å›æ—¶é€šçŸ¥è¿›ç¨‹çš„ä¸€ç§é€šçŸ¥æœºåˆ¶ï¼Œé˜»å¡éé˜»å¡è¯´çš„æ˜¯è°ƒç”¨ç»“æœè¿”å›å‰è¿›ç¨‹çš„çŠ¶æ€ï¼Œæ˜¯æŒ‚èµ·è¿˜æ˜¯ç»§ç»­å¤„ç†å…¶ä»–ä»»åŠ¡ã€‚ äºŒ.çº¿ç¨‹1.ä»€ä¹ˆæ˜¯çº¿ç¨‹çº¿ç¨‹æ˜¯æ“ä½œç³»ç»Ÿèƒ½å¤Ÿè¿›è¡Œè¿ç®—è°ƒåº¦çš„æœ€å°å•ä½ã€‚å®ƒè¢«åŒ…å«åœ¨è¿›ç¨‹ä¹‹ä¸­ï¼Œæ˜¯è¿›ç¨‹ä¸­çš„å®é™…è¿ä½œå•ä½ã€‚ä¸€æ¡çº¿ç¨‹æŒ‡çš„æ˜¯è¿›ç¨‹ä¸­ä¸€ä¸ªå•ä¸€é¡ºåºçš„æ§åˆ¶æµï¼Œä¸€ä¸ªè¿›ç¨‹ä¸­å¯ä»¥å¹¶å‘å¤šä¸ªçº¿ç¨‹ï¼Œæ¯æ¡çº¿ç¨‹å¹¶è¡Œæ‰§è¡Œä¸åŒçš„ä»»åŠ¡ã€‚ 2.çº¿ç¨‹ä¸è¿›ç¨‹çš„åŒºåˆ« çº¿ç¨‹å…±äº«åˆ›å»ºå®ƒçš„è¿›ç¨‹çš„å†…å­˜ç©ºé—´ï¼Œè¿›ç¨‹çš„å†…å­˜æ˜¯ç‹¬ç«‹çš„ çº¿ç¨‹å¯ä»¥ç›´æ¥è®¿é—®å…¶è¿›ç¨‹çš„æ•°æ®æ®µï¼Œè¿›ç¨‹æ‹¥æœ‰çˆ¶è¿›ç¨‹çš„æ•°æ®æ®µå‰¯æœ¬ çº¿ç¨‹å¯ä»¥ç›´æ¥ä¸å…¶è¿›ç¨‹çš„å…¶ä»–çº¿ç¨‹é€šä¿¡ï¼Œè¿›ç¨‹é—´é€šä¿¡éœ€è¦é€šè¿‡ä¸€ä¸ªä¸­é—´ä»£ç†æ¥å®ç°ã€‚ æ–°çº¿ç¨‹å¾ˆå®¹æ˜“åˆ›å»ºï¼Œåˆ›å»ºæ–°è¿›ç¨‹éœ€è¦å¯¹çˆ¶è¿›ç¨‹å®ç°ä¸€æ¬¡å¤åˆ¶ã€‚ çº¿ç¨‹å¯ä»¥æ§åˆ¶å’Œæ“ä½œåŒä¸€è¿›ç¨‹é‡Œçš„å…¶ä»–çº¿ç¨‹ï¼Œè¿›ç¨‹åªèƒ½æ§åˆ¶å­è¿›ç¨‹ã€‚ å¯¹ä¸»çº¿ç¨‹çš„æ›´æ”¹ï¼ˆå–æ¶ˆï¼Œä¼˜å…ˆçº§æ›´æ”¹ç­‰ï¼‰å¯èƒ½ä¼šå½±å“åˆ°è¿›ç¨‹ä¸­å…¶ä»–çº¿ç¨‹çš„è¡Œä¸º; å¯¹çˆ¶è¿›ç¨‹çš„æ›´æ”¹ä¸ä¼šå½±å“å­è¿›ç¨‹ã€‚ 3.å¤šçº¿ç¨‹å¤šçº¿ç¨‹æŒ‡çš„æ˜¯ï¼Œåœ¨ä¸€ä¸ªè¿›ç¨‹ä¸­å¼€å¯å¤šä¸ªçº¿ç¨‹ï¼Œç®€å•çš„è®²ï¼šå¦‚æœå¤šä¸ªä»»åŠ¡å…±ç”¨ä¸€å—åœ°å€ç©ºé—´ï¼Œé‚£ä¹ˆå¿…é¡»åœ¨ä¸€ä¸ªè¿›ç¨‹å†…å¼€å¯å¤šä¸ªçº¿ç¨‹ã€‚ è¯¦ç»†çš„è®²åˆ†ä¸º4ç‚¹ï¼š å¤šçº¿ç¨‹å…±äº«ä¸€ä¸ªè¿›ç¨‹çš„åœ°å€ç©ºé—´ã€‚ çº¿ç¨‹æ¯”è¿›ç¨‹æ›´è½»é‡çº§ï¼Œçº¿ç¨‹æ¯”è¿›ç¨‹æ›´å®¹æ˜“åˆ›å»ºå¯æ’¤é”€ï¼Œåœ¨è®¸å¤šæ“ä½œç³»ç»Ÿä¸­ï¼Œåˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ¯”åˆ›å»ºä¸€ä¸ªè¿›ç¨‹è¦å¿«10-100å€ï¼Œåœ¨æœ‰å¤§é‡çº¿ç¨‹éœ€è¦åŠ¨æ€å’Œå¿«é€Ÿä¿®æ”¹æ—¶ï¼Œè¿™ä¸€ç‰¹æ€§å¾ˆæœ‰ç”¨ è‹¥å¤šä¸ªçº¿ç¨‹éƒ½æ˜¯cpuå¯†é›†å‹çš„ï¼Œé‚£ä¹ˆå¹¶ä¸èƒ½è·å¾—æ€§èƒ½ä¸Šçš„å¢å¼ºï¼Œä½†æ˜¯å¦‚æœå­˜åœ¨å¤§é‡çš„è®¡ç®—å’Œå¤§é‡çš„I/Oå¤„ç†ï¼Œæ‹¥æœ‰å¤šä¸ªçº¿ç¨‹å…è®¸è¿™äº›æ´»åŠ¨å½¼æ­¤é‡å è¿è¡Œï¼Œä»è€Œä¼šåŠ å¿«ç¨‹åºæ‰§è¡Œçš„é€Ÿåº¦ã€‚ åœ¨å¤šcpuç³»ç»Ÿä¸­ï¼Œä¸ºäº†æœ€å¤§é™åº¦çš„åˆ©ç”¨å¤šæ ¸ï¼Œå¯ä»¥å¼€å¯å¤šä¸ªçº¿ç¨‹ï¼Œæ¯”å¼€è¿›ç¨‹å¼€é”€è¦å°çš„å¤šã€‚ï¼ˆè¿™ä¸€æ¡å¹¶ä¸é€‚ç”¨äºpythonï¼‰ ä¸‰.GILå…¨å±€è§£é‡Šå™¨é”æ¯ä¸ªçº¿ç¨‹åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­éƒ½éœ€è¦å…ˆè·å–GILï¼Œä¿è¯åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨è¿è¡Œï¼Œç›®çš„æ˜¯è§£å†³å¤šçº¿ç¨‹åŒæ—¶ç«äº‰ç¨‹åºä¸­çš„å…¨å±€å˜é‡è€Œå‡ºç°çš„çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚å®ƒå¹¶ä¸æ˜¯pythonè¯­è¨€çš„ç‰¹æ€§ï¼Œä»…ä»…æ˜¯ç”±äºå†å²çš„åŸå› åœ¨CPythonè§£é‡Šå™¨ä¸­éš¾ä»¥ç§»é™¤ï¼Œå› ä¸ºpythonè¯­è¨€è¿è¡Œç¯å¢ƒå¤§éƒ¨åˆ†é»˜è®¤åœ¨CPythonè§£é‡Šå™¨ä¸­ã€‚ ç”±äºä»¥å‰çš„ç”µè„‘åŸºæœ¬éƒ½æ˜¯å•æ ¸CPUï¼Œå¤šçº¿ç¨‹å’Œå•çº¿ç¨‹å‡ ä¹çœ‹ä¸å‡ºå·®åˆ«ï¼Œå¯æ˜¯ç”±äºè®¡ç®—æœºçš„è¿…é€Ÿå‘å±•ï¼Œç°åœ¨çš„ç”µè„‘å‡ ä¹éƒ½æ˜¯å¤šæ ¸CPUäº†ï¼Œæœ€å°‘ä¹Ÿæ˜¯ä¸¤ä¸ªæ ¸å¿ƒæ•°çš„ï¼Œè¿™æ—¶å·®åˆ«å°±å‡ºæ¥äº†ï¼šé€šè¿‡ä¹‹å‰çš„æ¡ˆä¾‹æˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œå³ä½¿åœ¨å¤šæ ¸CPUä¸­ï¼Œå¤šçº¿ç¨‹åŒä¸€æ—¶åˆ»ä¹Ÿåªæœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨è¿è¡Œï¼Œè¿™æ ·ä¸ä»…ä¸èƒ½åˆ©ç”¨å¤šæ ¸CPUçš„ä¼˜åŠ¿ï¼Œåè€Œç”±äºæ¯ä¸ªçº¿ç¨‹åœ¨å¤šä¸ªCPUä¸Šæ˜¯äº¤æ›¿æ‰§è¡Œçš„ï¼Œå¯¼è‡´åœ¨ä¸åŒCPUä¸Šåˆ‡æ¢æ—¶é€ æˆèµ„æºçš„æµªè´¹ï¼Œåè€Œä¼šæ›´æ…¢ã€‚å³åŸå› æ˜¯ä¸€ä¸ªè¿›ç¨‹åªå­˜åœ¨ä¸€æŠŠgilé”ï¼Œå½“åœ¨æ‰§è¡Œå¤šä¸ªçº¿ç¨‹æ—¶ï¼Œå†…éƒ¨ä¼šäº‰æŠ¢gilé”ï¼Œè¿™ä¼šé€ æˆå½“æŸä¸€ä¸ªçº¿ç¨‹æ²¡æœ‰æŠ¢åˆ°é”çš„æ—¶å€™ä¼šè®©cpuç­‰å¾…ï¼Œè¿›è€Œä¸èƒ½åˆç†åˆ©ç”¨å¤šæ ¸cpuèµ„æºã€‚ å››.åç¨‹1.åç¨‹æ˜¯ä»€ä¹ˆï¼Ÿåç¨‹æ˜¯å•çº¿ç¨‹ä¸‹çš„å¹¶å‘ï¼Œä¸€ç§ç”¨æˆ·æ€çš„è½»é‡çº§çº¿ç¨‹ï¼Œå³åç¨‹æ˜¯ç”±ç”¨æˆ·ç¨‹åºè‡ªå·±æ§åˆ¶è°ƒåº¦çš„ã€‚ 2.æ³¨æ„ï¼š pythonçš„çº¿ç¨‹å±äºå†…æ ¸çº§åˆ«çš„ï¼Œå³ç”±æ“ä½œç³»ç»Ÿæ§åˆ¶è°ƒåº¦ï¼ˆå¦‚å•çº¿ç¨‹é‡åˆ°ioæˆ–æ‰§è¡Œæ—¶é—´è¿‡é•¿å°±ä¼šè¢«è¿«äº¤å‡ºcpuæ‰§è¡Œæƒé™ï¼Œåˆ‡æ¢å…¶ä»–çº¿ç¨‹è¿è¡Œï¼‰ å•çº¿ç¨‹å†…å¼€å¯åç¨‹ï¼Œä¸€æ—¦é‡åˆ°ioï¼Œå°±ä¼šä»åº”ç”¨ç¨‹åºçº§åˆ«ï¼ˆè€Œéæ“ä½œç³»ç»Ÿï¼‰æ§åˆ¶åˆ‡æ¢ï¼Œä»¥æ­¤æ¥æå‡æ•ˆç‡ï¼ˆï¼ï¼ï¼éioæ“ä½œçš„åˆ‡æ¢ä¸æ•ˆç‡æ— å…³ï¼‰ æ“ä½œç³»ç»Ÿæ§åˆ¶çº¿ç¨‹çš„åˆ‡æ¢ï¼Œç”¨æˆ·åœ¨å•çº¿ç¨‹å†…æ§åˆ¶åç¨‹çš„åˆ‡æ¢ 3.ä¼˜ç‚¹ä¸ç¼ºç‚¹ï¼šä¼˜ç‚¹ï¼š åç¨‹çš„åˆ‡æ¢å¼€é”€æ›´å°ï¼Œå±äºç¨‹åºçº§åˆ«çš„åˆ‡æ¢ï¼Œæ“ä½œç³»ç»Ÿå®Œå…¨æ„ŸçŸ¥ä¸åˆ°ï¼Œå› è€Œæ›´åŠ è½»é‡çº§ï¼Œå•çº¿ç¨‹å†…å°±å¯ä»¥å®ç°å¹¶å‘çš„æ•ˆæœï¼Œæœ€å¤§é™åº¦åœ°åˆ©ç”¨cpuã€‚ ç¼ºç‚¹ï¼š åç¨‹çš„æœ¬è´¨æ˜¯å•çº¿ç¨‹ä¸‹ï¼Œæ— æ³•åˆ©ç”¨å¤šæ ¸ï¼Œï¼ˆå¯ä»¥æ˜¯ä¸€ä¸ªç¨‹åºå¼€å¯å¤šä¸ªè¿›ç¨‹ï¼Œæ¯ä¸ªè¿›ç¨‹å†…å¼€å¯å¤šä¸ªçº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹å†…å¼€å¯åç¨‹ï¼‰ åç¨‹æŒ‡çš„æ˜¯å•ä¸ªçº¿ç¨‹ï¼Œå› è€Œä¸€æ—¦åç¨‹å‡ºç°é˜»å¡ï¼Œå°†ä¼šé˜»å¡æ•´ä¸ªçº¿ç¨‹ 4.æ€»ç»“ å¿…é¡»åœ¨åªæœ‰ä¸€ä¸ªå•çº¿ç¨‹é‡Œå®ç°å¹¶å‘ ä¿®æ”¹å…±äº«æ•°æ®ä¸éœ€åŠ é” ç”¨æˆ·ç¨‹åºé‡Œè‡ªå·±ä¿å­˜å¤šä¸ªæ§åˆ¶æµçš„ä¸Šä¸‹æ–‡æ ˆ ä¸€ä¸ªåç¨‹é‡åˆ°IOæ“ä½œè‡ªåŠ¨åˆ‡æ¢åˆ°å…¶å®ƒåç¨‹ï¼ˆå¦‚ä½•å®ç°æ£€æµ‹IOï¼Œyieldã€greenletéƒ½æ— æ³•å®ç°ï¼Œå°±ç”¨åˆ°äº†geventæ¨¡å—ï¼ˆselectæœºåˆ¶ï¼‰ äº”.IOæ¨¡å‹1.IOæ¨¡å‹ä»‹ç»IOå‘ç”Ÿæ—¶æ¶‰åŠçš„å¯¹è±¡å’Œæ­¥éª¤ã€‚å¯¹äºä¸€ä¸ªnetwork IO (è¿™é‡Œæˆ‘ä»¬ä»¥readä¸¾ä¾‹)ï¼Œå®ƒä¼šæ¶‰åŠåˆ°ä¸¤ä¸ªç³»ç»Ÿå¯¹è±¡ï¼Œä¸€ä¸ªæ˜¯è°ƒç”¨è¿™ä¸ªIOçš„process (or thread)ï¼Œå¦ä¸€ä¸ªå°±æ˜¯ç³»ç»Ÿå†…æ ¸(kernel)ã€‚å½“ä¸€ä¸ªreadæ“ä½œå‘ç”Ÿæ—¶ï¼Œè¯¥æ“ä½œä¼šç»å†ä¸¤ä¸ªé˜¶æ®µï¼š 1. ç­‰å¾…æ•°æ®å‡†å¤‡ 2. å°†æ•°æ®ä»å†…æ ¸æ‹·è´åˆ°è¿›ç¨‹ä¸­ ä¸åŒIOæ¨¡å‹çš„åŒºåˆ«å°±æ˜¯åœ¨ä¸¤ä¸ªé˜¶æ®µä¸Šå„æœ‰ä¸åŒçš„æƒ…å†µ è¡¥å…… 1234567#1ã€è¾“å…¥æ“ä½œï¼šreadã€readvã€recvã€recvfromã€recvmsgå…±5ä¸ªå‡½æ•°ï¼Œå¦‚æœä¼šé˜»å¡çŠ¶æ€ï¼Œåˆ™ä¼šç»å†wait dataå’Œcopy dataä¸¤ä¸ªé˜¶æ®µï¼Œå¦‚æœè®¾ç½®ä¸ºéé˜»å¡åˆ™åœ¨wait ä¸åˆ°dataæ—¶æŠ›å‡ºå¼‚å¸¸#2ã€è¾“å‡ºæ“ä½œï¼šwriteã€writevã€sendã€sendtoã€sendmsgå…±5ä¸ªå‡½æ•°ï¼Œåœ¨å‘é€ç¼“å†²åŒºæ»¡äº†ä¼šé˜»å¡åœ¨åŸåœ°ï¼Œå¦‚æœè®¾ç½®ä¸ºéé˜»å¡ï¼Œåˆ™ä¼šæŠ›å‡ºå¼‚å¸¸#3ã€æ¥æ”¶å¤–æ¥é“¾æ¥ï¼šacceptï¼Œä¸è¾“å…¥æ“ä½œç±»ä¼¼#4ã€å‘èµ·å¤–å‡ºé“¾æ¥ï¼šconnectï¼Œä¸è¾“å‡ºæ“ä½œç±»ä¼¼ 2.é˜»å¡IOé»˜è®¤æƒ…å†µä¸‹æ‰€æœ‰çš„socketéƒ½æ˜¯é˜»å¡çš„ å½“ç”¨æˆ·è¿›ç¨‹è°ƒç”¨äº†recvfromè¿™ä¸ªç³»ç»Ÿè°ƒç”¨ï¼Œkernelå°±å¼€å§‹äº†IOçš„ç¬¬ä¸€ä¸ªé˜¶æ®µï¼šå‡†å¤‡æ•°æ®ã€‚å¯¹äºnetwork ioæ¥è¯´ï¼Œå¾ˆå¤šæ—¶å€™æ•°æ®åœ¨ä¸€å¼€å§‹è¿˜æ²¡æœ‰åˆ°è¾¾ï¼ˆæ¯”å¦‚ï¼Œè¿˜æ²¡æœ‰æ”¶åˆ°ä¸€ä¸ªå®Œæ•´çš„UDPåŒ…ï¼‰ï¼Œè¿™ä¸ªæ—¶å€™kernelå°±è¦ç­‰å¾…è¶³å¤Ÿçš„æ•°æ®åˆ°æ¥ã€‚ è€Œåœ¨ç”¨æˆ·è¿›ç¨‹è¿™è¾¹ï¼Œæ•´ä¸ªè¿›ç¨‹ä¼šè¢«é˜»å¡ã€‚å½“kernelä¸€ç›´ç­‰åˆ°æ•°æ®å‡†å¤‡å¥½äº†ï¼Œå®ƒå°±ä¼šå°†æ•°æ®ä»kernelä¸­æ‹·è´åˆ°ç”¨æˆ·å†…å­˜ï¼Œç„¶åkernelè¿”å›ç»“æœï¼Œç”¨æˆ·è¿›ç¨‹æ‰è§£é™¤blockçš„çŠ¶æ€ï¼Œé‡æ–°è¿è¡Œèµ·æ¥ã€‚æ‰€ä»¥ï¼Œblocking IOçš„ç‰¹ç‚¹å°±æ˜¯åœ¨IOæ‰§è¡Œçš„ä¸¤ä¸ªé˜¶æ®µï¼ˆç­‰å¾…æ•°æ®å’Œæ‹·è´æ•°æ®ä¸¤ä¸ªé˜¶æ®µï¼‰éƒ½è¢«blockäº† é™¤éç‰¹åˆ«æŒ‡å®šï¼Œå‡ ä¹æ‰€æœ‰çš„IOæ¥å£ ( åŒ…æ‹¬socketæ¥å£ ) éƒ½æ˜¯é˜»å¡å‹çš„ã€‚è¿™ç»™ç½‘ç»œç¼–ç¨‹å¸¦æ¥äº†ä¸€ä¸ªå¾ˆå¤§çš„é—®é¢˜ï¼Œå¦‚åœ¨è°ƒç”¨recv(1024)çš„åŒæ—¶ï¼Œçº¿ç¨‹å°†è¢«é˜»å¡ï¼Œåœ¨æ­¤æœŸé—´ï¼Œçº¿ç¨‹å°†æ— æ³•æ‰§è¡Œä»»ä½•è¿ç®—æˆ–å“åº”ä»»ä½•çš„ç½‘ç»œè¯·æ±‚ã€‚ ä¸€ä¸ªç®€å•çš„è§£å†³æ–¹æ¡ˆï¼š 1#åœ¨æœåŠ¡å™¨ç«¯ä½¿ç”¨å¤šçº¿ç¨‹ï¼ˆæˆ–å¤šè¿›ç¨‹ï¼‰ã€‚å¤šçº¿ç¨‹ï¼ˆæˆ–å¤šè¿›ç¨‹ï¼‰çš„ç›®çš„æ˜¯è®©æ¯ä¸ªè¿æ¥éƒ½æ‹¥æœ‰ç‹¬ç«‹çš„çº¿ç¨‹ï¼ˆæˆ–è¿›ç¨‹ï¼‰ï¼Œè¿™æ ·ä»»ä½•ä¸€ä¸ªè¿æ¥çš„é˜»å¡éƒ½ä¸ä¼šå½±å“å…¶ä»–çš„è¿æ¥ã€‚ è¯¥æ–¹æ¡ˆçš„é—®é¢˜æ˜¯ï¼š 1#å¼€å¯å¤šè¿›ç¨‹æˆ–éƒ½çº¿ç¨‹çš„æ–¹å¼ï¼Œåœ¨é‡åˆ°è¦åŒæ—¶å“åº”æˆç™¾ä¸Šåƒè·¯çš„è¿æ¥è¯·æ±‚ï¼Œåˆ™æ— è®ºå¤šçº¿ç¨‹è¿˜æ˜¯å¤šè¿›ç¨‹éƒ½ä¼šä¸¥é‡å æ®ç³»ç»Ÿèµ„æºï¼Œé™ä½ç³»ç»Ÿå¯¹å¤–ç•Œå“åº”æ•ˆç‡ï¼Œè€Œä¸”çº¿ç¨‹ä¸è¿›ç¨‹æœ¬èº«ä¹Ÿæ›´å®¹æ˜“è¿›å…¥å‡æ­»çŠ¶æ€ã€‚ æ”¹è¿›æ–¹æ¡ˆï¼š 123#å¾ˆå¤šç¨‹åºå‘˜å¯èƒ½ä¼šè€ƒè™‘ä½¿ç”¨â€œçº¿ç¨‹æ± â€æˆ–â€œè¿æ¥æ± â€ã€‚â€œçº¿ç¨‹æ± â€æ—¨åœ¨å‡å°‘åˆ›å»ºå’Œé”€æ¯çº¿ç¨‹çš„é¢‘ç‡ï¼Œå…¶ç»´æŒä¸€å®šåˆç†æ•°é‡çš„çº¿ç¨‹ï¼Œå¹¶è®©ç©ºé—²çš„çº¿ç¨‹é‡æ–°æ‰¿æ‹…æ–°çš„æ‰§è¡Œä»»åŠ¡ã€‚â€œè¿æ¥æ± â€ç»´æŒè¿æ¥çš„ç¼“å­˜æ± ï¼Œå°½é‡é‡ç”¨å·²æœ‰çš„è¿æ¥ã€å‡å°‘åˆ›å»ºå’Œå…³é—­è¿æ¥çš„é¢‘ç‡ã€‚è¿™ä¸¤ç§æŠ€æœ¯éƒ½å¯ä»¥å¾ˆå¥½çš„é™ä½ç³»ç»Ÿå¼€é”€ï¼Œéƒ½è¢«å¹¿æ³›åº”ç”¨å¾ˆå¤šå¤§å‹ç³»ç»Ÿï¼Œå¦‚websphereã€tomcatå’Œå„ç§æ•°æ®åº“ç­‰ã€‚ æ”¹è¿›åæ–¹æ¡ˆå…¶å®ä¹Ÿå­˜åœ¨ç€é—®é¢˜ï¼š 123#â€œçº¿ç¨‹æ± â€å’Œâ€œè¿æ¥æ± â€æŠ€æœ¯ä¹Ÿåªæ˜¯åœ¨ä¸€å®šç¨‹åº¦ä¸Šç¼“è§£äº†é¢‘ç¹è°ƒç”¨IOæ¥å£å¸¦æ¥çš„èµ„æºå ç”¨ã€‚è€Œä¸”ï¼Œæ‰€è°“â€œæ± â€å§‹ç»ˆæœ‰å…¶ä¸Šé™ï¼Œå½“è¯·æ±‚å¤§å¤§è¶…è¿‡ä¸Šé™æ—¶ï¼Œâ€œæ± â€æ„æˆçš„ç³»ç»Ÿå¯¹å¤–ç•Œçš„å“åº”å¹¶ä¸æ¯”æ²¡æœ‰æ± çš„æ—¶å€™æ•ˆæœå¥½å¤šå°‘ã€‚æ‰€ä»¥ä½¿ç”¨â€œæ± â€å¿…é¡»è€ƒè™‘å…¶é¢ä¸´çš„å“åº”è§„æ¨¡ï¼Œå¹¶æ ¹æ®å“åº”è§„æ¨¡è°ƒæ•´â€œæ± â€çš„å¤§å°ã€‚ å¯¹åº”ä¸Šä¾‹ä¸­çš„æ‰€é¢ä¸´çš„å¯èƒ½åŒæ—¶å‡ºç°çš„ä¸Šåƒç”šè‡³ä¸Šä¸‡æ¬¡çš„å®¢æˆ·ç«¯è¯·æ±‚ï¼Œâ€œçº¿ç¨‹æ± â€æˆ–â€œè¿æ¥æ± â€æˆ–è®¸å¯ä»¥ç¼“è§£éƒ¨åˆ†å‹åŠ›ï¼Œä½†æ˜¯ä¸èƒ½è§£å†³æ‰€æœ‰é—®é¢˜ã€‚ æ€»ä¹‹ å¤šçº¿ç¨‹æ¨¡å‹å¯ä»¥æ–¹ä¾¿é«˜æ•ˆçš„è§£å†³å°è§„æ¨¡çš„æœåŠ¡è¯·æ±‚ï¼Œä½†é¢å¯¹å¤§è§„æ¨¡çš„æœåŠ¡è¯·æ±‚ï¼Œå¤šçº¿ç¨‹æ¨¡å‹ä¹Ÿä¼šé‡åˆ°ç“¶é¢ˆï¼Œå¯ä»¥ç”¨éé˜»å¡æ¥å£æ¥å°è¯•è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ 3.éé˜»å¡IOå¯ä»¥é€šè¿‡è®¾ç½®socketä½¿å…¶å˜ä¸ºnon-blockingã€‚å½“å¯¹ä¸€ä¸ªnon-blocking socketæ‰§è¡Œè¯»æ“ä½œæ—¶ï¼Œæµç¨‹æ˜¯è¿™ä¸ªæ ·å­ï¼š å½“ç”¨æˆ·è¿›ç¨‹å‘å‡ºreadæ“ä½œæ—¶ï¼Œå¦‚æœkernelä¸­çš„æ•°æ®è¿˜æ²¡æœ‰å‡†å¤‡å¥½ï¼Œé‚£ä¹ˆå®ƒå¹¶ä¸ä¼šblockç”¨æˆ·è¿›ç¨‹ï¼Œè€Œæ˜¯ç«‹åˆ»è¿”å›ä¸€ä¸ªerrorã€‚ä»ç”¨æˆ·è¿›ç¨‹è§’åº¦è®² ï¼Œå®ƒå‘èµ·ä¸€ä¸ªreadæ“ä½œåï¼Œå¹¶ä¸éœ€è¦ç­‰å¾…ï¼Œè€Œæ˜¯é©¬ä¸Šå°±å¾—åˆ°äº†ä¸€ä¸ªç»“æœã€‚ç”¨æˆ·è¿›ç¨‹åˆ¤æ–­ç»“æœæ˜¯ä¸€ä¸ªerroræ—¶ï¼Œå®ƒå°±çŸ¥é“æ•°æ®è¿˜æ²¡æœ‰å‡†å¤‡å¥½ï¼Œäºæ˜¯ç”¨æˆ·å°±å¯ä»¥åœ¨æœ¬æ¬¡åˆ°ä¸‹æ¬¡å†å‘èµ·readè¯¢é—®çš„æ—¶é—´é—´éš”å†…åšå…¶ä»–äº‹æƒ…ï¼Œæˆ–è€…ç›´æ¥å†æ¬¡å‘é€readæ“ä½œã€‚ä¸€æ—¦kernelä¸­çš„æ•°æ®å‡†å¤‡å¥½äº†ï¼Œå¹¶ä¸”åˆå†æ¬¡æ”¶åˆ°äº†ç”¨æˆ·è¿›ç¨‹çš„system callï¼Œé‚£ä¹ˆå®ƒé©¬ä¸Šå°±å°†æ•°æ®æ‹·è´åˆ°äº†ç”¨æˆ·å†…å­˜ï¼ˆè¿™ä¸€é˜¶æ®µä»ç„¶æ˜¯é˜»å¡çš„ï¼‰ï¼Œç„¶åè¿”å›ã€‚ ä¹Ÿå°±æ˜¯è¯´éé˜»å¡çš„recvformç³»ç»Ÿè°ƒç”¨è°ƒç”¨ä¹‹åï¼Œè¿›ç¨‹å¹¶æ²¡æœ‰è¢«é˜»å¡ï¼Œå†…æ ¸é©¬ä¸Šè¿”å›ç»™è¿›ç¨‹ï¼Œå¦‚æœæ•°æ®è¿˜æ²¡å‡†å¤‡å¥½ï¼Œæ­¤æ—¶ä¼šè¿”å›ä¸€ä¸ªerrorã€‚è¿›ç¨‹åœ¨è¿”å›ä¹‹åï¼Œå¯ä»¥å¹²ç‚¹åˆ«çš„äº‹æƒ…ï¼Œç„¶åå†å‘èµ·recvformç³»ç»Ÿè°ƒç”¨ã€‚é‡å¤ä¸Šé¢çš„è¿‡ç¨‹ï¼Œå¾ªç¯å¾€å¤çš„è¿›è¡Œrecvformç³»ç»Ÿè°ƒç”¨ã€‚è¿™ä¸ªè¿‡ç¨‹é€šå¸¸è¢«ç§°ä¹‹ä¸ºè½®è¯¢ã€‚è½®è¯¢æ£€æŸ¥å†…æ ¸æ•°æ®ï¼Œç›´åˆ°æ•°æ®å‡†å¤‡å¥½ï¼Œå†æ‹·è´æ•°æ®åˆ°è¿›ç¨‹ï¼Œè¿›è¡Œæ•°æ®å¤„ç†ã€‚éœ€è¦æ³¨æ„ï¼Œæ‹·è´æ•°æ®æ•´ä¸ªè¿‡ç¨‹ï¼Œè¿›ç¨‹ä»ç„¶æ˜¯å±äºé˜»å¡çš„çŠ¶æ€ã€‚ å¯ä»¥çœ‹åˆ°ç”¨æˆ·è¿›ç¨‹éœ€è¦ä¸€ç›´ä¸»åŠ¨è¯¢é—®kernelæ•°æ®å‡†å¤‡å¥½äº†æ²¡æœ‰ï¼Œå¸¦æ¥çš„é—®é¢˜å°±æ˜¯ å¾ªç¯è°ƒç”¨recv()å°†å¤§å¹…åº¦æ¨é«˜CPUå ç”¨ç‡ï¼Œåœ¨ä½é…ä¸»æœºä¸‹æå®¹æ˜“å‡ºç°å¡æœºæƒ…å†µã€‚ ä»»åŠ¡å®Œæˆçš„å“åº”å»¶è¿Ÿå¢å¤§äº†ï¼Œå› ä¸ºæ¯è¿‡ä¸€æ®µæ—¶é—´æ‰å»è½®è¯¢ä¸€æ¬¡readæ“ä½œï¼Œè€Œä»»åŠ¡å¯èƒ½åœ¨ä¸¤æ¬¡è½®è¯¢ä¹‹é—´çš„ä»»æ„æ—¶é—´å®Œæˆã€‚è¿™ä¼šå¯¼è‡´æ•´ä½“æ•°æ®ååé‡çš„é™ä½ã€‚ æ­¤å¤–ï¼Œåœ¨è¿™ä¸ªæ–¹æ¡ˆä¸­recv()æ›´å¤šçš„æ˜¯èµ·åˆ°æ£€æµ‹â€œæ“ä½œæ˜¯å¦å®Œæˆâ€çš„ä½œç”¨ï¼Œå®é™…æ“ä½œç³»ç»Ÿæä¾›äº†æ›´ä¸ºé«˜æ•ˆçš„æ£€æµ‹â€œæ“ä½œæ˜¯å¦å®Œæˆâ€œä½œç”¨çš„æ¥å£ï¼Œä¾‹å¦‚select()å¤šè·¯å¤ç”¨æ¨¡å¼ï¼Œå¯ä»¥ä¸€æ¬¡æ£€æµ‹å¤šä¸ªè¿æ¥æ˜¯å¦æ´»è·ƒã€‚ 4.å¤šè·¯å¤ç”¨IOæœ‰äº›åœ°æ–¹ä¹Ÿç§°è¿™ç§IOæ–¹å¼ä¸ºäº‹ä»¶é©±åŠ¨IOã€‚æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œselect/epollçš„å¥½å¤„å°±åœ¨äºå•ä¸ªprocesså°±å¯ä»¥åŒæ—¶å¤„ç†å¤šä¸ªç½‘ç»œè¿æ¥çš„IOã€‚å®ƒçš„åŸºæœ¬åŸç†å°±æ˜¯select/epollè¿™ä¸ªfunctionä¼šä¸æ–­çš„è½®è¯¢æ‰€è´Ÿè´£çš„æ‰€æœ‰socketï¼Œå½“æŸä¸ªsocketæœ‰æ•°æ®åˆ°è¾¾äº†ï¼Œå°±é€šçŸ¥ç”¨æˆ·è¿›ç¨‹ã€‚å®ƒçš„æµç¨‹å¦‚å›¾ï¼š å½“ç”¨æˆ·è¿›ç¨‹è°ƒç”¨äº†selectï¼Œé‚£ä¹ˆæ•´ä¸ªè¿›ç¨‹ä¼šè¢«blockï¼Œè€ŒåŒæ—¶ï¼Œkernelä¼šâ€œç›‘è§†â€æ‰€æœ‰selectè´Ÿè´£çš„socketï¼Œå½“ä»»ä½•ä¸€ä¸ªsocketä¸­çš„æ•°æ®å‡†å¤‡å¥½äº†ï¼Œselectå°±ä¼šè¿”å›ã€‚è¿™ä¸ªæ—¶å€™ç”¨æˆ·è¿›ç¨‹å†è°ƒç”¨readæ“ä½œï¼Œå°†æ•°æ®ä»kernelæ‹·è´åˆ°ç”¨æˆ·è¿›ç¨‹ã€‚ è¿™ä¸ªå›¾å’Œblocking IOçš„å›¾å…¶å®å¹¶æ²¡æœ‰å¤ªå¤§çš„ä¸åŒï¼Œäº‹å®ä¸Šè¿˜æ›´å·®ä¸€äº›ã€‚å› ä¸ºè¿™é‡Œéœ€è¦ä½¿ç”¨ä¸¤ä¸ªç³»ç»Ÿè°ƒç”¨(selectå’Œrecvfrom)ï¼Œè€Œblocking IOåªè°ƒç”¨äº†ä¸€ä¸ªç³»ç»Ÿè°ƒç”¨(recvfrom)ã€‚ä½†æ˜¯ï¼Œç”¨selectçš„ä¼˜åŠ¿åœ¨äºå®ƒå¯ä»¥åŒæ—¶å¤„ç†å¤šä¸ªconnectionã€‚ å¼ºè°ƒï¼š 1. å¦‚æœå¤„ç†çš„è¿æ¥æ•°ä¸æ˜¯å¾ˆé«˜çš„è¯ï¼Œä½¿ç”¨select/epollçš„web serverä¸ä¸€å®šæ¯”ä½¿ç”¨multi-threading + blocking IOçš„web serveræ€§èƒ½æ›´å¥½ï¼Œå¯èƒ½å»¶è¿Ÿè¿˜æ›´å¤§ã€‚select/epollçš„ä¼˜åŠ¿å¹¶ä¸æ˜¯å¯¹äºå•ä¸ªè¿æ¥èƒ½å¤„ç†å¾—æ›´å¿«ï¼Œè€Œæ˜¯åœ¨äºèƒ½å¤„ç†æ›´å¤šçš„è¿æ¥ã€‚ 2. åœ¨å¤šè·¯å¤ç”¨æ¨¡å‹ä¸­ï¼Œå¯¹äºæ¯ä¸€ä¸ªsocketï¼Œä¸€èˆ¬éƒ½è®¾ç½®æˆä¸ºnon-blockingï¼Œä½†æ˜¯ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæ•´ä¸ªç”¨æˆ·çš„processå…¶å®æ˜¯ä¸€ç›´è¢«blockçš„ã€‚åªä¸è¿‡processæ˜¯è¢«selectè¿™ä¸ªå‡½æ•°blockï¼Œè€Œä¸æ˜¯è¢«socket IOç»™blockã€‚ ç»“è®º: selectçš„ä¼˜åŠ¿åœ¨äºå¯ä»¥å¤„ç†å¤šä¸ªè¿æ¥ï¼Œä¸é€‚ç”¨äºå•ä¸ªè¿æ¥ selectç›‘å¬fdå˜åŒ–çš„è¿‡ç¨‹åˆ†æï¼š 12#ç”¨æˆ·è¿›ç¨‹åˆ›å»ºsocketå¯¹è±¡ï¼Œæ‹·è´ç›‘å¬çš„fdåˆ°å†…æ ¸ç©ºé—´ï¼Œæ¯ä¸€ä¸ªfdä¼šå¯¹åº”ä¸€å¼ ç³»ç»Ÿæ–‡ä»¶è¡¨ï¼Œå†…æ ¸ç©ºé—´çš„fdå“åº”åˆ°æ•°æ®åï¼Œå°±ä¼šå‘é€ä¿¡å·ç»™ç”¨æˆ·è¿›ç¨‹æ•°æ®å·²åˆ°ï¼› #ç”¨æˆ·è¿›ç¨‹å†å‘é€ç³»ç»Ÿè°ƒç”¨ï¼Œæ¯”å¦‚ï¼ˆacceptï¼‰å°†å†…æ ¸ç©ºé—´çš„æ•°æ®copyåˆ°ç”¨æˆ·ç©ºé—´ï¼ŒåŒæ—¶ä½œä¸ºæ¥å—æ•°æ®ç«¯å†…æ ¸ç©ºé—´çš„æ•°æ®æ¸…é™¤ï¼Œè¿™æ ·é‡æ–°ç›‘å¬æ—¶fdå†æœ‰æ–°çš„æ•°æ®åˆå¯ä»¥å“åº”åˆ°äº†ï¼ˆå‘é€ç«¯å› ä¸ºåŸºäºTCPåè®®æ‰€ä»¥éœ€è¦æ”¶åˆ°åº”ç­”åæ‰ä¼šæ¸…é™¤ï¼‰ã€‚ è¯¥æ¨¡å‹çš„ä¼˜ç‚¹ï¼š 1#ç›¸æ¯”å…¶ä»–æ¨¡å‹ï¼Œä½¿ç”¨select() çš„äº‹ä»¶é©±åŠ¨æ¨¡å‹åªç”¨å•çº¿ç¨‹ï¼ˆè¿›ç¨‹ï¼‰æ‰§è¡Œï¼Œå ç”¨èµ„æºå°‘ï¼Œä¸æ¶ˆè€—å¤ªå¤š CPUï¼ŒåŒæ—¶èƒ½å¤Ÿä¸ºå¤šå®¢æˆ·ç«¯æä¾›æœåŠ¡ã€‚å¦‚æœè¯•å›¾å»ºç«‹ä¸€ä¸ªç®€å•çš„äº‹ä»¶é©±åŠ¨çš„æœåŠ¡å™¨ç¨‹åºï¼Œè¿™ä¸ªæ¨¡å‹æœ‰ä¸€å®šçš„å‚è€ƒä»·å€¼ã€‚ è¯¥æ¨¡å‹çš„ç¼ºç‚¹ï¼š 12#é¦–å…ˆselect()æ¥å£å¹¶ä¸æ˜¯å®ç°â€œäº‹ä»¶é©±åŠ¨â€çš„æœ€å¥½é€‰æ‹©ã€‚å› ä¸ºå½“éœ€è¦æ¢æµ‹çš„å¥æŸ„å€¼è¾ƒå¤§æ—¶ï¼Œselect()æ¥å£æœ¬èº«éœ€è¦æ¶ˆè€—å¤§é‡æ—¶é—´å»è½®è¯¢å„ä¸ªå¥æŸ„ã€‚å¾ˆå¤šæ“ä½œç³»ç»Ÿæä¾›äº†æ›´ä¸ºé«˜æ•ˆçš„æ¥å£ï¼Œå¦‚linuxæä¾›äº†epollï¼ŒBSDæä¾›äº†kqueueï¼ŒSolarisæä¾›äº†/dev/pollï¼Œâ€¦ã€‚å¦‚æœéœ€è¦å®ç°æ›´é«˜æ•ˆçš„æœåŠ¡å™¨ç¨‹åºï¼Œç±»ä¼¼epollè¿™æ ·çš„æ¥å£æ›´è¢«æ¨èã€‚é—æ†¾çš„æ˜¯ä¸åŒçš„æ“ä½œç³»ç»Ÿç‰¹ä¾›çš„epollæ¥å£æœ‰å¾ˆå¤§å·®å¼‚ï¼Œæ‰€ä»¥ä½¿ç”¨ç±»ä¼¼äºepollçš„æ¥å£å®ç°å…·æœ‰è¾ƒå¥½è·¨å¹³å°èƒ½åŠ›çš„æœåŠ¡å™¨ä¼šæ¯”è¾ƒå›°éš¾ã€‚#å…¶æ¬¡ï¼Œè¯¥æ¨¡å‹å°†äº‹ä»¶æ¢æµ‹å’Œäº‹ä»¶å“åº”å¤¹æ‚åœ¨ä¸€èµ·ï¼Œä¸€æ—¦äº‹ä»¶å“åº”çš„æ‰§è¡Œä½“åºå¤§ï¼Œåˆ™å¯¹æ•´ä¸ªæ¨¡å‹æ˜¯ç¾éš¾æ€§çš„ã€‚ 5.å¼‚æ­¥IO ç”¨æˆ·è¿›ç¨‹å‘èµ·readæ“ä½œä¹‹åï¼Œç«‹åˆ»å°±å¯ä»¥å¼€å§‹å»åšå…¶å®ƒçš„äº‹ã€‚è€Œå¦ä¸€æ–¹é¢ï¼Œä»kernelçš„è§’åº¦ï¼Œå½“å®ƒå—åˆ°ä¸€ä¸ªasynchronous readä¹‹åï¼Œé¦–å…ˆå®ƒä¼šç«‹åˆ»è¿”å›ï¼Œæ‰€ä»¥ä¸ä¼šå¯¹ç”¨æˆ·è¿›ç¨‹äº§ç”Ÿä»»ä½•blockã€‚ç„¶åï¼Œkernelä¼šç­‰å¾…æ•°æ®å‡†å¤‡å®Œæˆï¼Œç„¶åå°†æ•°æ®æ‹·è´åˆ°ç”¨æˆ·å†…å­˜ï¼Œå½“è¿™ä¸€åˆ‡éƒ½å®Œæˆä¹‹åï¼Œkernelä¼šç»™ç”¨æˆ·è¿›ç¨‹å‘é€ä¸€ä¸ªsignalï¼Œå‘Šè¯‰å®ƒreadæ“ä½œå®Œæˆäº†ã€‚ ç„¶åç”±äºä¸ç¨³å®šç­‰åŸå› å¼‚æ­¥IOç”¨çš„å¹¶ä¸å¤šã€‚","categories":[{"name":"python","slug":"python","permalink":"http://example.com/categories/python/"},{"name":"å¹¶å‘ç¼–ç¨‹","slug":"python/å¹¶å‘ç¼–ç¨‹","permalink":"http://example.com/categories/python/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/"}],"tags":[{"name":"è½¬è½½","slug":"è½¬è½½","permalink":"http://example.com/tags/%E8%BD%AC%E8%BD%BD/"},{"name":"å¹¶å‘ç¼–ç¨‹","slug":"å¹¶å‘ç¼–ç¨‹","permalink":"http://example.com/tags/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/"}]},{"title":"349. ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†","slug":"349-ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†","date":"2020-11-02T01:17:26.000Z","updated":"2022-04-19T10:49:43.730Z","comments":true,"path":"2020/11/02/349-ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†/","link":"","permalink":"http://example.com/2020/11/02/349-%E4%B8%A4%E4%B8%AA%E6%95%B0%E7%BB%84%E7%9A%84%E4%BA%A4%E9%9B%86/","excerpt":"é¢˜ç›®æè¿°ç»™å®šä¸¤ä¸ªæ•°ç»„ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥è®¡ç®—å®ƒä»¬çš„äº¤é›†ã€‚ ç¤ºä¾‹ 1ï¼š 12è¾“å…¥ï¼šnums1 = [1,2,2,1], nums2 = [2,2]è¾“å‡ºï¼š[2] ç¤ºä¾‹ 2ï¼š 12è¾“å…¥ï¼šnums1 = [4,9,5], nums2 = [9,4,9,8,4]è¾“å‡ºï¼š[9,4]","text":"é¢˜ç›®æè¿°ç»™å®šä¸¤ä¸ªæ•°ç»„ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥è®¡ç®—å®ƒä»¬çš„äº¤é›†ã€‚ ç¤ºä¾‹ 1ï¼š 12è¾“å…¥ï¼šnums1 = [1,2,2,1], nums2 = [2,2]è¾“å‡ºï¼š[2] ç¤ºä¾‹ 2ï¼š 12è¾“å…¥ï¼šnums1 = [4,9,5], nums2 = [9,4,9,8,4]è¾“å‡ºï¼š[9,4] è¯´æ˜ï¼š è¾“å‡ºç»“æœä¸­çš„æ¯ä¸ªå…ƒç´ ä¸€å®šæ˜¯å”¯ä¸€çš„ã€‚ æˆ‘ä»¬å¯ä»¥ä¸è€ƒè™‘è¾“å‡ºç»“æœçš„é¡ºåºã€‚ æ€è·¯ä½¿ç”¨é›†åˆc++ä¸­é›†åˆæœ‰åŸºäºçº¢é»‘æ ‘çš„setè¿˜æœ‰å“ˆå¸Œçš„unordered_setï¼Œä½¿ç”¨é›†åˆå¯ä»¥å»é™¤é‡å¤ã€‚ å°†nums1æ”¾å…¥å“ˆå¸Œè¡¨s1ä¸­ï¼Œéå†nums2ï¼Œè‹¥å…ƒç´ åœ¨s1ä¸­ï¼ŒåŠ å…¥ç»“æœé›†åˆansä¸­ï¼Œæœ€åå°†å…¶è½¬åŒ–ä¸ºvectorã€‚ã€ 1234567891011121314class Solution &#123;public: vector&lt;int&gt; intersection(vector&lt;int&gt;&amp; nums1, vector&lt;int&gt;&amp; nums2) &#123; unordered_set&lt;int&gt; s1(nums1.begin(), nums1.end()); unordered_set&lt;int&gt; ans; for(auto num:nums2) &#123; if(s1.find(num) != s1.end()) &#123; ans.insert(num); &#125; &#125; vector&lt;int&gt; res(ans.begin(), ans.end()); return res; &#125;&#125;; æ’åºï¼ŒåŒæŒ‡é’ˆæ’åºä¹‹ååˆ©ç”¨åŒæŒ‡é’ˆï¼Œæ³¨æ„åŠ å…¥æ—¶å»é‡å¤ã€‚ 123456789101112131415161718192021class Solution &#123;public: vector&lt;int&gt; intersection(vector&lt;int&gt;&amp; nums1, vector&lt;int&gt;&amp; nums2) &#123; sort(nums1.begin(), nums1.end()); sort(nums2.begin(), nums2.end()); vector&lt;int&gt; res; int i = 0, j = 0, n1 = nums1.size(), n2 = nums2.size(); while(i &lt; n1 &amp;&amp; j &lt; n2) &#123; // å»é‡å¤ if(nums1[i]==nums2[j] &amp;&amp; (res.size()==0 || res.back() != nums1[i])) &#123; res.push_back(nums1[i]); ++i,++j; &#125; else if(nums1[i] &gt; nums2[j]) &#123; ++j; &#125; else &#123; ++i; &#125; &#125; return res; &#125;&#125;;","categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/categories/LeetCode/"},{"name":"å“ˆå¸Œ","slug":"LeetCode/å“ˆå¸Œ","permalink":"http://example.com/categories/LeetCode/%E5%93%88%E5%B8%8C/"}],"tags":[{"name":"æ¯æ—¥ä¸€é¢˜","slug":"æ¯æ—¥ä¸€é¢˜","permalink":"http://example.com/tags/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/"},{"name":"å“ˆå¸Œ","slug":"å“ˆå¸Œ","permalink":"http://example.com/tags/%E5%93%88%E5%B8%8C/"},{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/tags/LeetCode/"},{"name":"åŒæŒ‡é’ˆ","slug":"åŒæŒ‡é’ˆ","permalink":"http://example.com/tags/%E5%8F%8C%E6%8C%87%E9%92%88/"},{"name":"æ’åº","slug":"æ’åº","permalink":"http://example.com/tags/%E6%8E%92%E5%BA%8F/"}]},{"title":"140. å•è¯æ‹†åˆ† II","slug":"140-å•è¯æ‹†åˆ†-II","date":"2020-11-01T09:47:56.000Z","updated":"2022-04-19T10:47:38.990Z","comments":true,"path":"2020/11/01/140-å•è¯æ‹†åˆ†-II/","link":"","permalink":"http://example.com/2020/11/01/140-%E5%8D%95%E8%AF%8D%E6%8B%86%E5%88%86-II/","excerpt":"é¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªéç©ºå­—ç¬¦ä¸² s å’Œä¸€ä¸ªåŒ…å«éç©ºå•è¯åˆ—è¡¨çš„å­—å…¸ wordDictï¼Œåœ¨å­—ç¬¦ä¸²ä¸­å¢åŠ ç©ºæ ¼æ¥æ„å»ºä¸€ä¸ªå¥å­ï¼Œä½¿å¾—å¥å­ä¸­æ‰€æœ‰çš„å•è¯éƒ½åœ¨è¯å…¸ä¸­ã€‚è¿”å›æ‰€æœ‰è¿™äº›å¯èƒ½çš„å¥å­ã€‚ è¯´æ˜ï¼š åˆ†éš”æ—¶å¯ä»¥é‡å¤ä½¿ç”¨å­—å…¸ä¸­çš„å•è¯ã€‚ ä½ å¯ä»¥å‡è®¾å­—å…¸ä¸­æ²¡æœ‰é‡å¤çš„å•è¯ã€‚","text":"é¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªéç©ºå­—ç¬¦ä¸² s å’Œä¸€ä¸ªåŒ…å«éç©ºå•è¯åˆ—è¡¨çš„å­—å…¸ wordDictï¼Œåœ¨å­—ç¬¦ä¸²ä¸­å¢åŠ ç©ºæ ¼æ¥æ„å»ºä¸€ä¸ªå¥å­ï¼Œä½¿å¾—å¥å­ä¸­æ‰€æœ‰çš„å•è¯éƒ½åœ¨è¯å…¸ä¸­ã€‚è¿”å›æ‰€æœ‰è¿™äº›å¯èƒ½çš„å¥å­ã€‚ è¯´æ˜ï¼š åˆ†éš”æ—¶å¯ä»¥é‡å¤ä½¿ç”¨å­—å…¸ä¸­çš„å•è¯ã€‚ ä½ å¯ä»¥å‡è®¾å­—å…¸ä¸­æ²¡æœ‰é‡å¤çš„å•è¯ã€‚ ç¤ºä¾‹ 1ï¼š 12345678è¾“å…¥:s = &quot;catsanddog&quot;wordDict = [&quot;cat&quot;, &quot;cats&quot;, &quot;and&quot;, &quot;sand&quot;, &quot;dog&quot;]è¾“å‡º:[ &quot;cats and dog&quot;, &quot;cat sand dog&quot;] ç¤ºä¾‹ 2ï¼š 12345678910è¾“å…¥:s = &quot;pineapplepenapple&quot;wordDict = [&quot;apple&quot;, &quot;pen&quot;, &quot;applepen&quot;, &quot;pine&quot;, &quot;pineapple&quot;]è¾“å‡º:[ &quot;pine apple pen apple&quot;, &quot;pineapple pen apple&quot;, &quot;pine applepen apple&quot;]è§£é‡Š: æ³¨æ„ä½ å¯ä»¥é‡å¤ä½¿ç”¨å­—å…¸ä¸­çš„å•è¯ã€‚ ç¤ºä¾‹ 3ï¼š 12345è¾“å…¥:s = &quot;catsandog&quot;wordDict = [&quot;cats&quot;, &quot;dog&quot;, &quot;sand&quot;, &quot;and&quot;, &quot;cat&quot;]è¾“å‡º:[] æ€è·¯åˆ¤æ–­æ˜¯å¦å¯åˆ†ç”¨åŠ¨æ€è§„åˆ’ï¼Œæ±‚å…·ä½“è§£ä½¿ç”¨å›æº¯ã€‚ ä¸139. å•è¯æ‹†åˆ†æ€æƒ³ç±»ä¼¼ï¼Œ139é¢˜å¯ä»¥ä½¿ç”¨åŠ¨æ€è§„åˆ’çš„æ–¹æ³•ï¼Œæˆ–è®°å¿†åŒ–æœç´¢ã€‚ä½†æ˜¯æ­¤é¢˜ç”±äºæ ·ä¾‹ç‰¹æ®Šï¼Œå¯èƒ½å‡ºç°å‰åŠæ®µå¾ˆå¤šè§£ï¼ŒååŠæ®µæ— è§£çš„æƒ…å†µï¼Œä¾‹å¦‚ä¸‹é¢çš„æµ‹è¯•ç”¨ä¾‹ä¼šå¯¼è‡´è¿è¡Œè¶…æ—¶ã€‚ 12s = &quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaabaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot;wordDict = [&quot;a&quot;,&quot;aa&quot;,&quot;aaa&quot;,&quot;aaaa&quot;,&quot;aaaaa&quot;,&quot;aaaaaa&quot;,&quot;aaaaaaa&quot;,&quot;aaaaaaaa&quot;,&quot;aaaaaaaaa&quot;,&quot;aaaaaaaaaa&quot;] è®°å¿†åŒ–æœç´¢ vs. åŠ¨æ€è§„åˆ’ æš´åŠ›æœç´¢ä¼šäº§ç”Ÿå¾ˆå¤šé‡å¤çš„å­é—®é¢˜ï¼Œè®°å¿†åŒ–æœç´¢è®°å½•æœç´¢ç»“æœï¼Œå†æ¬¡è¿›å…¥ç›¸åŒçš„å­é—®é¢˜ç›´æ¥è¿”å›ç»“æœï¼ˆç”¨ç©ºé—´å»æ¢æ—¶é—´ï¼Œä¸åŠ¨æ€è§„åˆ’ç±»ä¼¼ï¼‰ã€‚ è®°å¿†åŒ–æœç´¢æ˜¯è‡ªé¡¶å‘ä¸‹æ±‚è§£ï¼ŒåŠ¨æ€è§„åˆ’æ˜¯è‡ªåº•å‘ä¸Šã€‚æœ¬é¢˜ä¸­ä½¿ç”¨è‡ªé¡¶å‘ä¸‹çš„æ–¹æ³•å°†ä¸å¯æ‹†åˆ†çš„æƒ…å†µè‡ªåŠ¨å‰ªæï¼Œæ•ˆç‡ä¼˜äºè‡ªåº•å‘ä¸Šçš„åŠ¨æ€è§„åˆ’ã€‚ ä»£ç  ä¸ºäº†åŠ å¿«åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦åœ¨å•è¯åˆ—è¡¨ä¸­ï¼Œä½¿ç”¨å“ˆå¸Œæ–¹æ³•unordered_setåŠ å¿«æŸ¥æ‰¾ã€‚ ans[i]ä¿å­˜ä»¥iä¸ºå¼€å§‹ä¸‹æ ‡çš„å­—ç¬¦ä¸²sæ„æˆçš„å•è¯æ‹†åˆ†ç»“æœã€‚ seen[i]è¡¨ç¤ºä»¥iä¸ºå¼€å§‹ä¸‹æ ‡çš„å­—ç¬¦ä¸²sæ˜¯å¦è¢«æœç´¢ 1234567891011121314151617181920212223242526272829303132333435363738class Solution &#123; vector&lt;int&gt; seen; vector&lt;vector&lt;string&gt;&gt; ans; unordered_set&lt;string&gt; _set; int n;public: vector&lt;string&gt; wordBreak(string s, vector&lt;string&gt;&amp; wordDict) &#123; n = s.size(); seen = vector&lt;int&gt;(n + 1); ans = vector&lt;vector&lt;string&gt;&gt;(n + 1, vector&lt;string&gt;()); // å“ˆå¸Œsetï¼Œå¿«é€ŸæŸ¥æ‰¾ _set = unordered_set(wordDict.begin(), wordDict.end()); backtrack(s, 0); return ans[0]; &#125; void backtrack(const string&amp; s, int index) &#123; if(index &gt;= n || seen[index]) return; seen[index] = 1; // substr(index, length)åˆ‡å‰²çš„å•è¯åŒºé—´ä¸º[index, index+length) // è¦å–ç­‰å·ï¼Œå› ä¸ºi=næ—¶ï¼Œå…¨éƒ¨åŒ¹é…ã€‚ for(int i = index + 1;i &lt;= n;i++) &#123; auto st = s.substr(index, i - index); // æ‰¾åˆ°äº† if(_set.find(st) != _set.end()) &#123; if(i == n) &#123; ans[index].push_back(st); &#125; else &#123; backtrack(s, i); if(ans[i].size() != 0) &#123; for(auto sit:ans[i]) &#123; ans[index].push_back(st+&quot; &quot;+sit); &#125; &#125; &#125; &#125; &#125; &#125;&#125;;","categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/categories/LeetCode/"},{"name":"æ¨¡æ‹Ÿ","slug":"LeetCode/æ¨¡æ‹Ÿ","permalink":"http://example.com/categories/LeetCode/%E6%A8%A1%E6%8B%9F/"},{"name":"åŠ¨æ€è§„åˆ’","slug":"LeetCode/åŠ¨æ€è§„åˆ’","permalink":"http://example.com/categories/LeetCode/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"},{"name":"è®°å¿†åŒ–æœç´¢","slug":"LeetCode/è®°å¿†åŒ–æœç´¢","permalink":"http://example.com/categories/LeetCode/%E8%AE%B0%E5%BF%86%E5%8C%96%E6%90%9C%E7%B4%A2/"}],"tags":[{"name":"æ¯æ—¥ä¸€é¢˜","slug":"æ¯æ—¥ä¸€é¢˜","permalink":"http://example.com/tags/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/"},{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/tags/LeetCode/"},{"name":"DP","slug":"DP","permalink":"http://example.com/tags/DP/"},{"name":"å­—ç¬¦ä¸²","slug":"å­—ç¬¦ä¸²","permalink":"http://example.com/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/"},{"name":"å›æº¯","slug":"å›æº¯","permalink":"http://example.com/tags/%E5%9B%9E%E6%BA%AF/"},{"name":"è®°å¿†åŒ–æœç´¢","slug":"è®°å¿†åŒ–æœç´¢","permalink":"http://example.com/tags/%E8%AE%B0%E5%BF%86%E5%8C%96%E6%90%9C%E7%B4%A2/"}]},{"title":"463. å²›å±¿çš„å‘¨é•¿","slug":"463-å²›å±¿çš„å‘¨é•¿","date":"2020-10-30T01:28:04.000Z","updated":"2022-04-19T10:50:22.110Z","comments":true,"path":"2020/10/30/463-å²›å±¿çš„å‘¨é•¿/","link":"","permalink":"http://example.com/2020/10/30/463-%E5%B2%9B%E5%B1%BF%E7%9A%84%E5%91%A8%E9%95%BF/","excerpt":"é¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªåŒ…å« 0 å’Œ 1 çš„äºŒç»´ç½‘æ ¼åœ°å›¾ï¼Œå…¶ä¸­ 1 è¡¨ç¤ºé™†åœ° 0 è¡¨ç¤ºæ°´åŸŸã€‚ ç½‘æ ¼ä¸­çš„æ ¼å­æ°´å¹³å’Œå‚ç›´æ–¹å‘ç›¸è¿ï¼ˆå¯¹è§’çº¿æ–¹å‘ä¸ç›¸è¿ï¼‰ã€‚æ•´ä¸ªç½‘æ ¼è¢«æ°´å®Œå…¨åŒ…å›´ï¼Œä½†å…¶ä¸­æ°å¥½æœ‰ä¸€ä¸ªå²›å±¿ï¼ˆæˆ–è€…è¯´ï¼Œä¸€ä¸ªæˆ–å¤šä¸ªè¡¨ç¤ºé™†åœ°çš„æ ¼å­ç›¸è¿ç»„æˆçš„å²›å±¿ï¼‰ã€‚ å²›å±¿ä¸­æ²¡æœ‰â€œæ¹–â€ï¼ˆâ€œæ¹–â€ æŒ‡æ°´åŸŸåœ¨å²›å±¿å†…éƒ¨ä¸”ä¸å’Œå²›å±¿å‘¨å›´çš„æ°´ç›¸è¿ï¼‰ã€‚æ ¼å­æ˜¯è¾¹é•¿ä¸º 1 çš„æ­£æ–¹å½¢ã€‚ç½‘æ ¼ä¸ºé•¿æ–¹å½¢ï¼Œä¸”å®½åº¦å’Œé«˜åº¦å‡ä¸è¶…è¿‡ 100 ã€‚è®¡ç®—è¿™ä¸ªå²›å±¿çš„å‘¨é•¿ã€‚","text":"é¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªåŒ…å« 0 å’Œ 1 çš„äºŒç»´ç½‘æ ¼åœ°å›¾ï¼Œå…¶ä¸­ 1 è¡¨ç¤ºé™†åœ° 0 è¡¨ç¤ºæ°´åŸŸã€‚ ç½‘æ ¼ä¸­çš„æ ¼å­æ°´å¹³å’Œå‚ç›´æ–¹å‘ç›¸è¿ï¼ˆå¯¹è§’çº¿æ–¹å‘ä¸ç›¸è¿ï¼‰ã€‚æ•´ä¸ªç½‘æ ¼è¢«æ°´å®Œå…¨åŒ…å›´ï¼Œä½†å…¶ä¸­æ°å¥½æœ‰ä¸€ä¸ªå²›å±¿ï¼ˆæˆ–è€…è¯´ï¼Œä¸€ä¸ªæˆ–å¤šä¸ªè¡¨ç¤ºé™†åœ°çš„æ ¼å­ç›¸è¿ç»„æˆçš„å²›å±¿ï¼‰ã€‚ å²›å±¿ä¸­æ²¡æœ‰â€œæ¹–â€ï¼ˆâ€œæ¹–â€ æŒ‡æ°´åŸŸåœ¨å²›å±¿å†…éƒ¨ä¸”ä¸å’Œå²›å±¿å‘¨å›´çš„æ°´ç›¸è¿ï¼‰ã€‚æ ¼å­æ˜¯è¾¹é•¿ä¸º 1 çš„æ­£æ–¹å½¢ã€‚ç½‘æ ¼ä¸ºé•¿æ–¹å½¢ï¼Œä¸”å®½åº¦å’Œé«˜åº¦å‡ä¸è¶…è¿‡ 100 ã€‚è®¡ç®—è¿™ä¸ªå²›å±¿çš„å‘¨é•¿ã€‚ ç¤ºä¾‹ : 12345678è¾“å…¥:[[0,1,0,0], [1,1,1,0], [0,1,0,0], [1,1,0,0]]è¾“å‡º: 16è§£é‡Š: å®ƒçš„å‘¨é•¿æ˜¯ä¸‹é¢å›¾ç‰‡ä¸­çš„ 16 ä¸ªé»„è‰²çš„è¾¹ï¼š æ€è·¯ è¿­ä»£æ³•ï¼Œåˆ¤æ–­æ¯ä¸ªæ ¼å­å››å‘¨çš„çŠ¶æ€ã€‚ lambdaè¡¨è¾¾å¼ 1[å‡½æ•°å¯¹è±¡å‚æ•°] (æ“ä½œç¬¦é‡è½½å‡½æ•°å‚æ•°) mutable æˆ– exception å£°æ˜ -&gt; è¿”å›å€¼ç±»å‹ &#123;å‡½æ•°ä½“&#125; å¯ä»¥çœ‹åˆ°ï¼ŒLambda ä¸»è¦åˆ†ä¸ºäº”ä¸ªéƒ¨åˆ†ï¼š[å‡½æ•°å¯¹è±¡å‚æ•°]ã€(æ“ä½œç¬¦é‡è½½å‡½æ•°å‚æ•°)ã€mutable æˆ– exception å£°æ˜ã€-&gt; è¿”å›å€¼ç±»å‹ã€{å‡½æ•°ä½“}. è¯¦ç»†å¯ä»¥çœ‹è¿™ç¯‡åšå®¢ C++ä¹‹Lambdaè¡¨è¾¾å¼ C++ä»£ç 12345678910111213141516171819202122class Solution &#123;public: int islandPerimeter(vector&lt;vector&lt;int&gt;&gt;&amp; grid) &#123; int r = grid.size(), c = grid[0].size(); auto check = [&amp;](int x, int y) -&gt; int &#123; if(grid[x][y]==0) return 0; int res = 4; if(x &gt; 0 &amp;&amp; grid[x - 1][y]==1) --res; if(x &lt; r - 1 &amp;&amp; grid[x + 1][y]==1) --res; if(y &gt; 0 &amp;&amp; grid[x][y - 1]==1) --res; if(y &lt; c - 1 &amp;&amp; grid[x][y + 1]==1) --res; return res; &#125;; int ans = 0; for(int i = 0;i &lt; r;++i) &#123; for(int j = 0;j &lt; c;++j) &#123; ans += check(i, j); &#125; &#125; return ans; &#125;&#125;;","categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/categories/LeetCode/"},{"name":"æ¨¡æ‹Ÿ","slug":"LeetCode/æ¨¡æ‹Ÿ","permalink":"http://example.com/categories/LeetCode/%E6%A8%A1%E6%8B%9F/"}],"tags":[{"name":"æ¯æ—¥ä¸€é¢˜","slug":"æ¯æ—¥ä¸€é¢˜","permalink":"http://example.com/tags/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/"},{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/tags/LeetCode/"},{"name":"è¿­ä»£","slug":"è¿­ä»£","permalink":"http://example.com/tags/%E8%BF%AD%E4%BB%A3/"}]},{"title":"142. ç¯å½¢é“¾è¡¨ II","slug":"142-ç¯å½¢é“¾è¡¨-II","date":"2020-10-29T14:33:18.000Z","updated":"2022-04-19T10:56:17.960Z","comments":true,"path":"2020/10/29/142-ç¯å½¢é“¾è¡¨-II/","link":"","permalink":"http://example.com/2020/10/29/142-%E7%8E%AF%E5%BD%A2%E9%93%BE%E8%A1%A8-II/","excerpt":"é¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œè¿”å›é“¾è¡¨å¼€å§‹å…¥ç¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚ å¦‚æœé“¾è¡¨æ— ç¯ï¼Œåˆ™è¿”å› nullã€‚ ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•´æ•° pos æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰ã€‚ å¦‚æœ pos æ˜¯ -1ï¼Œåˆ™åœ¨è¯¥é“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚æ³¨æ„ï¼Œpos ä»…ä»…æ˜¯ç”¨äºæ ‡è¯†ç¯çš„æƒ…å†µï¼Œå¹¶ä¸ä¼šä½œä¸ºå‚æ•°ä¼ é€’åˆ°å‡½æ•°ä¸­ã€‚ è¯´æ˜ï¼šä¸å…è®¸ä¿®æ”¹ç»™å®šçš„é“¾è¡¨ã€‚ è¿›é˜¶ï¼š ä½ æ˜¯å¦å¯ä»¥ä½¿ç”¨ O(1) ç©ºé—´è§£å†³æ­¤é¢˜ï¼Ÿ","text":"é¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œè¿”å›é“¾è¡¨å¼€å§‹å…¥ç¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚ å¦‚æœé“¾è¡¨æ— ç¯ï¼Œåˆ™è¿”å› nullã€‚ ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•´æ•° pos æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰ã€‚ å¦‚æœ pos æ˜¯ -1ï¼Œåˆ™åœ¨è¯¥é“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚æ³¨æ„ï¼Œpos ä»…ä»…æ˜¯ç”¨äºæ ‡è¯†ç¯çš„æƒ…å†µï¼Œå¹¶ä¸ä¼šä½œä¸ºå‚æ•°ä¼ é€’åˆ°å‡½æ•°ä¸­ã€‚ è¯´æ˜ï¼šä¸å…è®¸ä¿®æ”¹ç»™å®šçš„é“¾è¡¨ã€‚ è¿›é˜¶ï¼š ä½ æ˜¯å¦å¯ä»¥ä½¿ç”¨ O(1) ç©ºé—´è§£å†³æ­¤é¢˜ï¼Ÿ ç¤ºä¾‹ 1ï¼š 123è¾“å…¥ï¼šhead = [3,2,0,-4], pos = 1è¾“å‡ºï¼šè¿”å›ç´¢å¼•ä¸º 1 çš„é“¾è¡¨èŠ‚ç‚¹è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬äºŒä¸ªèŠ‚ç‚¹ã€‚ ç¤ºä¾‹ 2ï¼š 123è¾“å…¥ï¼šhead = [1,2], pos = 0è¾“å‡ºï¼šè¿”å›ç´¢å¼•ä¸º 0 çš„é“¾è¡¨èŠ‚ç‚¹è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚ ç¤ºä¾‹ 3ï¼š 123è¾“å…¥ï¼šhead = [1], pos = -1è¾“å‡ºï¼šè¿”å› nullè§£é‡Šï¼šé“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚ æç¤ºï¼š é“¾è¡¨ä¸­èŠ‚ç‚¹çš„æ•°ç›®èŒƒå›´åœ¨èŒƒå›´ [0, 104] å†… -105 &lt;= Node.val &lt;= 105 pos çš„å€¼ä¸º -1 æˆ–è€…é“¾è¡¨ä¸­çš„ä¸€ä¸ªæœ‰æ•ˆç´¢å¼• è§£é¢˜æ€è·¯ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆï¼Œå¿«æŒ‡é’ˆæ¯æ¬¡èµ°2æ­¥ï¼Œæ…¢æŒ‡é’ˆæ¯æ¬¡èµ°1æ­¥ã€‚1. å¦‚æœæœ‰ç¯å¿…å®šä¼šç›¸é‡ã€‚è¯æ˜ï¼š è®¾å¿«æŒ‡é’ˆé€Ÿåº¦$v{fast}=2$ï¼Œæ…¢æŒ‡é’ˆé€Ÿåº¦$v{slow}=1$ï¼Œè¡Œèµ°æ—¶é—´ä¸º$t$ï¼Œä¸¤è€…çš„è·ç¦»å·®ä¸º$d$ï¼Œç¯çš„å‘¨é•¿ä¸º$L$ï¼Œç¯ä¹‹å‰çš„è·¯å¾„é•¿åº¦ä¸º$S$ã€‚ æ˜“è§$d=(v{fast}-v{slow})*t=t$ï¼Œå› ä¸º$t$çš„å€¼æ˜¯è¿ç»­é€’å¢æ•´æ•°ï¼Œè‹¥æœ‰ç¯ï¼Œåˆ™å¿…å®šå­˜åœ¨æŸä¸€æ—¶åˆ»$t=L$ï¼Œå³å¿…å®šç›¸é‡ã€‚ 2. ç›¸é‡æ—¶åˆ»æ…¢æŒ‡é’ˆçš„ä½ç½®ç›¸å¯¹äºå…¥å£èµ°äº†$L-S$è¯æ˜ï¼š æ…¢æŒ‡é’ˆåœ¨èµ°$S$åˆ°è¾¾ç¯å…¥å£æ—¶ï¼Œç”±äºå¿«æŒ‡é’ˆé€Ÿåº¦æ˜¯æ…¢æŒ‡é’ˆçš„ä¸¤å€ï¼Œå› æ­¤å¿«æŒ‡é’ˆæ­¤æ—¶å·²åœ¨ç¯ä¸­èµ°äº†$S$ã€‚æ­¤æ—¶ä¸¤è€…éƒ½åœ¨ç¯ä¸­ï¼Œå¼€å§‹è¿›è¡Œè¿½é€ï¼Œè®¾å½“å‰æ—¶åˆ»$t=0$ã€‚ å› ä¸ºéƒ½åœ¨ç¯ä¸­ï¼Œå¿«æŒ‡é’ˆè¿½æ…¢æŒ‡é’ˆï¼Œå¯ä»¥è®¤ä¸ºå¿«æŒ‡é’ˆè½åæ…¢æŒ‡é’ˆ$L-S$ï¼Œå› æ­¤ç›¸é‡æ—¶éœ€è¦æ»¡è¶³$(v{fast}-v{slow})*t=L-S$ï¼Œå³$t=L-S$æ—¶ç›¸é‡ï¼Œåˆå› ä¸ºæ…¢æŒ‡é’ˆé€Ÿåº¦ä¸º$1$ï¼Œå› æ­¤ç›¸é‡æ—¶æ…¢æŒ‡é’ˆç›¸å¯¹äºç¯å…¥å£èµ°äº†$L-S$ã€‚ 3. ç›¸é‡åæ…¢æŒ‡é’ˆå†èµ°$S$å³åˆ°è¾¾ç¯å…¥å£ å¯ä»¥å†ä½¿ç”¨æŒ‡é’ˆtä»headå¼€å§‹è¡Œè¿›ï¼Œtå’Œæ…¢æŒ‡é’ˆåŒæ­¥èµ°$S$ï¼Œä¸¤è€…ç›¸é‡ï¼Œç›¸é‡ä½ç½®ä¸ºç¯å…¥å£ã€‚ C++ä»£ç 1234567891011121314151617181920212223242526272829/** * Definition for singly-linked list. * struct ListNode &#123; * int val; * ListNode *next; * ListNode(int x) : val(x), next(NULL) &#123;&#125; * &#125;; */class Solution &#123;public: ListNode *detectCycle(ListNode *head) &#123; if(head==nullptr) return head; ListNode *fast, *slow, *t; fast = slow = t = head; do &#123; fast = fast-&gt;next; if(fast &amp;&amp; fast-&gt;next) fast = fast-&gt;next; else return nullptr; slow = slow-&gt;next; &#125;while(slow != fast); while(t!=slow) &#123; t = t-&gt;next; slow = slow-&gt;next; &#125; return t; &#125;&#125;;","categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/categories/LeetCode/"},{"name":"é“¾è¡¨","slug":"LeetCode/é“¾è¡¨","permalink":"http://example.com/categories/LeetCode/%E9%93%BE%E8%A1%A8/"}],"tags":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/tags/LeetCode/"},{"name":"é“¾è¡¨","slug":"é“¾è¡¨","permalink":"http://example.com/tags/%E9%93%BE%E8%A1%A8/"},{"name":"åŒæŒ‡é’ˆ","slug":"åŒæŒ‡é’ˆ","permalink":"http://example.com/tags/%E5%8F%8C%E6%8C%87%E9%92%88/"}]},{"title":"1529. ç¯æ³¡å¼€å…³ IV","slug":"1529-ç¯æ³¡å¼€å…³-IV","date":"2020-10-29T14:09:39.000Z","updated":"2022-04-19T10:53:15.600Z","comments":true,"path":"2020/10/29/1529-ç¯æ³¡å¼€å…³-IV/","link":"","permalink":"http://example.com/2020/10/29/1529-%E7%81%AF%E6%B3%A1%E5%BC%80%E5%85%B3-IV/","excerpt":"é¢˜ç›®æè¿°æˆ¿é—´ä¸­æœ‰ n ä¸ªç¯æ³¡ï¼Œç¼–å·ä» 0 åˆ° n-1 ï¼Œè‡ªå·¦å‘å³æ’æˆä¸€è¡Œã€‚æœ€å¼€å§‹çš„æ—¶å€™ï¼Œæ‰€æœ‰çš„ç¯æ³¡éƒ½æ˜¯ å…³ ç€çš„ã€‚ è¯·ä½ è®¾æ³•ä½¿å¾—ç¯æ³¡çš„å¼€å…³çŠ¶æ€å’Œ target æè¿°çš„çŠ¶æ€ä¸€è‡´ï¼Œå…¶ä¸­ target[i] ç­‰äº 1 ç¬¬ i ä¸ªç¯æ³¡æ˜¯å¼€ç€çš„ï¼Œç­‰äº 0 æ„å‘³ç€ç¬¬ i ä¸ªç¯æ˜¯å…³ç€çš„ã€‚ æœ‰ä¸€ä¸ªå¼€å…³å¯ä»¥ç”¨äºç¿»è½¬ç¯æ³¡çš„çŠ¶æ€ï¼Œç¿»è½¬æ“ä½œå®šä¹‰å¦‚ä¸‹ï¼š é€‰æ‹©å½“å‰é…ç½®ä¸‹çš„ä»»æ„ä¸€ä¸ªç¯æ³¡ï¼ˆä¸‹æ ‡ä¸º i ï¼‰ ç¿»è½¬ä¸‹æ ‡ä» i åˆ° n-1 çš„æ¯ä¸ªç¯æ³¡ ç¿»è½¬æ—¶ï¼Œå¦‚æœç¯æ³¡çš„çŠ¶æ€ä¸º 0 å°±å˜ä¸º 1ï¼Œä¸º 1 å°±å˜ä¸º 0 ã€‚ è¿”å›è¾¾æˆ target æè¿°çš„çŠ¶æ€æ‰€éœ€çš„ æœ€å°‘ ç¿»è½¬æ¬¡æ•°ã€‚","text":"é¢˜ç›®æè¿°æˆ¿é—´ä¸­æœ‰ n ä¸ªç¯æ³¡ï¼Œç¼–å·ä» 0 åˆ° n-1 ï¼Œè‡ªå·¦å‘å³æ’æˆä¸€è¡Œã€‚æœ€å¼€å§‹çš„æ—¶å€™ï¼Œæ‰€æœ‰çš„ç¯æ³¡éƒ½æ˜¯ å…³ ç€çš„ã€‚ è¯·ä½ è®¾æ³•ä½¿å¾—ç¯æ³¡çš„å¼€å…³çŠ¶æ€å’Œ target æè¿°çš„çŠ¶æ€ä¸€è‡´ï¼Œå…¶ä¸­ target[i] ç­‰äº 1 ç¬¬ i ä¸ªç¯æ³¡æ˜¯å¼€ç€çš„ï¼Œç­‰äº 0 æ„å‘³ç€ç¬¬ i ä¸ªç¯æ˜¯å…³ç€çš„ã€‚ æœ‰ä¸€ä¸ªå¼€å…³å¯ä»¥ç”¨äºç¿»è½¬ç¯æ³¡çš„çŠ¶æ€ï¼Œç¿»è½¬æ“ä½œå®šä¹‰å¦‚ä¸‹ï¼š é€‰æ‹©å½“å‰é…ç½®ä¸‹çš„ä»»æ„ä¸€ä¸ªç¯æ³¡ï¼ˆä¸‹æ ‡ä¸º i ï¼‰ ç¿»è½¬ä¸‹æ ‡ä» i åˆ° n-1 çš„æ¯ä¸ªç¯æ³¡ ç¿»è½¬æ—¶ï¼Œå¦‚æœç¯æ³¡çš„çŠ¶æ€ä¸º 0 å°±å˜ä¸º 1ï¼Œä¸º 1 å°±å˜ä¸º 0 ã€‚ è¿”å›è¾¾æˆ target æè¿°çš„çŠ¶æ€æ‰€éœ€çš„ æœ€å°‘ ç¿»è½¬æ¬¡æ•°ã€‚ ç¤ºä¾‹ 1ï¼š 1234567è¾“å…¥ï¼štarget = &quot;10111&quot;è¾“å‡ºï¼š3è§£é‡Šï¼šåˆå§‹é…ç½® &quot;00000&quot;.ä»ç¬¬ 3 ä¸ªç¯æ³¡ï¼ˆä¸‹æ ‡ä¸º 2ï¼‰å¼€å§‹ç¿»è½¬ &quot;00000&quot; -&gt; &quot;00111&quot;ä»ç¬¬ 1 ä¸ªç¯æ³¡ï¼ˆä¸‹æ ‡ä¸º 0ï¼‰å¼€å§‹ç¿»è½¬ &quot;00111&quot; -&gt; &quot;11000&quot;ä»ç¬¬ 2 ä¸ªç¯æ³¡ï¼ˆä¸‹æ ‡ä¸º 1ï¼‰å¼€å§‹ç¿»è½¬ &quot;11000&quot; -&gt; &quot;10111&quot;è‡³å°‘éœ€è¦ç¿»è½¬ 3 æ¬¡æ‰èƒ½è¾¾æˆ target æè¿°çš„çŠ¶æ€ ç¤ºä¾‹ 2ï¼š 123è¾“å…¥ï¼štarget = &quot;101&quot;è¾“å‡ºï¼š3è§£é‡Šï¼š&quot;000&quot; -&gt; &quot;111&quot; -&gt; &quot;100&quot; -&gt; &quot;101&quot;. ç¤ºä¾‹ 3ï¼š 12è¾“å…¥ï¼štarget = &quot;00000&quot;è¾“å‡ºï¼š0 ç¤ºä¾‹ 4ï¼š 12è¾“å…¥ï¼štarget = &quot;001011101&quot;è¾“å‡ºï¼š5 æç¤ºï¼š 1 &lt;= target.length &lt;= 10^5 target[i] == &#39;0&#39; æˆ–è€… target[i] == &#39;1&#39; æ€è·¯åŠ¨æ€è§„åˆ’ $dp[i][0]$è¡¨ç¤ºä»ç¬¬iä¸ªç¯æ³¡åˆ°æœ«å°¾è½¬æ¢ä¸ºå’Œç›®æ ‡çŠ¶æ€ç›¸åŒçš„éœ€è¦çš„æ¬¡æ•°ï¼Œ$0\\leq i &lt; n$ $dp[i][1]$è¡¨ç¤ºä»ç¬¬iä¸ªç¯æ³¡åˆ°æœ«å°¾è½¬æ¢ä¸ºå’Œç›®æ ‡çŠ¶æ€ç›¸åçš„éœ€è¦çš„æ¬¡æ•°ï¼Œ$0\\leq i &lt; n$çŠ¶æ€è½¬ç§»æ–¹ç¨‹ dp[i][0] = \\begin {cases} dp[i+1][0],&\\text{target[i]='0'} \\\\ dp[i+1][1]+1,&\\text{target[i]='1'} \\end{cases} dp[i][1] = \\begin {cases} dp[i+1][0]+1,&\\text{target[i]='0'} \\\\ dp[i+1][1],&\\text{target[i]='1'} \\end{cases} dp[n][0] = dp[n][1] = 0 Pythonä»£ç 123456789101112class Solution: def minFlips(self, target: str) -&gt; int: dp = [[0]*2 for _ in range(len(target)+1)] for i in range(len(target)-1,-1,-1): # print(i,end = &#x27;,&#x27;) if target[i] == &#x27;0&#x27;: dp[i][0] = dp[i+1][0] dp[i][1] = dp[i+1][0] + 1 else: dp[i][0] = dp[i+1][1] + 1 dp[i][1] = dp[i+1][1] return dp[0][0]","categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/categories/LeetCode/"},{"name":"åŠ¨æ€è§„åˆ’","slug":"LeetCode/åŠ¨æ€è§„åˆ’","permalink":"http://example.com/categories/LeetCode/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"}],"tags":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/tags/LeetCode/"},{"name":"DP","slug":"DP","permalink":"http://example.com/tags/DP/"}]},{"title":"LCP 25. å¤è‘£é”®ç›˜","slug":"LCP-25-å¤è‘£é”®ç›˜","date":"2020-10-29T08:20:19.000Z","updated":"2022-04-19T12:04:27.730Z","comments":true,"path":"2020/10/29/LCP-25-å¤è‘£é”®ç›˜/","link":"","permalink":"http://example.com/2020/10/29/LCP-25-%E5%8F%A4%E8%91%A3%E9%94%AE%E7%9B%98/","excerpt":"é¢˜ç›®æè¿°å°æ‰£åœ¨ç§‹æ—¥å¸‚é›†è´­ä¹°äº†ä¸€ä¸ªå¤è‘£é”®ç›˜ã€‚ç”±äºå¤è‘£é”®ç›˜å¹´ä¹…å¤±ä¿®ï¼Œé”®ç›˜ä¸Šåªæœ‰ 26 ä¸ªå­—æ¯ a~z å¯ä»¥æŒ‰ä¸‹ï¼Œä¸”æ¯ä¸ªå­—æ¯æœ€å¤šä»…èƒ½è¢«æŒ‰ k æ¬¡ã€‚ å°æ‰£éšæœºæŒ‰äº† n æ¬¡æŒ‰é”®ï¼Œè¯·è¿”å›å°æ‰£æ€»å…±æœ‰å¯èƒ½æŒ‰å‡ºå¤šå°‘ç§å†…å®¹ã€‚ç”±äºæ•°å­—è¾ƒå¤§ï¼Œæœ€ç»ˆç­”æ¡ˆéœ€è¦å¯¹ 1000000007 (1e9 + 7) å–æ¨¡ã€‚","text":"é¢˜ç›®æè¿°å°æ‰£åœ¨ç§‹æ—¥å¸‚é›†è´­ä¹°äº†ä¸€ä¸ªå¤è‘£é”®ç›˜ã€‚ç”±äºå¤è‘£é”®ç›˜å¹´ä¹…å¤±ä¿®ï¼Œé”®ç›˜ä¸Šåªæœ‰ 26 ä¸ªå­—æ¯ a~z å¯ä»¥æŒ‰ä¸‹ï¼Œä¸”æ¯ä¸ªå­—æ¯æœ€å¤šä»…èƒ½è¢«æŒ‰ k æ¬¡ã€‚ å°æ‰£éšæœºæŒ‰äº† n æ¬¡æŒ‰é”®ï¼Œè¯·è¿”å›å°æ‰£æ€»å…±æœ‰å¯èƒ½æŒ‰å‡ºå¤šå°‘ç§å†…å®¹ã€‚ç”±äºæ•°å­—è¾ƒå¤§ï¼Œæœ€ç»ˆç­”æ¡ˆéœ€è¦å¯¹ 1000000007 (1e9 + 7) å–æ¨¡ã€‚ ç¤ºä¾‹ 1ï¼š è¾“å…¥ï¼šk = 1, n = 1 è¾“å‡ºï¼š26 è§£é‡Šï¼šç”±äºåªèƒ½æŒ‰ä¸€æ¬¡æŒ‰é”®ï¼Œæ‰€æœ‰å¯èƒ½çš„å­—ç¬¦ä¸²ä¸º â€œaâ€, â€œbâ€, â€¦ â€œzâ€ ç¤ºä¾‹ 2ï¼š è¾“å…¥ï¼šk = 1, n = 2 è¾“å‡ºï¼š650 è§£é‡Šï¼šç”±äºåªèƒ½æŒ‰ä¸¤æ¬¡æŒ‰é”®ï¼Œä¸”æ¯ä¸ªé”®æœ€å¤šåªèƒ½æŒ‰ä¸€æ¬¡ï¼Œæ‰€æœ‰å¯èƒ½çš„å­—ç¬¦ä¸²ï¼ˆæŒ‰å­—å…¸åºæ’åºï¼‰ä¸º â€œabâ€, â€œacâ€, â€¦ â€œzyâ€ æç¤ºï¼š 1 &lt;= k &lt;= 5 1 &lt;= n &lt;= 26*k æ€è·¯åŠ¨æ€è§„åˆ’$dp[i][j]$è¡¨ç¤ºæ€»é•¿åº¦ä¸º$i$ï¼Œç”¨äº†å‰$j$ç§å­—æ¯å¯èƒ½å‡ºç°çš„å­—ç¬¦ä¸²çš„æ•°é‡ï¼Œå¯ä»¥å¾—åˆ°å¦‚ä¸‹è½¬ç§»æ–¹ç¨‹ã€‚ dp[i][j]=\\sum_{x=0}^kdp[i-x][j-1]Â·C_i^xå…¶ä¸­ï¼Œ$x$è¡¨ç¤ºç¬¬$j$ç§å­—æ¯å‡ºç°çš„æ¬¡æ•°ï¼Œå…¶å€¼å¯ä»¥ä¸º$0,1,..k$ï¼Œå¯¹äºæ¯ä¸€ä¸ª$x$ï¼Œéƒ½æœ‰$C_i^x$ç§ä½ç½®å¯ä»¥é€‰æ‹©ã€‚ä¾‹å¦‚ï¼Œ$x=2$ï¼Œè¡¨ç¤ºç¬¬$j$ç§å­—ç¬¦å‡ºç°äº†$2$æ¬¡ï¼Œä»–å¯èƒ½å‡ºç°åœ¨å‰$i$ä¸ªä½ç½®ä¸­çš„ä»»æ„ä¸¤ä¸ªï¼Œæ˜¯ä¸€ä¸ªç»„åˆé—®é¢˜ï¼Œå…¶ç»“æœæ˜¯$C_i^2$ã€‚ C++ä»£ç 123456789101112131415161718192021222324252627class Solution &#123;public: int keyboard(int k, int n) &#123; vector&lt;vector&lt;long long&gt;&gt; dp(n + 1, vector&lt;long long&gt;(27, 0L)); for(int i = 0;i &lt;= 26;i++) dp[0][i] = 1; for(int i = 1;i&lt;=n;i++) &#123; for(int j = 1;j &lt;= 26;j++) &#123; for(int x = 0;x &lt;= k;x++) &#123; if(i-x &gt;= 0) dp[i][j] += dp[i-x][j-1]*C(i,x); &#125; dp[i][j] %= 1000000007; &#125; &#125; return dp[n][26]; &#125; long long C(int m, int n) &#123; int k = 1; long long ans=1; while(k &lt;= n) &#123; ans=((m-k+1)*ans)/k; k++; &#125; return ans; &#125;&#125;;","categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/categories/LeetCode/"},{"name":"åŠ¨æ€è§„åˆ’","slug":"LeetCode/åŠ¨æ€è§„åˆ’","permalink":"http://example.com/categories/LeetCode/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"}],"tags":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/tags/LeetCode/"},{"name":"DP","slug":"DP","permalink":"http://example.com/tags/DP/"}]}],"categories":[{"name":"C++","slug":"C","permalink":"http://example.com/categories/C/"},{"name":"STL","slug":"C/STL","permalink":"http://example.com/categories/C/STL/"},{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/categories/LeetCode/"},{"name":"å•è°ƒæ ˆ","slug":"LeetCode/å•è°ƒæ ˆ","permalink":"http://example.com/categories/LeetCode/%E5%8D%95%E8%B0%83%E6%A0%88/"},{"name":"å“ˆå¸Œ","slug":"LeetCode/å“ˆå¸Œ","permalink":"http://example.com/categories/LeetCode/%E5%93%88%E5%B8%8C/"},{"name":"é“¾è¡¨","slug":"LeetCode/é“¾è¡¨","permalink":"http://example.com/categories/LeetCode/%E9%93%BE%E8%A1%A8/"},{"name":"æ¨¡æ‹Ÿ","slug":"LeetCode/æ¨¡æ‹Ÿ","permalink":"http://example.com/categories/LeetCode/%E6%A8%A1%E6%8B%9F/"},{"name":"åŠ¨æ€è§„åˆ’","slug":"LeetCode/åŠ¨æ€è§„åˆ’","permalink":"http://example.com/categories/LeetCode/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"},{"name":"å †","slug":"LeetCode/å †","permalink":"http://example.com/categories/LeetCode/%E5%A0%86/"},{"name":"å½’å¹¶æ’åº","slug":"LeetCode/å½’å¹¶æ’åº","permalink":"http://example.com/categories/LeetCode/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F/"},{"name":"è´ªå¿ƒ","slug":"LeetCode/è´ªå¿ƒ","permalink":"http://example.com/categories/LeetCode/%E8%B4%AA%E5%BF%83/"},{"name":"ä½è¿ç®—","slug":"LeetCode/ä½è¿ç®—","permalink":"http://example.com/categories/LeetCode/%E4%BD%8D%E8%BF%90%E7%AE%97/"},{"name":"å¹¿åº¦ä¼˜å…ˆæœç´¢","slug":"LeetCode/å¹¿åº¦ä¼˜å…ˆæœç´¢","permalink":"http://example.com/categories/LeetCode/%E5%B9%BF%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2/"},{"name":"python","slug":"python","permalink":"http://example.com/categories/python/"},{"name":"å¹¶å‘ç¼–ç¨‹","slug":"python/å¹¶å‘ç¼–ç¨‹","permalink":"http://example.com/categories/python/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/"},{"name":"è®°å¿†åŒ–æœç´¢","slug":"LeetCode/è®°å¿†åŒ–æœç´¢","permalink":"http://example.com/categories/LeetCode/%E8%AE%B0%E5%BF%86%E5%8C%96%E6%90%9C%E7%B4%A2/"}],"tags":[{"name":"C++","slug":"C","permalink":"http://example.com/tags/C/"},{"name":"æ¯æ—¥ä¸€é¢˜","slug":"æ¯æ—¥ä¸€é¢˜","permalink":"http://example.com/tags/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/"},{"name":"LeetCode","slug":"LeetCode","permalink":"http://example.com/tags/LeetCode/"},{"name":"å­—ç¬¦ä¸²","slug":"å­—ç¬¦ä¸²","permalink":"http://example.com/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/"},{"name":"Leetcode","slug":"Leetcode","permalink":"http://example.com/tags/Leetcode/"},{"name":"å“ˆå¸Œ","slug":"å“ˆå¸Œ","permalink":"http://example.com/tags/%E5%93%88%E5%B8%8C/"},{"name":"é“¾è¡¨","slug":"é“¾è¡¨","permalink":"http://example.com/tags/%E9%93%BE%E8%A1%A8/"},{"name":"åŒæŒ‡é’ˆ","slug":"åŒæŒ‡é’ˆ","permalink":"http://example.com/tags/%E5%8F%8C%E6%8C%87%E9%92%88/"},{"name":"æ¨¡æ‹Ÿ","slug":"æ¨¡æ‹Ÿ","permalink":"http://example.com/tags/%E6%A8%A1%E6%8B%9F/"},{"name":"DP","slug":"DP","permalink":"http://example.com/tags/DP/"},{"name":"å †","slug":"å †","permalink":"http://example.com/tags/%E5%A0%86/"},{"name":"å•è°ƒæ ˆ","slug":"å•è°ƒæ ˆ","permalink":"http://example.com/tags/%E5%8D%95%E8%B0%83%E6%A0%88/"},{"name":"å‰ç¼€å’Œ","slug":"å‰ç¼€å’Œ","permalink":"http://example.com/tags/%E5%89%8D%E7%BC%80%E5%92%8C/"},{"name":"å½’å¹¶æ’åº","slug":"å½’å¹¶æ’åº","permalink":"http://example.com/tags/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F/"},{"name":"è´ªå¿ƒ","slug":"è´ªå¿ƒ","permalink":"http://example.com/tags/%E8%B4%AA%E5%BF%83/"},{"name":"ä½è¿ç®—","slug":"ä½è¿ç®—","permalink":"http://example.com/tags/%E4%BD%8D%E8%BF%90%E7%AE%97/"},{"name":"BFS","slug":"BFS","permalink":"http://example.com/tags/BFS/"},{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://example.com/tags/%E9%9A%8F%E7%AC%94/"},{"name":"åŒºé—´","slug":"åŒºé—´","permalink":"http://example.com/tags/%E5%8C%BA%E9%97%B4/"},{"name":"äºŒåˆ†æŸ¥æ‰¾","slug":"äºŒåˆ†æŸ¥æ‰¾","permalink":"http://example.com/tags/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/"},{"name":"è½¬è½½","slug":"è½¬è½½","permalink":"http://example.com/tags/%E8%BD%AC%E8%BD%BD/"},{"name":"å¹¶å‘ç¼–ç¨‹","slug":"å¹¶å‘ç¼–ç¨‹","permalink":"http://example.com/tags/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/"},{"name":"æ’åº","slug":"æ’åº","permalink":"http://example.com/tags/%E6%8E%92%E5%BA%8F/"},{"name":"å›æº¯","slug":"å›æº¯","permalink":"http://example.com/tags/%E5%9B%9E%E6%BA%AF/"},{"name":"è®°å¿†åŒ–æœç´¢","slug":"è®°å¿†åŒ–æœç´¢","permalink":"http://example.com/tags/%E8%AE%B0%E5%BF%86%E5%8C%96%E6%90%9C%E7%B4%A2/"},{"name":"è¿­ä»£","slug":"è¿­ä»£","permalink":"http://example.com/tags/%E8%BF%AD%E4%BB%A3/"}]}